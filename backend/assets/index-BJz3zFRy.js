(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(c){if(c.ep)return;c.ep=!0;const p=r(c);fetch(c.href,p)}})();function gc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xu={exports:{}},Us={},ju={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function om(){if(uf)return Be;uf=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),E=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,b={};function K(R,q,ye){this.props=R,this.context=q,this.refs=b,this.updater=ye||U}K.prototype.isReactComponent={},K.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},K.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ne(){}ne.prototype=K.prototype;function $(R,q,ye){this.props=R,this.context=q,this.refs=b,this.updater=ye||U}var Q=$.prototype=new ne;Q.constructor=$,G(Q,K.prototype),Q.isPureReactComponent=!0;var le=Array.isArray,he=Object.prototype.hasOwnProperty,te={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function Re(R,q,ye){var _e,pe={},ae=null,Ve=null;if(q!=null)for(_e in q.ref!==void 0&&(Ve=q.ref),q.key!==void 0&&(ae=""+q.key),q)he.call(q,_e)&&!oe.hasOwnProperty(_e)&&(pe[_e]=q[_e]);var Fe=arguments.length-2;if(Fe===1)pe.children=ye;else if(1<Fe){for(var $e=Array(Fe),yt=0;yt<Fe;yt++)$e[yt]=arguments[yt+2];pe.children=$e}if(R&&R.defaultProps)for(_e in Fe=R.defaultProps,Fe)pe[_e]===void 0&&(pe[_e]=Fe[_e]);return{$$typeof:i,type:R,key:ae,ref:Ve,props:pe,_owner:te.current}}function re(R,q){return{$$typeof:i,type:R.type,key:q,ref:R.ref,props:R.props,_owner:R._owner}}function Ae(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function ve(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ye){return q[ye]})}var Ee=/\/+/g;function We(R,q){return typeof R=="object"&&R!==null&&R.key!=null?ve(""+R.key):q.toString(36)}function Ye(R,q,ye,_e,pe){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var Ve=!1;if(R===null)Ve=!0;else switch(ae){case"string":case"number":Ve=!0;break;case"object":switch(R.$$typeof){case i:case e:Ve=!0}}if(Ve)return Ve=R,pe=pe(Ve),R=_e===""?"."+We(Ve,0):_e,le(pe)?(ye="",R!=null&&(ye=R.replace(Ee,"$&/")+"/"),Ye(pe,q,ye,"",function(yt){return yt})):pe!=null&&(Ae(pe)&&(pe=re(pe,ye+(!pe.key||Ve&&Ve.key===pe.key?"":(""+pe.key).replace(Ee,"$&/")+"/")+R)),q.push(pe)),1;if(Ve=0,_e=_e===""?".":_e+":",le(R))for(var Fe=0;Fe<R.length;Fe++){ae=R[Fe];var $e=_e+We(ae,Fe);Ve+=Ye(ae,q,ye,$e,pe)}else if($e=k(R),typeof $e=="function")for(R=$e.call(R),Fe=0;!(ae=R.next()).done;)ae=ae.value,$e=_e+We(ae,Fe++),Ve+=Ye(ae,q,ye,$e,pe);else if(ae==="object")throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Ie(R,q,ye){if(R==null)return R;var _e=[],pe=0;return Ye(R,_e,"","",function(ae){return q.call(ye,ae,pe++)}),_e}function Te(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(ye){(R._status===0||R._status===-1)&&(R._status=1,R._result=ye)},function(ye){(R._status===0||R._status===-1)&&(R._status=2,R._result=ye)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var De={current:null},O={transition:null},xe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:O,ReactCurrentOwner:te};function W(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:Ie,forEach:function(R,q,ye){Ie(R,function(){q.apply(this,arguments)},ye)},count:function(R){var q=0;return Ie(R,function(){q++}),q},toArray:function(R){return Ie(R,function(q){return q})||[]},only:function(R){if(!Ae(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Be.Component=K,Be.Fragment=r,Be.Profiler=c,Be.PureComponent=$,Be.StrictMode=a,Be.Suspense=w,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Be.act=W,Be.cloneElement=function(R,q,ye){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var _e=G({},R.props),pe=R.key,ae=R.ref,Ve=R._owner;if(q!=null){if(q.ref!==void 0&&(ae=q.ref,Ve=te.current),q.key!==void 0&&(pe=""+q.key),R.type&&R.type.defaultProps)var Fe=R.type.defaultProps;for($e in q)he.call(q,$e)&&!oe.hasOwnProperty($e)&&(_e[$e]=q[$e]===void 0&&Fe!==void 0?Fe[$e]:q[$e])}var $e=arguments.length-2;if($e===1)_e.children=ye;else if(1<$e){Fe=Array($e);for(var yt=0;yt<$e;yt++)Fe[yt]=arguments[yt+2];_e.children=Fe}return{$$typeof:i,type:R.type,key:pe,ref:ae,props:_e,_owner:Ve}},Be.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:p,_context:R},R.Consumer=R},Be.createElement=Re,Be.createFactory=function(R){var q=Re.bind(null,R);return q.type=R,q},Be.createRef=function(){return{current:null}},Be.forwardRef=function(R){return{$$typeof:v,render:R}},Be.isValidElement=Ae,Be.lazy=function(R){return{$$typeof:C,_payload:{_status:-1,_result:R},_init:Te}},Be.memo=function(R,q){return{$$typeof:y,type:R,compare:q===void 0?null:q}},Be.startTransition=function(R){var q=O.transition;O.transition={};try{R()}finally{O.transition=q}},Be.unstable_act=W,Be.useCallback=function(R,q){return De.current.useCallback(R,q)},Be.useContext=function(R){return De.current.useContext(R)},Be.useDebugValue=function(){},Be.useDeferredValue=function(R){return De.current.useDeferredValue(R)},Be.useEffect=function(R,q){return De.current.useEffect(R,q)},Be.useId=function(){return De.current.useId()},Be.useImperativeHandle=function(R,q,ye){return De.current.useImperativeHandle(R,q,ye)},Be.useInsertionEffect=function(R,q){return De.current.useInsertionEffect(R,q)},Be.useLayoutEffect=function(R,q){return De.current.useLayoutEffect(R,q)},Be.useMemo=function(R,q){return De.current.useMemo(R,q)},Be.useReducer=function(R,q,ye){return De.current.useReducer(R,q,ye)},Be.useRef=function(R){return De.current.useRef(R)},Be.useState=function(R){return De.current.useState(R)},Be.useSyncExternalStore=function(R,q,ye){return De.current.useSyncExternalStore(R,q,ye)},Be.useTransition=function(){return De.current.useTransition()},Be.version="18.3.1",Be}var cf;function _c(){return cf||(cf=1,ju.exports=om()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function rm(){if(df)return Us;df=1;var i=_c(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(v,w,y){var C,E={},k=null,U=null;y!==void 0&&(k=""+y),w.key!==void 0&&(k=""+w.key),w.ref!==void 0&&(U=w.ref);for(C in w)a.call(w,C)&&!p.hasOwnProperty(C)&&(E[C]=w[C]);if(v&&v.defaultProps)for(C in w=v.defaultProps,w)E[C]===void 0&&(E[C]=w[C]);return{$$typeof:e,type:v,key:k,ref:U,props:E,_owner:c.current}}return Us.Fragment=r,Us.jsx=m,Us.jsxs=m,Us}var ff;function sm(){return ff||(ff=1,Xu.exports=rm()),Xu.exports}var P=sm(),j=_c();const va=gc(j);var fa={},ec={exports:{}},Ot={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function lm(){return hf||(hf=1,(function(i){function e(O,xe){var W=O.length;O.push(xe);e:for(;0<W;){var R=W-1>>>1,q=O[R];if(0<c(q,xe))O[R]=xe,O[W]=q,W=R;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var xe=O[0],W=O.pop();if(W!==xe){O[0]=W;e:for(var R=0,q=O.length,ye=q>>>1;R<ye;){var _e=2*(R+1)-1,pe=O[_e],ae=_e+1,Ve=O[ae];if(0>c(pe,W))ae<q&&0>c(Ve,pe)?(O[R]=Ve,O[ae]=W,R=ae):(O[R]=pe,O[_e]=W,R=_e);else if(ae<q&&0>c(Ve,W))O[R]=Ve,O[ae]=W,R=ae;else break e}}return xe}function c(O,xe){var W=O.sortIndex-xe.sortIndex;return W!==0?W:O.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;i.unstable_now=function(){return p.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var w=[],y=[],C=1,E=null,k=3,U=!1,G=!1,b=!1,K=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(O){for(var xe=r(y);xe!==null;){if(xe.callback===null)a(y);else if(xe.startTime<=O)a(y),xe.sortIndex=xe.expirationTime,e(w,xe);else break;xe=r(y)}}function le(O){if(b=!1,Q(O),!G)if(r(w)!==null)G=!0,Te(he);else{var xe=r(y);xe!==null&&De(le,xe.startTime-O)}}function he(O,xe){G=!1,b&&(b=!1,ne(Re),Re=-1),U=!0;var W=k;try{for(Q(xe),E=r(w);E!==null&&(!(E.expirationTime>xe)||O&&!ve());){var R=E.callback;if(typeof R=="function"){E.callback=null,k=E.priorityLevel;var q=R(E.expirationTime<=xe);xe=i.unstable_now(),typeof q=="function"?E.callback=q:E===r(w)&&a(w),Q(xe)}else a(w);E=r(w)}if(E!==null)var ye=!0;else{var _e=r(y);_e!==null&&De(le,_e.startTime-xe),ye=!1}return ye}finally{E=null,k=W,U=!1}}var te=!1,oe=null,Re=-1,re=5,Ae=-1;function ve(){return!(i.unstable_now()-Ae<re)}function Ee(){if(oe!==null){var O=i.unstable_now();Ae=O;var xe=!0;try{xe=oe(!0,O)}finally{xe?We():(te=!1,oe=null)}}else te=!1}var We;if(typeof $=="function")We=function(){$(Ee)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ie=Ye.port2;Ye.port1.onmessage=Ee,We=function(){Ie.postMessage(null)}}else We=function(){K(Ee,0)};function Te(O){oe=O,te||(te=!0,We())}function De(O,xe){Re=K(function(){O(i.unstable_now())},xe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_continueExecution=function(){G||U||(G=!0,Te(he))},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return r(w)},i.unstable_next=function(O){switch(k){case 1:case 2:case 3:var xe=3;break;default:xe=k}var W=k;k=xe;try{return O()}finally{k=W}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(O,xe){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=k;k=O;try{return xe()}finally{k=W}},i.unstable_scheduleCallback=function(O,xe,W){var R=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,O={id:C++,callback:xe,priorityLevel:O,startTime:W,expirationTime:q,sortIndex:-1},W>R?(O.sortIndex=W,e(y,O),r(w)===null&&O===r(y)&&(b?(ne(Re),Re=-1):b=!0,De(le,W-R))):(O.sortIndex=q,e(w,O),G||U||(G=!0,Te(he))),O},i.unstable_shouldYield=ve,i.unstable_wrapCallback=function(O){var xe=k;return function(){var W=k;k=xe;try{return O.apply(this,arguments)}finally{k=W}}}})(nc)),nc}var pf;function am(){return pf||(pf=1,tc.exports=lm()),tc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function um(){if(mf)return Ot;mf=1;var i=_c(),e=am();function r(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function p(t,o){m(t,o),m(t+"Capture",o)}function m(t,o){for(c[t]=o,t=0;t<o.length;t++)a.add(o[t])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},E={};function k(t){return w.call(E,t)?!0:w.call(C,t)?!1:y.test(t)?E[t]=!0:(C[t]=!0,!1)}function U(t,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,o,l,h){if(o===null||typeof o>"u"||U(t,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(t,o,l,h,_,T,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=_,this.mustUseProperty=l,this.propertyName=t,this.type=o,this.sanitizeURL=T,this.removeEmptyString=S}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){K[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];K[o]=new b(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){K[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){K[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){K[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){K[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){K[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){K[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){K[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(ne,$);K[o]=new b(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(ne,$);K[o]=new b(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(ne,$);K[o]=new b(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){K[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),K.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){K[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q(t,o,l,h){var _=K.hasOwnProperty(o)?K[o]:null;(_!==null?_.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(G(o,l,_,h)&&(l=null),h||_===null?k(o)&&(l===null?t.removeAttribute(o):t.setAttribute(o,""+l)):_.mustUseProperty?t[_.propertyName]=l===null?_.type===3?!1:"":l:(o=_.attributeName,h=_.attributeNamespace,l===null?t.removeAttribute(o):(_=_.type,l=_===3||_===4&&l===!0?"":""+l,h?t.setAttributeNS(h,o,l):t.setAttribute(o,l))))}var le=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),te=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),ve=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),O=Symbol.iterator;function xe(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,R;function q(t){if(R===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+t}var ye=!1;function _e(t,o){if(!t||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(t,[],o)}else{try{o.call()}catch(H){h=H}t.call(o.prototype)}else{try{throw Error()}catch(H){h=H}t()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var _=H.stack.split(`
`),T=h.stack.split(`
`),S=_.length-1,A=T.length-1;1<=S&&0<=A&&_[S]!==T[A];)A--;for(;1<=S&&0<=A;S--,A--)if(_[S]!==T[A]){if(S!==1||A!==1)do if(S--,A--,0>A||_[S]!==T[A]){var N=`
`+_[S].replace(" at new "," at ");return t.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",t.displayName)),N}while(1<=S&&0<=A);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?q(t):""}function pe(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case te:return"Portal";case re:return"Profiler";case Re:return"StrictMode";case We:return"Suspense";case Ye:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ve:return(t.displayName||"Context")+".Consumer";case Ae:return(t._context.displayName||"Context")+".Provider";case Ee:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ie:return o=t.displayName||null,o!==null?o:ae(t.type)||"Memo";case Te:o=t._payload,t=t._init;try{return ae(t(o))}catch{}}return null}function Ve(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(o);case 8:return o===Re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yt(t){var o=$e(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),h=""+t[o];if(!t.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var _=l.get,T=l.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return _.call(this)},set:function(S){h=""+S,T.call(this,S)}}),Object.defineProperty(t,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function hi(t){t._valueTracker||(t._valueTracker=yt(t))}function pi(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return t&&(h=$e(t)?t.checked?"true":"false":t.value),t=h,t!==l?(o.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ur(t,o){var l=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Fr(t,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Fe(o.value!=null?o.value:l),t._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Br(t,o){o=o.checked,o!=null&&Q(t,"checked",o,!1)}function to(t,o){Br(t,o);var l=Fe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(h==="submit"||h==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?zr(t,o.type,l):o.hasOwnProperty("defaultValue")&&zr(t,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function no(t,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,l||o===t.value||(t.value=o),t.defaultValue=o}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function zr(t,o,l){(o!=="number"||mi(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var gi=Array.isArray;function An(t,o,l,h){if(t=t.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<t.length;l++)_=o.hasOwnProperty("$"+t[l].value),t[l].selected!==_&&(t[l].selected=_),_&&h&&(t[l].defaultSelected=!0)}else{for(l=""+Fe(l),o=null,_=0;_<t.length;_++){if(t[_].value===l){t[_].selected=!0,h&&(t[_].defaultSelected=!0);return}o!==null||t[_].disabled||(o=t[_])}o!==null&&(o.selected=!0)}}function Uo(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vr(t,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(gi(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}t._wrapperState={initialValue:Fe(l)}}function qs(t,o){var l=Fe(o.value),h=Fe(o.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),o.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),h!=null&&(t.defaultValue=""+h)}function Ws(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function Fo(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?Fo(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var io,Zs=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,_){MSApp.execUnsafeLocalFunction(function(){return t(o,l,h,_)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=io.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function _i(t,o){if(o){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=o;return}}t.textContent=o}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ka=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(t){ka.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),vi[o]=vi[t]})});function Hr(t,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||vi.hasOwnProperty(t)&&vi[t]?(""+o).trim():o+"px"}function zo(t,o){t=t.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,_=Hr(l,o[l],h);l==="float"&&(l="cssFloat"),h?t.setProperty(l,_):t[l]=_}}var Js=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function br(t,o){if(o){if(Js[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Gn(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=null;function Or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vo=null,On=null,qn=null;function $s(t){if(t=ni(t)){if(typeof Vo!="function")throw Error(r(280));var o=t.stateNode;o&&(o=fr(o),Vo(t.stateNode,t.type,o))}}function Ys(t){On?qn?qn.push(t):qn=[t]:On=t}function Ks(){if(On){var t=On,o=qn;if(qn=On=null,$s(t),o)for(t=0;t<o.length;t++)$s(o[t])}}function Qs(t,o){return t(o)}function Xs(){}var qr=!1;function Ho(t,o,l){if(qr)return t(o,l);qr=!0;try{return Qs(t,o,l)}finally{qr=!1,(On!==null||qn!==null)&&(Xs(),Ks())}}function oo(t,o){var l=t.stateNode;if(l===null)return null;var h=fr(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(t=t.type,h=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!h;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Wr=!1;if(v)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Wr=!1}function Aa(t,o,l,h,_,T,S,A,N){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(Y){this.onError(Y)}}var xt=!1,me=null,so=!1,bo=null,js={onError:function(t){xt=!0,me=t}};function el(t,o,l,h,_,T,S,A,N){xt=!1,me=null,Aa.apply(js,arguments)}function Zr(t,o,l,h,_,T,S,A,N){if(el.apply(this,arguments),xt){if(xt){var H=me;xt=!1,me=null}else throw Error(r(198));so||(so=!0,bo=H)}}function Mn(t){var o=t,l=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(l=o.return),t=o.return;while(t)}return o.tag===3?l:null}function Wn(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Jr(t){if(Mn(t)!==t)throw Error(r(188))}function Ma(t){var o=t.alternate;if(!o){if(o=Mn(t),o===null)throw Error(r(188));return o!==t?null:t}for(var l=t,h=o;;){var _=l.return;if(_===null)break;var T=_.alternate;if(T===null){if(h=_.return,h!==null){l=h;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===l)return Jr(_),t;if(T===h)return Jr(_),o;T=T.sibling}throw Error(r(188))}if(l.return!==h.return)l=_,h=T;else{for(var S=!1,A=_.child;A;){if(A===l){S=!0,l=_,h=T;break}if(A===h){S=!0,h=_,l=T;break}A=A.sibling}if(!S){for(A=T.child;A;){if(A===l){S=!0,l=T,h=_;break}if(A===h){S=!0,h=T,l=_;break}A=A.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:o}function tl(t){return t=Ma(t),t!==null?nl(t):null}function nl(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=nl(t);if(o!==null)return o;t=t.sibling}return null}var il=e.unstable_scheduleCallback,$r=e.unstable_cancelCallback,La=e.unstable_shouldYield,Go=e.unstable_requestPaint,nt=e.unstable_now,Na=e.unstable_getCurrentPriorityLevel,Yr=e.unstable_ImmediatePriority,ol=e.unstable_UserBlockingPriority,Oo=e.unstable_NormalPriority,Kr=e.unstable_LowPriority,yi=e.unstable_IdlePriority,lo=null,Wt=null;function ao(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(lo,t,void 0,(t.current.flags&128)===128)}catch{}}var Le=Math.clz32?Math.clz32:wi,Xe=Math.log,qo=Math.LN2;function wi(t){return t>>>=0,t===0?32:31-(Xe(t)/qo|0)|0}var _n=64,Ti=4194304;function Me(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ke(t,o){var l=t.pendingLanes;if(l===0)return 0;var h=0,_=t.suspendedLanes,T=t.pingedLanes,S=l&268435455;if(S!==0){var A=S&~_;A!==0?h=Me(A):(T&=S,T!==0&&(h=Me(T)))}else S=l&~_,S!==0?h=Me(S):T!==0&&(h=Me(T));if(h===0)return 0;if(o!==0&&o!==h&&(o&_)===0&&(_=h&-h,T=o&-o,_>=T||_===16&&(T&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=h;0<o;)l=31-Le(o),_=1<<l,h|=t[l],o&=~_;return h}function Qr(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(t,o){for(var l=t.suspendedLanes,h=t.pingedLanes,_=t.expirationTimes,T=t.pendingLanes;0<T;){var S=31-Le(T),A=1<<S,N=_[S];N===-1?((A&l)===0||(A&h)!==0)&&(_[S]=Qr(A,o)):N<=o&&(t.expiredLanes|=A),T&=~A}}function Ct(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rl(){var t=_n;return _n<<=1,(_n&4194240)===0&&(_n=64),t}function xi(t){for(var o=[],l=0;31>l;l++)o.push(t);return o}function Zt(t,o,l){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-Le(o),t[o]=l}function st(t,o){var l=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var h=t.eventTimes;for(t=t.expirationTimes;0<l;){var _=31-Le(l),T=1<<_;o[_]=0,h[_]=-1,t[_]=-1,l&=~T}}function vn(t,o){var l=t.entangledLanes|=o;for(t=t.entanglements;l;){var h=31-Le(l),_=1<<h;_&o|t[h]&o&&(t[h]|=o),l&=~_}}var He=0;function Ci(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Zo,Zn,Jo,$o,uo,co=!1,Si=[],Jt=null,yn=null,on=null,fo=new Map,Pe=new Map,dt=[],Ze="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xr(t,o){switch(t){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":fo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(o.pointerId)}}function Jn(t,o,l,h,_,T){return t===null||t.nativeEvent!==T?(t={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:T,targetContainers:[_]},o!==null&&(o=ni(o),o!==null&&Zn(o)),t):(t.eventSystemFlags|=h,o=t.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),t)}function jr(t,o,l,h,_){switch(o){case"focusin":return Jt=Jn(Jt,t,o,l,h,_),!0;case"dragenter":return yn=Jn(yn,t,o,l,h,_),!0;case"mouseover":return on=Jn(on,t,o,l,h,_),!0;case"pointerover":var T=_.pointerId;return fo.set(T,Jn(fo.get(T)||null,t,o,l,h,_)),!0;case"gotpointercapture":return T=_.pointerId,Pe.set(T,Jn(Pe.get(T)||null,t,o,l,h,_)),!0}return!1}function Yo(t){var o=ti(t.target);if(o!==null){var l=Mn(o);if(l!==null){if(o=l.tag,o===13){if(o=Wn(l),o!==null){t.blockedOn=o,uo(t.priority,function(){Jo(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rn(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var l=Xo(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var h=new l.constructor(l.type,l);Gr=h,l.target.dispatchEvent(h),Gr=null}else return o=ni(l),o!==null&&Zn(o),t.blockedOn=l,!1;o.shift()}return!0}function Ko(t,o,l){rn(t)&&l.delete(o)}function ho(){co=!1,Jt!==null&&rn(Jt)&&(Jt=null),yn!==null&&rn(yn)&&(yn=null),on!==null&&rn(on)&&(on=null),fo.forEach(Ko),Pe.forEach(Ko)}function it(t,o){t.blockedOn===o&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ho)))}function $t(t){function o(_){return it(_,t)}if(0<Si.length){it(Si[0],t);for(var l=1;l<Si.length;l++){var h=Si[l];h.blockedOn===t&&(h.blockedOn=null)}}for(Jt!==null&&it(Jt,t),yn!==null&&it(yn,t),on!==null&&it(on,t),fo.forEach(o),Pe.forEach(o),l=0;l<dt.length;l++)h=dt[l],h.blockedOn===t&&(h.blockedOn=null);for(;0<dt.length&&(l=dt[0],l.blockedOn===null);)Yo(l),l.blockedOn===null&&dt.shift()}var $n=le.ReactCurrentBatchConfig,po=!0;function Ra(t,o,l,h){var _=He,T=$n.transition;$n.transition=null;try{He=1,mo(t,o,l,h)}finally{He=_,$n.transition=T}}function sl(t,o,l,h){var _=He,T=$n.transition;$n.transition=null;try{He=4,mo(t,o,l,h)}finally{He=_,$n.transition=T}}function mo(t,o,l,h){if(po){var _=Xo(t,o,l,h);if(_===null)n(t,o,h,Qo,l),Xr(t,h);else if(jr(_,t,o,l,h))h.stopPropagation();else if(Xr(t,h),o&4&&-1<Ze.indexOf(t)){for(;_!==null;){var T=ni(_);if(T!==null&&Zo(T),T=Xo(t,o,l,h),T===null&&n(t,o,h,Qo,l),T===_)break;_=T}_!==null&&h.stopPropagation()}else n(t,o,h,null,l)}}var Qo=null;function Xo(t,o,l,h){if(Qo=null,t=Or(h),t=ti(t),t!==null)if(o=Mn(t),o===null)t=null;else if(l=o.tag,l===13){if(t=Wn(o),t!==null)return t;t=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return Qo=t,null}function ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Na()){case Yr:return 1;case ol:return 4;case Oo:case Kr:return 16;case yi:return 536870912;default:return 16}default:return 16}}var Ln=null,Lt=null,Nn=null;function es(){if(Nn)return Nn;var t,o=Lt,l=o.length,h,_="value"in Ln?Ln.value:Ln.textContent,T=_.length;for(t=0;t<l&&o[t]===_[t];t++);var S=l-t;for(h=1;h<=S&&o[l-h]===_[T-h];h++);return Nn=_.slice(t,1<h?1-h:void 0)}function jo(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function ll(){return!1}function St(t){function o(l,h,_,T,S){this._reactName=l,this._targetInst=_,this.type=h,this.nativeEvent=T,this.target=S,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(l=t[A],this[A]=l?l(T):T[A]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ei:ll,this.isPropagationStopped=ll,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),o}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=St(Pi),Yn=W({},Pi,{view:0,detail:0}),Da=St(Yn),Ft,ns,Ii,Yt=W({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ft=t.screenX-Ii.screenX,ns=t.screenY-Ii.screenY):ns=Ft=0,Ii=t),Ft)},movementY:function(t){return"movementY"in t?t.movementY:ns}}),is=St(Yt),al=W({},Yt,{dataTransfer:0}),os=St(al),Ua=W({},Yn,{relatedTarget:0}),er=St(Ua),ul=W({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=St(ul),Ba=W({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rs=St(Ba),za=W({},Pi,{data:0}),ss=St(za),cl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Va(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=Kn[t])?!!o[t]:!1}function Qn(){return Va}var Bt=W({},Yn,{key:function(t){if(t.key){var o=cl[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(t){return t.type==="keypress"?jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dl=St(Bt),fl=W({},Yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=St(fl),ls=W({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),as=St(ls),Ha=W({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ba=St(Ha),pl=W({},Yt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=St(pl),Kt=[9,13,27,32],Rn=v&&"CompositionEvent"in window,go=null;v&&"documentMode"in document&&(go=document.documentMode);var wn=v&&"TextEvent"in window&&!go,ml=v&&(!Rn||go&&8<go&&11>=go),Xn=" ",gl=!1;function ki(t,o){switch(t){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function us(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function Oa(t,o){switch(t){case"compositionend":return us(o);case"keypress":return o.which!==32?null:(gl=!0,Xn);case"textInput":return t=o.data,t===Xn&&gl?null:t;default:return null}}function Dn(t,o){if(Tn)return t==="compositionend"||!Rn&&ki(t,o)?(t=es(),Nn=Lt=Ln=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ml&&o.locale!=="ko"?null:o.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _l(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!nr[t.type]:o==="textarea"}function ir(t,o,l,h){Ys(h),o=d(o,"onChange"),0<o.length&&(l=new ts("onChange","change",null,l,h),t.push({event:l,listeners:o}))}var _o=null,Nt=null;function qa(t){vs(t,0)}function xn(t){var o=ii(t);if(pi(o))return t}function Wa(t,o){if(t==="change")return o}var sn=!1;if(v){var Ai;if(v){var or="oninput"in document;if(!or){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),or=typeof rr.oninput=="function"}Ai=or}else Ai=!1;sn=Ai&&(!document.documentMode||9<document.documentMode)}function vo(){_o&&(_o.detachEvent("onpropertychange",sr),Nt=_o=null)}function sr(t){if(t.propertyName==="value"&&xn(Nt)){var o=[];ir(o,Nt,t,Or(t)),Ho(qa,o)}}function lr(t,o,l){t==="focusin"?(vo(),_o=o,Nt=l,_o.attachEvent("onpropertychange",sr)):t==="focusout"&&vo()}function Mi(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xn(Nt)}function ar(t,o){if(t==="click")return xn(o)}function cs(t,o){if(t==="input"||t==="change")return xn(o)}function vl(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Qt=typeof Object.is=="function"?Object.is:vl;function Un(t,o){if(Qt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var l=Object.keys(t),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var _=l[h];if(!w.call(o,_)||!Qt(t[_],o[_]))return!1}return!0}function yl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ds(t,o){var l=yl(t);t=0;for(var h;l;){if(l.nodeType===3){if(h=t+l.textContent.length,t<=o&&h>=o)return{node:l,offset:o-t};t=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yl(l)}}function wl(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?wl(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function fs(){for(var t=window,o=mi();o instanceof t.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)t=o.contentWindow;else break;o=mi(t.document)}return o}function hs(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function ln(t){var o=fs(),l=t.focusedElem,h=t.selectionRange;if(o!==l&&l&&l.ownerDocument&&wl(l.ownerDocument.documentElement,l)){if(h!==null&&hs(l)){if(o=h.start,t=h.end,t===void 0&&(t=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(t,l.value.length);else if(t=(o=l.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var _=l.textContent.length,T=Math.min(h.start,_);h=h.end===void 0?T:Math.min(h.end,_),!t.extend&&T>h&&(_=h,h=T,T=_),_=ds(l,T);var S=ds(l,h);_&&S&&(t.rangeCount!==1||t.anchorNode!==_.node||t.anchorOffset!==_.offset||t.focusNode!==S.node||t.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),t.removeAllRanges(),T>h?(t.addRange(o),t.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),t.addRange(o)))}}for(o=[],t=l;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)t=o[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ur=v&&"documentMode"in document&&11>=document.documentMode,Li=null,Ni=null,yo=null,cr=!1;function Tl(t,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cr||Li==null||Li!==mi(h)||(h=Li,"selectionStart"in h&&hs(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yo&&Un(yo,h)||(yo=h,h=d(Ni,"onSelect"),0<h.length&&(o=new ts("onSelect","select",null,o,l),t.push({event:o,listeners:h}),o.target=Li)))}function Fn(t,o){var l={};return l[t.toLowerCase()]=o.toLowerCase(),l["Webkit"+t]="webkit"+o,l["Moz"+t]="moz"+o,l}var Ri={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionend:Fn("Transition","TransitionEnd")},Bn={},ps={};v&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function wo(t){if(Bn[t])return Bn[t];if(!Ri[t])return t;var o=Ri[t],l;for(l in o)if(o.hasOwnProperty(l)&&l in ps)return Bn[t]=o[l];return t}var xl=wo("animationend"),an=wo("animationiteration"),ms=wo("animationstart"),gs=wo("transitionend"),Di=new Map,Cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(t,o){Di.set(t,o),p(o,[t])}for(var jn=0;jn<Cl.length;jn++){var dr=Cl[jn],Sl=dr.toLowerCase(),Za=dr[0].toUpperCase()+dr.slice(1);Xt(Sl,"on"+Za)}Xt(xl,"onAnimationEnd"),Xt(an,"onAnimationIteration"),Xt(ms,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(gs,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),El=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function _s(t,o,l){var h=t.type||"unknown-event";t.currentTarget=l,Zr(h,o,void 0,t),t.currentTarget=null}function vs(t,o){o=(o&4)!==0;for(var l=0;l<t.length;l++){var h=t[l],_=h.event;h=h.listeners;e:{var T=void 0;if(o)for(var S=h.length-1;0<=S;S--){var A=h[S],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==T&&_.isPropagationStopped())break e;_s(_,A,H),T=N}else for(S=0;S<h.length;S++){if(A=h[S],N=A.instance,H=A.currentTarget,A=A.listener,N!==T&&_.isPropagationStopped())break e;_s(_,A,H),T=N}}}if(so)throw t=bo,so=!1,bo=null,t}function Je(t,o){var l=o[Vi];l===void 0&&(l=o[Vi]=new Set);var h=t+"__bubble";l.has(h)||(Pl(o,t,2,!1),l.add(h))}function ys(t,o,l){var h=0;o&&(h|=4),Pl(l,t,h,o)}var To="_reactListening"+Math.random().toString(36).slice(2);function Fi(t){if(!t[To]){t[To]=!0,a.forEach(function(l){l!=="selectionchange"&&(El.has(l)||ys(l,!1,t),ys(l,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[To]||(o[To]=!0,ys("selectionchange",!1,o))}}function Pl(t,o,l,h){switch(ze(o)){case 1:var _=Ra;break;case 4:_=sl;break;default:_=mo}l=_.bind(null,o,l,t),_=void 0,!Wr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),h?_!==void 0?t.addEventListener(o,l,{capture:!0,passive:_}):t.addEventListener(o,l,!0):_!==void 0?t.addEventListener(o,l,{passive:_}):t.addEventListener(o,l,!1)}function n(t,o,l,h,_){var T=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var A=h.stateNode.containerInfo;if(A===_||A.nodeType===8&&A.parentNode===_)break;if(S===4)for(S=h.return;S!==null;){var N=S.tag;if((N===3||N===4)&&(N=S.stateNode.containerInfo,N===_||N.nodeType===8&&N.parentNode===_))return;S=S.return}for(;A!==null;){if(S=ti(A),S===null)return;if(N=S.tag,N===5||N===6){h=T=S;continue e}A=A.parentNode}}h=h.return}Ho(function(){var H=T,Y=Or(l),X=[];e:{var J=Di.get(t);if(J!==void 0){var se=ts,ce=t;switch(t){case"keypress":if(jo(l)===0)break e;case"keydown":case"keyup":se=dl;break;case"focusin":ce="focus",se=er;break;case"focusout":ce="blur",se=er;break;case"beforeblur":case"afterblur":se=er;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=as;break;case xl:case an:case ms:se=Fa;break;case gs:se=ba;break;case"scroll":se=Da;break;case"wheel":se=Ga;break;case"copy":case"cut":case"paste":se=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=hl}var fe=(o&4)!==0,at=!fe&&t==="scroll",B=fe?J!==null?J+"Capture":null:J;fe=[];for(var D=H,z;D!==null;){z=D;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,B!==null&&(ee=oo(D,B),ee!=null&&fe.push(s(D,ee,z)))),at)break;D=D.return}0<fe.length&&(J=new se(J,ce,null,l,Y),X.push({event:J,listeners:fe}))}}if((o&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",J&&l!==Gr&&(ce=l.relatedTarget||l.fromElement)&&(ti(ce)||ce[qe]))break e;if((se||J)&&(J=Y.window===Y?Y:(J=Y.ownerDocument)?J.defaultView||J.parentWindow:window,se?(ce=l.relatedTarget||l.toElement,se=H,ce=ce?ti(ce):null,ce!==null&&(at=Mn(ce),ce!==at||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=H),se!==ce)){if(fe=is,ee="onMouseLeave",B="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(fe=hl,ee="onPointerLeave",B="onPointerEnter",D="pointer"),at=se==null?J:ii(se),z=ce==null?J:ii(ce),J=new fe(ee,D+"leave",se,l,Y),J.target=at,J.relatedTarget=z,ee=null,ti(Y)===H&&(fe=new fe(B,D+"enter",ce,l,Y),fe.target=z,fe.relatedTarget=at,ee=fe),at=ee,se&&ce)t:{for(fe=se,B=ce,D=0,z=fe;z;z=g(z))D++;for(z=0,ee=B;ee;ee=g(ee))z++;for(;0<D-z;)fe=g(fe),D--;for(;0<z-D;)B=g(B),z--;for(;D--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=g(fe),B=g(B)}fe=null}else fe=null;se!==null&&x(X,J,se,fe,!1),ce!==null&&at!==null&&x(X,at,ce,fe,!0)}}e:{if(J=H?ii(H):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var ge=Wa;else if(_l(J))if(sn)ge=cs;else{ge=Mi;var Ce=lr}else(se=J.nodeName)&&se.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=ar);if(ge&&(ge=ge(t,H))){ir(X,ge,l,Y);break e}Ce&&Ce(t,J,H),t==="focusout"&&(Ce=J._wrapperState)&&Ce.controlled&&J.type==="number"&&zr(J,"number",J.value)}switch(Ce=H?ii(H):window,t){case"focusin":(_l(Ce)||Ce.contentEditable==="true")&&(Li=Ce,Ni=H,yo=null);break;case"focusout":yo=Ni=Li=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,Tl(X,l,Y);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":Tl(X,l,Y)}var Se;if(Rn)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Tn?ki(t,l)&&(ke="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(ml&&l.locale!=="ko"&&(Tn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Tn&&(Se=es()):(Ln=Y,Lt="value"in Ln?Ln.value:Ln.textContent,Tn=!0)),Ce=d(H,ke),0<Ce.length&&(ke=new ss(ke,t,null,l,Y),X.push({event:ke,listeners:Ce}),Se?ke.data=Se:(Se=us(l),Se!==null&&(ke.data=Se)))),(Se=wn?Oa(t,l):Dn(t,l))&&(H=d(H,"onBeforeInput"),0<H.length&&(Y=new ss("onBeforeInput","beforeinput",null,l,Y),X.push({event:Y,listeners:H}),Y.data=Se))}vs(X,o)})}function s(t,o,l){return{instance:t,listener:o,currentTarget:l}}function d(t,o){for(var l=o+"Capture",h=[];t!==null;){var _=t,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=oo(t,l),T!=null&&h.unshift(s(t,T,_)),T=oo(t,o),T!=null&&h.push(s(t,T,_))),t=t.return}return h}function g(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x(t,o,l,h,_){for(var T=o._reactName,S=[];l!==null&&l!==h;){var A=l,N=A.alternate,H=A.stateNode;if(N!==null&&N===h)break;A.tag===5&&H!==null&&(A=H,_?(N=oo(l,T),N!=null&&S.unshift(s(l,N,A))):_||(N=oo(l,T),N!=null&&S.push(s(l,N,A)))),l=l.return}S.length!==0&&t.push({event:o,listeners:S})}var I=/\r\n?/g,M=/\u0000|\uFFFD/g;function F(t){return(typeof t=="string"?t:""+t).replace(I,`
`).replace(M,"")}function V(t,o,l){if(o=F(o),F(t)!==o&&l)throw Error(r(425))}function Z(){}var ie=null,we=null;function Ne(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ft=typeof setTimeout=="function"?setTimeout:void 0,ut=typeof clearTimeout=="function"?clearTimeout:void 0,Rt=typeof Promise=="function"?Promise:void 0,Et=typeof queueMicrotask=="function"?queueMicrotask:typeof Rt<"u"?function(t){return Rt.resolve(null).then(t).catch(Bi)}:ft;function Bi(t){setTimeout(function(){throw t})}function ws(t,o){var l=o,h=0;do{var _=l.nextSibling;if(t.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(h===0){t.removeChild(_),$t(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=_}while(l);$t(o)}function zn(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function Il(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return t;o--}else l==="/$"&&o++}t=t.previousSibling}return null}var ei=Math.random().toString(36).slice(2),un="__reactFiber$"+ei,zi="__reactProps$"+ei,qe="__reactContainer$"+ei,Vi="__reactEvents$"+ei,Ja="__reactListeners$"+ei,$a="__reactHandles$"+ei;function ti(t){var o=t[un];if(o)return o;for(var l=t.parentNode;l;){if(o=l[qe]||l[un]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(t=Il(t);t!==null;){if(l=t[un])return l;t=Il(t)}return o}t=l,l=t.parentNode}return null}function ni(t){return t=t[un]||t[qe],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function fr(t){return t[zi]||null}var Ya=[],hr=-1;function Hi(t){return{current:t}}function je(t){0>hr||(t.current=Ya[hr],Ya[hr]=null,hr--)}function Qe(t,o){hr++,Ya[hr]=t.current,t.current=o}var bi={},Pt=Hi(bi),zt=Hi(!1),xo=bi;function pr(t,o){var l=t.type.contextTypes;if(!l)return bi;var h=t.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in l)_[T]=o[T];return h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=_),_}function Vt(t){return t=t.childContextTypes,t!=null}function kl(){je(zt),je(Pt)}function Mc(t,o,l){if(Pt.current!==bi)throw Error(r(168));Qe(Pt,o),Qe(zt,l)}function Lc(t,o,l){var h=t.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var _ in h)if(!(_ in o))throw Error(r(108,Ve(t)||"Unknown",_));return W({},l,h)}function Al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,xo=Pt.current,Qe(Pt,t),Qe(zt,zt.current),!0}function Nc(t,o,l){var h=t.stateNode;if(!h)throw Error(r(169));l?(t=Lc(t,o,xo),h.__reactInternalMemoizedMergedChildContext=t,je(zt),je(Pt),Qe(Pt,t)):je(zt),Qe(zt,l)}var oi=null,Ml=!1,Ka=!1;function Rc(t){oi===null?oi=[t]:oi.push(t)}function Cp(t){Ml=!0,Rc(t)}function Gi(){if(!Ka&&oi!==null){Ka=!0;var t=0,o=He;try{var l=oi;for(He=1;t<l.length;t++){var h=l[t];do h=h(!0);while(h!==null)}oi=null,Ml=!1}catch(_){throw oi!==null&&(oi=oi.slice(t+1)),il(Yr,Gi),_}finally{He=o,Ka=!1}}return null}var mr=[],gr=0,Ll=null,Nl=0,cn=[],dn=0,Co=null,ri=1,si="";function So(t,o){mr[gr++]=Nl,mr[gr++]=Ll,Ll=t,Nl=o}function Dc(t,o,l){cn[dn++]=ri,cn[dn++]=si,cn[dn++]=Co,Co=t;var h=ri;t=si;var _=32-Le(h)-1;h&=~(1<<_),l+=1;var T=32-Le(o)+_;if(30<T){var S=_-_%5;T=(h&(1<<S)-1).toString(32),h>>=S,_-=S,ri=1<<32-Le(o)+_|l<<_|h,si=T+t}else ri=1<<T|l<<_|h,si=t}function Qa(t){t.return!==null&&(So(t,1),Dc(t,1,0))}function Xa(t){for(;t===Ll;)Ll=mr[--gr],mr[gr]=null,Nl=mr[--gr],mr[gr]=null;for(;t===Co;)Co=cn[--dn],cn[dn]=null,si=cn[--dn],cn[dn]=null,ri=cn[--dn],cn[dn]=null}var jt=null,en=null,tt=!1,Cn=null;function Uc(t,o){var l=mn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=t,o=t.deletions,o===null?(t.deletions=[l],t.flags|=16):o.push(l)}function Fc(t,o){switch(t.tag){case 5:var l=t.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,jt=t,en=zn(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,jt=t,en=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Co!==null?{id:ri,overflow:si}:null,t.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=mn(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,jt=t,en=null,!0):!1;default:return!1}}function ja(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eu(t){if(tt){var o=en;if(o){var l=o;if(!Fc(t,o)){if(ja(t))throw Error(r(418));o=zn(l.nextSibling);var h=jt;o&&Fc(t,o)?Uc(h,l):(t.flags=t.flags&-4097|2,tt=!1,jt=t)}}else{if(ja(t))throw Error(r(418));t.flags=t.flags&-4097|2,tt=!1,jt=t}}}function Bc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Rl(t){if(t!==jt)return!1;if(!tt)return Bc(t),tt=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!Ne(t.type,t.memoizedProps)),o&&(o=en)){if(ja(t))throw zc(),Error(r(418));for(;o;)Uc(t,o),o=zn(o.nextSibling)}if(Bc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(o===0){en=zn(t.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}t=t.nextSibling}en=null}}else en=jt?zn(t.stateNode.nextSibling):null;return!0}function zc(){for(var t=en;t;)t=zn(t.nextSibling)}function _r(){en=jt=null,tt=!1}function tu(t){Cn===null?Cn=[t]:Cn.push(t)}var Sp=le.ReactCurrentBatchConfig;function Ts(t,o,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,t));var _=h,T=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===T?o.ref:(o=function(S){var A=_.refs;S===null?delete A[T]:A[T]=S},o._stringRef=T,o)}if(typeof t!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,t))}return t}function Dl(t,o){throw t=Object.prototype.toString.call(o),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function Vc(t){var o=t._init;return o(t._payload)}function Hc(t){function o(B,D){if(t){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function l(B,D){if(!t)return null;for(;D!==null;)o(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function _(B,D){return B=Ki(B,D),B.index=0,B.sibling=null,B}function T(B,D,z){return B.index=z,t?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function S(B){return t&&B.alternate===null&&(B.flags|=2),B}function A(B,D,z,ee){return D===null||D.tag!==6?(D=Zu(z,B.mode,ee),D.return=B,D):(D=_(D,z),D.return=B,D)}function N(B,D,z,ee){var ge=z.type;return ge===oe?Y(B,D,z.props.children,ee,z.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Vc(ge)===D.type)?(ee=_(D,z.props),ee.ref=Ts(B,D,z),ee.return=B,ee):(ee=oa(z.type,z.key,z.props,null,B.mode,ee),ee.ref=Ts(B,D,z),ee.return=B,ee)}function H(B,D,z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Ju(z,B.mode,ee),D.return=B,D):(D=_(D,z.children||[]),D.return=B,D)}function Y(B,D,z,ee,ge){return D===null||D.tag!==7?(D=No(z,B.mode,ee,ge),D.return=B,D):(D=_(D,z),D.return=B,D)}function X(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Zu(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case he:return z=oa(D.type,D.key,D.props,null,B.mode,z),z.ref=Ts(B,null,D),z.return=B,z;case te:return D=Ju(D,B.mode,z),D.return=B,D;case Te:var ee=D._init;return X(B,ee(D._payload),z)}if(gi(D)||xe(D))return D=No(D,B.mode,z,null),D.return=B,D;Dl(B,D)}return null}function J(B,D,z,ee){var ge=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:A(B,D,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case he:return z.key===ge?N(B,D,z,ee):null;case te:return z.key===ge?H(B,D,z,ee):null;case Te:return ge=z._init,J(B,D,ge(z._payload),ee)}if(gi(z)||xe(z))return ge!==null?null:Y(B,D,z,ee,null);Dl(B,z)}return null}function se(B,D,z,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return B=B.get(z)||null,A(D,B,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case he:return B=B.get(ee.key===null?z:ee.key)||null,N(D,B,ee,ge);case te:return B=B.get(ee.key===null?z:ee.key)||null,H(D,B,ee,ge);case Te:var Ce=ee._init;return se(B,D,z,Ce(ee._payload),ge)}if(gi(ee)||xe(ee))return B=B.get(z)||null,Y(D,B,ee,ge,null);Dl(D,ee)}return null}function ce(B,D,z,ee){for(var ge=null,Ce=null,Se=D,ke=D=0,vt=null;Se!==null&&ke<z.length;ke++){Se.index>ke?(vt=Se,Se=null):vt=Se.sibling;var Ge=J(B,Se,z[ke],ee);if(Ge===null){Se===null&&(Se=vt);break}t&&Se&&Ge.alternate===null&&o(B,Se),D=T(Ge,D,ke),Ce===null?ge=Ge:Ce.sibling=Ge,Ce=Ge,Se=vt}if(ke===z.length)return l(B,Se),tt&&So(B,ke),ge;if(Se===null){for(;ke<z.length;ke++)Se=X(B,z[ke],ee),Se!==null&&(D=T(Se,D,ke),Ce===null?ge=Se:Ce.sibling=Se,Ce=Se);return tt&&So(B,ke),ge}for(Se=h(B,Se);ke<z.length;ke++)vt=se(Se,B,ke,z[ke],ee),vt!==null&&(t&&vt.alternate!==null&&Se.delete(vt.key===null?ke:vt.key),D=T(vt,D,ke),Ce===null?ge=vt:Ce.sibling=vt,Ce=vt);return t&&Se.forEach(function(Qi){return o(B,Qi)}),tt&&So(B,ke),ge}function fe(B,D,z,ee){var ge=xe(z);if(typeof ge!="function")throw Error(r(150));if(z=ge.call(z),z==null)throw Error(r(151));for(var Ce=ge=null,Se=D,ke=D=0,vt=null,Ge=z.next();Se!==null&&!Ge.done;ke++,Ge=z.next()){Se.index>ke?(vt=Se,Se=null):vt=Se.sibling;var Qi=J(B,Se,Ge.value,ee);if(Qi===null){Se===null&&(Se=vt);break}t&&Se&&Qi.alternate===null&&o(B,Se),D=T(Qi,D,ke),Ce===null?ge=Qi:Ce.sibling=Qi,Ce=Qi,Se=vt}if(Ge.done)return l(B,Se),tt&&So(B,ke),ge;if(Se===null){for(;!Ge.done;ke++,Ge=z.next())Ge=X(B,Ge.value,ee),Ge!==null&&(D=T(Ge,D,ke),Ce===null?ge=Ge:Ce.sibling=Ge,Ce=Ge);return tt&&So(B,ke),ge}for(Se=h(B,Se);!Ge.done;ke++,Ge=z.next())Ge=se(Se,B,ke,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&Se.delete(Ge.key===null?ke:Ge.key),D=T(Ge,D,ke),Ce===null?ge=Ge:Ce.sibling=Ge,Ce=Ge);return t&&Se.forEach(function(im){return o(B,im)}),tt&&So(B,ke),ge}function at(B,D,z,ee){if(typeof z=="object"&&z!==null&&z.type===oe&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case he:e:{for(var ge=z.key,Ce=D;Ce!==null;){if(Ce.key===ge){if(ge=z.type,ge===oe){if(Ce.tag===7){l(B,Ce.sibling),D=_(Ce,z.props.children),D.return=B,B=D;break e}}else if(Ce.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Vc(ge)===Ce.type){l(B,Ce.sibling),D=_(Ce,z.props),D.ref=Ts(B,Ce,z),D.return=B,B=D;break e}l(B,Ce);break}else o(B,Ce);Ce=Ce.sibling}z.type===oe?(D=No(z.props.children,B.mode,ee,z.key),D.return=B,B=D):(ee=oa(z.type,z.key,z.props,null,B.mode,ee),ee.ref=Ts(B,D,z),ee.return=B,B=ee)}return S(B);case te:e:{for(Ce=z.key;D!==null;){if(D.key===Ce)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){l(B,D.sibling),D=_(D,z.children||[]),D.return=B,B=D;break e}else{l(B,D);break}else o(B,D);D=D.sibling}D=Ju(z,B.mode,ee),D.return=B,B=D}return S(B);case Te:return Ce=z._init,at(B,D,Ce(z._payload),ee)}if(gi(z))return ce(B,D,z,ee);if(xe(z))return fe(B,D,z,ee);Dl(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(l(B,D.sibling),D=_(D,z),D.return=B,B=D):(l(B,D),D=Zu(z,B.mode,ee),D.return=B,B=D),S(B)):l(B,D)}return at}var vr=Hc(!0),bc=Hc(!1),Ul=Hi(null),Fl=null,yr=null,nu=null;function iu(){nu=yr=Fl=null}function ou(t){var o=Ul.current;je(Ul),t._currentValue=o}function ru(t,o,l){for(;t!==null;){var h=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),t===l)break;t=t.return}}function wr(t,o){Fl=t,nu=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(Ht=!0),t.firstContext=null)}function fn(t){var o=t._currentValue;if(nu!==t)if(t={context:t,memoizedValue:o,next:null},yr===null){if(Fl===null)throw Error(r(308));yr=t,Fl.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return o}var Eo=null;function su(t){Eo===null?Eo=[t]:Eo.push(t)}function Gc(t,o,l,h){var _=o.interleaved;return _===null?(l.next=l,su(o)):(l.next=_.next,_.next=l),o.interleaved=l,li(t,h)}function li(t,o){t.lanes|=o;var l=t.alternate;for(l!==null&&(l.lanes|=o),l=t,t=t.return;t!==null;)t.childLanes|=o,l=t.alternate,l!==null&&(l.childLanes|=o),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Oi=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oc(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function qi(t,o,l){var h=t.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var _=h.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),h.pending=o,li(t,l)}return _=h.interleaved,_===null?(o.next=o,su(h)):(o.next=_.next,_.next=o),h.interleaved=o,li(t,l)}function Bl(t,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=t.pendingLanes,l|=h,o.lanes=l,vn(t,l)}}function qc(t,o){var l=t.updateQueue,h=t.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var _=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};T===null?_=T=S:T=T.next=S,l=l.next}while(l!==null);T===null?_=T=o:T=T.next=o}else _=T=o;l={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:h.shared,effects:h.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=o:t.next=o,l.lastBaseUpdate=o}function zl(t,o,l,h){var _=t.updateQueue;Oi=!1;var T=_.firstBaseUpdate,S=_.lastBaseUpdate,A=_.shared.pending;if(A!==null){_.shared.pending=null;var N=A,H=N.next;N.next=null,S===null?T=H:S.next=H,S=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==S&&(A===null?Y.firstBaseUpdate=H:A.next=H,Y.lastBaseUpdate=N))}if(T!==null){var X=_.baseState;S=0,Y=H=N=null,A=T;do{var J=A.lane,se=A.eventTime;if((h&J)===J){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=t,fe=A;switch(J=o,se=l,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){X=ce.call(se,X,J);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,J=typeof ce=="function"?ce.call(se,X,J):ce,J==null)break e;X=W({},X,J);break e;case 2:Oi=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,J=_.effects,J===null?_.effects=[A]:J.push(A))}else se={eventTime:se,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(H=Y=se,N=X):Y=Y.next=se,S|=J;if(A=A.next,A===null){if(A=_.shared.pending,A===null)break;J=A,A=J.next,J.next=null,_.lastBaseUpdate=J,_.shared.pending=null}}while(!0);if(Y===null&&(N=X),_.baseState=N,_.firstBaseUpdate=H,_.lastBaseUpdate=Y,o=_.shared.interleaved,o!==null){_=o;do S|=_.lane,_=_.next;while(_!==o)}else T===null&&(_.shared.lanes=0);ko|=S,t.lanes=S,t.memoizedState=X}}function Wc(t,o,l){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var h=t[o],_=h.callback;if(_!==null){if(h.callback=null,h=l,typeof _!="function")throw Error(r(191,_));_.call(h)}}}var xs={},Vn=Hi(xs),Cs=Hi(xs),Ss=Hi(xs);function Po(t){if(t===xs)throw Error(r(174));return t}function au(t,o){switch(Qe(Ss,o),Qe(Cs,t),Qe(Vn,xs),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Bo(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=Bo(o,t)}je(Vn),Qe(Vn,o)}function Tr(){je(Vn),je(Cs),je(Ss)}function Zc(t){Po(Ss.current);var o=Po(Vn.current),l=Bo(o,t.type);o!==l&&(Qe(Cs,t),Qe(Vn,l))}function uu(t){Cs.current===t&&(je(Vn),je(Cs))}var ot=Hi(0);function Vl(t){for(var o=t;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var cu=[];function du(){for(var t=0;t<cu.length;t++)cu[t]._workInProgressVersionPrimary=null;cu.length=0}var Hl=le.ReactCurrentDispatcher,fu=le.ReactCurrentBatchConfig,Io=0,rt=null,ht=null,gt=null,bl=!1,Es=!1,Ps=0,Ep=0;function It(){throw Error(r(321))}function hu(t,o){if(o===null)return!1;for(var l=0;l<o.length&&l<t.length;l++)if(!Qt(t[l],o[l]))return!1;return!0}function pu(t,o,l,h,_,T){if(Io=T,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Hl.current=t===null||t.memoizedState===null?Ap:Mp,t=l(h,_),Es){T=0;do{if(Es=!1,Ps=0,25<=T)throw Error(r(301));T+=1,gt=ht=null,o.updateQueue=null,Hl.current=Lp,t=l(h,_)}while(Es)}if(Hl.current=ql,o=ht!==null&&ht.next!==null,Io=0,gt=ht=rt=null,bl=!1,o)throw Error(r(300));return t}function mu(){var t=Ps!==0;return Ps=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?rt.memoizedState=gt=t:gt=gt.next=t,gt}function hn(){if(ht===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var o=gt===null?rt.memoizedState:gt.next;if(o!==null)gt=o,ht=t;else{if(t===null)throw Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?rt.memoizedState=gt=t:gt=gt.next=t}return gt}function Is(t,o){return typeof o=="function"?o(t):o}function gu(t){var o=hn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var h=ht,_=h.baseQueue,T=l.pending;if(T!==null){if(_!==null){var S=_.next;_.next=T.next,T.next=S}h.baseQueue=_=T,l.pending=null}if(_!==null){T=_.next,h=h.baseState;var A=S=null,N=null,H=T;do{var Y=H.lane;if((Io&Y)===Y)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:t(h,H.action);else{var X={lane:Y,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(A=N=X,S=h):N=N.next=X,rt.lanes|=Y,ko|=Y}H=H.next}while(H!==null&&H!==T);N===null?S=h:N.next=A,Qt(h,o.memoizedState)||(Ht=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=N,l.lastRenderedState=h}if(t=l.interleaved,t!==null){_=t;do T=_.lane,rt.lanes|=T,ko|=T,_=_.next;while(_!==t)}else _===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function _u(t){var o=hn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var h=l.dispatch,_=l.pending,T=o.memoizedState;if(_!==null){l.pending=null;var S=_=_.next;do T=t(T,S.action),S=S.next;while(S!==_);Qt(T,o.memoizedState)||(Ht=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),l.lastRenderedState=T}return[T,h]}function Jc(){}function $c(t,o){var l=rt,h=hn(),_=o(),T=!Qt(h.memoizedState,_);if(T&&(h.memoizedState=_,Ht=!0),h=h.queue,vu(Qc.bind(null,l,h,t),[t]),h.getSnapshot!==o||T||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,ks(9,Kc.bind(null,l,h,_,o),void 0,null),_t===null)throw Error(r(349));(Io&30)!==0||Yc(l,o,_)}return _}function Yc(t,o,l){t.flags|=16384,t={getSnapshot:o,value:l},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[t]):(l=o.stores,l===null?o.stores=[t]:l.push(t))}function Kc(t,o,l,h){o.value=l,o.getSnapshot=h,Xc(o)&&jc(t)}function Qc(t,o,l){return l(function(){Xc(o)&&jc(t)})}function Xc(t){var o=t.getSnapshot;t=t.value;try{var l=o();return!Qt(t,l)}catch{return!0}}function jc(t){var o=li(t,1);o!==null&&In(o,t,1,-1)}function ed(t){var o=Hn();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},o.queue=t,t=t.dispatch=kp.bind(null,rt,t),[o.memoizedState,t]}function ks(t,o,l,h){return t={tag:t,create:o,destroy:l,deps:h,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=t.next=t):(l=o.lastEffect,l===null?o.lastEffect=t.next=t:(h=l.next,l.next=t,t.next=h,o.lastEffect=t)),t}function td(){return hn().memoizedState}function Gl(t,o,l,h){var _=Hn();rt.flags|=t,_.memoizedState=ks(1|o,l,void 0,h===void 0?null:h)}function Ol(t,o,l,h){var _=hn();h=h===void 0?null:h;var T=void 0;if(ht!==null){var S=ht.memoizedState;if(T=S.destroy,h!==null&&hu(h,S.deps)){_.memoizedState=ks(o,l,T,h);return}}rt.flags|=t,_.memoizedState=ks(1|o,l,T,h)}function nd(t,o){return Gl(8390656,8,t,o)}function vu(t,o){return Ol(2048,8,t,o)}function id(t,o){return Ol(4,2,t,o)}function od(t,o){return Ol(4,4,t,o)}function rd(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function sd(t,o,l){return l=l!=null?l.concat([t]):null,Ol(4,4,rd.bind(null,o,t),l)}function yu(){}function ld(t,o){var l=hn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&hu(o,h[1])?h[0]:(l.memoizedState=[t,o],t)}function ad(t,o){var l=hn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&hu(o,h[1])?h[0]:(t=t(),l.memoizedState=[t,o],t)}function ud(t,o,l){return(Io&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=l):(Qt(l,o)||(l=rl(),rt.lanes|=l,ko|=l,t.baseState=!0),o)}function Pp(t,o){var l=He;He=l!==0&&4>l?l:4,t(!0);var h=fu.transition;fu.transition={};try{t(!1),o()}finally{He=l,fu.transition=h}}function cd(){return hn().memoizedState}function Ip(t,o,l){var h=$i(t);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},dd(t))fd(o,l);else if(l=Gc(t,o,l,h),l!==null){var _=Ut();In(l,t,h,_),hd(l,o,h)}}function kp(t,o,l){var h=$i(t),_={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(dd(t))fd(o,_);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var S=o.lastRenderedState,A=T(S,l);if(_.hasEagerState=!0,_.eagerState=A,Qt(A,S)){var N=o.interleaved;N===null?(_.next=_,su(o)):(_.next=N.next,N.next=_),o.interleaved=_;return}}catch{}finally{}l=Gc(t,o,_,h),l!==null&&(_=Ut(),In(l,t,h,_),hd(l,o,h))}}function dd(t){var o=t.alternate;return t===rt||o!==null&&o===rt}function fd(t,o){Es=bl=!0;var l=t.pending;l===null?o.next=o:(o.next=l.next,l.next=o),t.pending=o}function hd(t,o,l){if((l&4194240)!==0){var h=o.lanes;h&=t.pendingLanes,l|=h,o.lanes=l,vn(t,l)}}var ql={readContext:fn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Ap={readContext:fn,useCallback:function(t,o){return Hn().memoizedState=[t,o===void 0?null:o],t},useContext:fn,useEffect:nd,useImperativeHandle:function(t,o,l){return l=l!=null?l.concat([t]):null,Gl(4194308,4,rd.bind(null,o,t),l)},useLayoutEffect:function(t,o){return Gl(4194308,4,t,o)},useInsertionEffect:function(t,o){return Gl(4,2,t,o)},useMemo:function(t,o){var l=Hn();return o=o===void 0?null:o,t=t(),l.memoizedState=[t,o],t},useReducer:function(t,o,l){var h=Hn();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},h.queue=t,t=t.dispatch=Ip.bind(null,rt,t),[h.memoizedState,t]},useRef:function(t){var o=Hn();return t={current:t},o.memoizedState=t},useState:ed,useDebugValue:yu,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=ed(!1),o=t[0];return t=Pp.bind(null,t[1]),Hn().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,l){var h=rt,_=Hn();if(tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),_t===null)throw Error(r(349));(Io&30)!==0||Yc(h,o,l)}_.memoizedState=l;var T={value:l,getSnapshot:o};return _.queue=T,nd(Qc.bind(null,h,T,t),[t]),h.flags|=2048,ks(9,Kc.bind(null,h,T,l,o),void 0,null),l},useId:function(){var t=Hn(),o=_t.identifierPrefix;if(tt){var l=si,h=ri;l=(h&~(1<<32-Le(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ps++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Ep++,o=":"+o+"r"+l.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},Mp={readContext:fn,useCallback:ld,useContext:fn,useEffect:vu,useImperativeHandle:sd,useInsertionEffect:id,useLayoutEffect:od,useMemo:ad,useReducer:gu,useRef:td,useState:function(){return gu(Is)},useDebugValue:yu,useDeferredValue:function(t){var o=hn();return ud(o,ht.memoizedState,t)},useTransition:function(){var t=gu(Is)[0],o=hn().memoizedState;return[t,o]},useMutableSource:Jc,useSyncExternalStore:$c,useId:cd,unstable_isNewReconciler:!1},Lp={readContext:fn,useCallback:ld,useContext:fn,useEffect:vu,useImperativeHandle:sd,useInsertionEffect:id,useLayoutEffect:od,useMemo:ad,useReducer:_u,useRef:td,useState:function(){return _u(Is)},useDebugValue:yu,useDeferredValue:function(t){var o=hn();return ht===null?o.memoizedState=t:ud(o,ht.memoizedState,t)},useTransition:function(){var t=_u(Is)[0],o=hn().memoizedState;return[t,o]},useMutableSource:Jc,useSyncExternalStore:$c,useId:cd,unstable_isNewReconciler:!1};function Sn(t,o){if(t&&t.defaultProps){o=W({},o),t=t.defaultProps;for(var l in t)o[l]===void 0&&(o[l]=t[l]);return o}return o}function wu(t,o,l,h){o=t.memoizedState,l=l(h,o),l=l==null?o:W({},o,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Wl={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,o,l){t=t._reactInternals;var h=Ut(),_=$i(t),T=ai(h,_);T.payload=o,l!=null&&(T.callback=l),o=qi(t,T,_),o!==null&&(In(o,t,_,h),Bl(o,t,_))},enqueueReplaceState:function(t,o,l){t=t._reactInternals;var h=Ut(),_=$i(t),T=ai(h,_);T.tag=1,T.payload=o,l!=null&&(T.callback=l),o=qi(t,T,_),o!==null&&(In(o,t,_,h),Bl(o,t,_))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var l=Ut(),h=$i(t),_=ai(l,h);_.tag=2,o!=null&&(_.callback=o),o=qi(t,_,h),o!==null&&(In(o,t,h,l),Bl(o,t,h))}};function pd(t,o,l,h,_,T,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(h,T,S):o.prototype&&o.prototype.isPureReactComponent?!Un(l,h)||!Un(_,T):!0}function md(t,o,l){var h=!1,_=bi,T=o.contextType;return typeof T=="object"&&T!==null?T=fn(T):(_=Vt(o)?xo:Pt.current,h=o.contextTypes,T=(h=h!=null)?pr(t,_):bi),o=new o(l,T),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wl,t.stateNode=o,o._reactInternals=t,h&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=_,t.__reactInternalMemoizedMaskedChildContext=T),o}function gd(t,o,l,h){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==t&&Wl.enqueueReplaceState(o,o.state,null)}function Tu(t,o,l,h){var _=t.stateNode;_.props=l,_.state=t.memoizedState,_.refs={},lu(t);var T=o.contextType;typeof T=="object"&&T!==null?_.context=fn(T):(T=Vt(o)?xo:Pt.current,_.context=pr(t,T)),_.state=t.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(wu(t,o,T,l),_.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&Wl.enqueueReplaceState(_,_.state,null),zl(t,l,_,h),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4194308)}function xr(t,o){try{var l="",h=o;do l+=pe(h),h=h.return;while(h);var _=l}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:t,source:o,stack:_,digest:null}}function xu(t,o,l){return{value:t,source:null,stack:l??null,digest:o??null}}function Cu(t,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Np=typeof WeakMap=="function"?WeakMap:Map;function _d(t,o,l){l=ai(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Xl||(Xl=!0,zu=h),Cu(t,o)},l}function vd(t,o,l){l=ai(-1,l),l.tag=3;var h=t.type.getDerivedStateFromError;if(typeof h=="function"){var _=o.value;l.payload=function(){return h(_)},l.callback=function(){Cu(t,o)}}var T=t.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(l.callback=function(){Cu(t,o),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function yd(t,o,l){var h=t.pingCache;if(h===null){h=t.pingCache=new Np;var _=new Set;h.set(o,_)}else _=h.get(o),_===void 0&&(_=new Set,h.set(o,_));_.has(l)||(_.add(l),t=Zp.bind(null,t,o,l),o.then(t,t))}function wd(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function Td(t,o,l,h,_){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ai(-1,1),o.tag=2,qi(l,o,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=_,t)}var Rp=le.ReactCurrentOwner,Ht=!1;function Dt(t,o,l,h){o.child=t===null?bc(o,null,l,h):vr(o,t.child,l,h)}function xd(t,o,l,h,_){l=l.render;var T=o.ref;return wr(o,_),h=pu(t,o,l,h,T,_),l=mu(),t!==null&&!Ht?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~_,ui(t,o,_)):(tt&&l&&Qa(o),o.flags|=1,Dt(t,o,h,_),o.child)}function Cd(t,o,l,h,_){if(t===null){var T=l.type;return typeof T=="function"&&!Wu(T)&&T.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=T,Sd(t,o,T,h,_)):(t=oa(l.type,null,h,o,o.mode,_),t.ref=o.ref,t.return=o,o.child=t)}if(T=t.child,(t.lanes&_)===0){var S=T.memoizedProps;if(l=l.compare,l=l!==null?l:Un,l(S,h)&&t.ref===o.ref)return ui(t,o,_)}return o.flags|=1,t=Ki(T,h),t.ref=o.ref,t.return=o,o.child=t}function Sd(t,o,l,h,_){if(t!==null){var T=t.memoizedProps;if(Un(T,h)&&t.ref===o.ref)if(Ht=!1,o.pendingProps=h=T,(t.lanes&_)!==0)(t.flags&131072)!==0&&(Ht=!0);else return o.lanes=t.lanes,ui(t,o,_)}return Su(t,o,l,h,_)}function Ed(t,o,l){var h=o.pendingProps,_=h.children,T=t!==null?t.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Sr,tn),tn|=l;else{if((l&1073741824)===0)return t=T!==null?T.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Qe(Sr,tn),tn|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=T!==null?T.baseLanes:l,Qe(Sr,tn),tn|=h}else T!==null?(h=T.baseLanes|l,o.memoizedState=null):h=l,Qe(Sr,tn),tn|=h;return Dt(t,o,_,l),o.child}function Pd(t,o){var l=o.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Su(t,o,l,h,_){var T=Vt(l)?xo:Pt.current;return T=pr(o,T),wr(o,_),l=pu(t,o,l,h,T,_),h=mu(),t!==null&&!Ht?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~_,ui(t,o,_)):(tt&&h&&Qa(o),o.flags|=1,Dt(t,o,l,_),o.child)}function Id(t,o,l,h,_){if(Vt(l)){var T=!0;Al(o)}else T=!1;if(wr(o,_),o.stateNode===null)Jl(t,o),md(o,l,h),Tu(o,l,h,_),h=!0;else if(t===null){var S=o.stateNode,A=o.memoizedProps;S.props=A;var N=S.context,H=l.contextType;typeof H=="object"&&H!==null?H=fn(H):(H=Vt(l)?xo:Pt.current,H=pr(o,H));var Y=l.getDerivedStateFromProps,X=typeof Y=="function"||typeof S.getSnapshotBeforeUpdate=="function";X||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==h||N!==H)&&gd(o,S,h,H),Oi=!1;var J=o.memoizedState;S.state=J,zl(o,h,S,_),N=o.memoizedState,A!==h||J!==N||zt.current||Oi?(typeof Y=="function"&&(wu(o,l,Y,h),N=o.memoizedState),(A=Oi||pd(o,l,A,h,J,N,H))?(X||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=N),S.props=h,S.state=N,S.context=H,h=A):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Oc(t,o),A=o.memoizedProps,H=o.type===o.elementType?A:Sn(o.type,A),S.props=H,X=o.pendingProps,J=S.context,N=l.contextType,typeof N=="object"&&N!==null?N=fn(N):(N=Vt(l)?xo:Pt.current,N=pr(o,N));var se=l.getDerivedStateFromProps;(Y=typeof se=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==X||J!==N)&&gd(o,S,h,N),Oi=!1,J=o.memoizedState,S.state=J,zl(o,h,S,_);var ce=o.memoizedState;A!==X||J!==ce||zt.current||Oi?(typeof se=="function"&&(wu(o,l,se,h),ce=o.memoizedState),(H=Oi||pd(o,l,H,h,J,ce,N)||!1)?(Y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ce,N),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ce,N)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===t.memoizedProps&&J===t.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&J===t.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ce),S.props=h,S.state=ce,S.context=N,h=H):(typeof S.componentDidUpdate!="function"||A===t.memoizedProps&&J===t.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&J===t.memoizedState||(o.flags|=1024),h=!1)}return Eu(t,o,l,h,T,_)}function Eu(t,o,l,h,_,T){Pd(t,o);var S=(o.flags&128)!==0;if(!h&&!S)return _&&Nc(o,l,!1),ui(t,o,T);h=o.stateNode,Rp.current=o;var A=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,t!==null&&S?(o.child=vr(o,t.child,null,T),o.child=vr(o,null,A,T)):Dt(t,o,A,T),o.memoizedState=h.state,_&&Nc(o,l,!0),o.child}function kd(t){var o=t.stateNode;o.pendingContext?Mc(t,o.pendingContext,o.pendingContext!==o.context):o.context&&Mc(t,o.context,!1),au(t,o.containerInfo)}function Ad(t,o,l,h,_){return _r(),tu(_),o.flags|=256,Dt(t,o,l,h),o.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,o,l){var h=o.pendingProps,_=ot.current,T=!1,S=(o.flags&128)!==0,A;if((A=S)||(A=t!==null&&t.memoizedState===null?!1:(_&2)!==0),A?(T=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(_|=1),Qe(ot,_&1),t===null)return eu(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,t=h.fallback,T?(h=o.mode,T=o.child,S={mode:"hidden",children:S},(h&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=S):T=ra(S,h,0,null),t=No(t,h,l,null),T.return=o,t.return=o,T.sibling=t,o.child=T,o.child.memoizedState=Iu(l),o.memoizedState=Pu,t):ku(o,S));if(_=t.memoizedState,_!==null&&(A=_.dehydrated,A!==null))return Dp(t,o,S,h,A,_,l);if(T){T=h.fallback,S=o.mode,_=t.child,A=_.sibling;var N={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==_?(h=o.child,h.childLanes=0,h.pendingProps=N,o.deletions=null):(h=Ki(_,N),h.subtreeFlags=_.subtreeFlags&14680064),A!==null?T=Ki(A,T):(T=No(T,S,l,null),T.flags|=2),T.return=o,h.return=o,h.sibling=T,o.child=h,h=T,T=o.child,S=t.child.memoizedState,S=S===null?Iu(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},T.memoizedState=S,T.childLanes=t.childLanes&~l,o.memoizedState=Pu,h}return T=t.child,t=T.sibling,h=Ki(T,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,t!==null&&(l=o.deletions,l===null?(o.deletions=[t],o.flags|=16):l.push(t)),o.child=h,o.memoizedState=null,h}function ku(t,o){return o=ra({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function Zl(t,o,l,h){return h!==null&&tu(h),vr(o,t.child,null,l),t=ku(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function Dp(t,o,l,h,_,T,S){if(l)return o.flags&256?(o.flags&=-257,h=xu(Error(r(422))),Zl(t,o,S,h)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(T=h.fallback,_=o.mode,h=ra({mode:"visible",children:h.children},_,0,null),T=No(T,_,S,null),T.flags|=2,h.return=o,T.return=o,h.sibling=T,o.child=h,(o.mode&1)!==0&&vr(o,t.child,null,S),o.child.memoizedState=Iu(S),o.memoizedState=Pu,T);if((o.mode&1)===0)return Zl(t,o,S,null);if(_.data==="$!"){if(h=_.nextSibling&&_.nextSibling.dataset,h)var A=h.dgst;return h=A,T=Error(r(419)),h=xu(T,h,void 0),Zl(t,o,S,h)}if(A=(S&t.childLanes)!==0,Ht||A){if(h=_t,h!==null){switch(S&-S){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(h.suspendedLanes|S))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,li(t,_),In(h,t,_,-1))}return qu(),h=xu(Error(r(421))),Zl(t,o,S,h)}return _.data==="$?"?(o.flags|=128,o.child=t.child,o=Jp.bind(null,t),_._reactRetry=o,null):(t=T.treeContext,en=zn(_.nextSibling),jt=o,tt=!0,Cn=null,t!==null&&(cn[dn++]=ri,cn[dn++]=si,cn[dn++]=Co,ri=t.id,si=t.overflow,Co=o),o=ku(o,h.children),o.flags|=4096,o)}function Ld(t,o,l){t.lanes|=o;var h=t.alternate;h!==null&&(h.lanes|=o),ru(t.return,o,l)}function Au(t,o,l,h,_){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:_}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=l,T.tailMode=_)}function Nd(t,o,l){var h=o.pendingProps,_=h.revealOrder,T=h.tail;if(Dt(t,o,h.children,l),h=ot.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ld(t,l,o);else if(t.tag===19)Ld(t,l,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}h&=1}if(Qe(ot,h),(o.mode&1)===0)o.memoizedState=null;else switch(_){case"forwards":for(l=o.child,_=null;l!==null;)t=l.alternate,t!==null&&Vl(t)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),Au(o,!1,_,l,T);break;case"backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(t=_.alternate,t!==null&&Vl(t)===null){o.child=_;break}t=_.sibling,_.sibling=l,l=_,_=t}Au(o,!0,l,null,T);break;case"together":Au(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Jl(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function ui(t,o,l){if(t!==null&&(o.dependencies=t.dependencies),ko|=o.lanes,(l&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(r(153));if(o.child!==null){for(t=o.child,l=Ki(t,t.pendingProps),o.child=l,l.return=o;t.sibling!==null;)t=t.sibling,l=l.sibling=Ki(t,t.pendingProps),l.return=o;l.sibling=null}return o.child}function Up(t,o,l){switch(o.tag){case 3:kd(o),_r();break;case 5:Zc(o);break;case 1:Vt(o.type)&&Al(o);break;case 4:au(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,_=o.memoizedProps.value;Qe(Ul,h._currentValue),h._currentValue=_;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Qe(ot,ot.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Md(t,o,l):(Qe(ot,ot.current&1),t=ui(t,o,l),t!==null?t.sibling:null);Qe(ot,ot.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(t.flags&128)!==0){if(h)return Nd(t,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Qe(ot,ot.current),h)break;return null;case 22:case 23:return o.lanes=0,Ed(t,o,l)}return ui(t,o,l)}var Rd,Mu,Dd,Ud;Rd=function(t,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Mu=function(){},Dd=function(t,o,l,h){var _=t.memoizedProps;if(_!==h){t=o.stateNode,Po(Vn.current);var T=null;switch(l){case"input":_=Ur(t,_),h=Ur(t,h),T=[];break;case"select":_=W({},_,{value:void 0}),h=W({},h,{value:void 0}),T=[];break;case"textarea":_=Uo(t,_),h=Uo(t,h),T=[];break;default:typeof _.onClick!="function"&&typeof h.onClick=="function"&&(t.onclick=Z)}br(l,h);var S;l=null;for(H in _)if(!h.hasOwnProperty(H)&&_.hasOwnProperty(H)&&_[H]!=null)if(H==="style"){var A=_[H];for(S in A)A.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(c.hasOwnProperty(H)?T||(T=[]):(T=T||[]).push(H,null));for(H in h){var N=h[H];if(A=_!=null?_[H]:void 0,h.hasOwnProperty(H)&&N!==A&&(N!=null||A!=null))if(H==="style")if(A){for(S in A)!A.hasOwnProperty(S)||N&&N.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in N)N.hasOwnProperty(S)&&A[S]!==N[S]&&(l||(l={}),l[S]=N[S])}else l||(T||(T=[]),T.push(H,l)),l=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(T=T||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(T=T||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(c.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&Je("scroll",t),T||A===N||(T=[])):(T=T||[]).push(H,N))}l&&(T=T||[]).push("style",l);var H=T;(o.updateQueue=H)&&(o.flags|=4)}},Ud=function(t,o,l,h){l!==h&&(o.flags|=4)};function As(t,o){if(!tt)switch(t.tailMode){case"hidden":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:h.sibling=null}}function kt(t){var o=t.alternate!==null&&t.alternate.child===t.child,l=0,h=0;if(o)for(var _=t.child;_!==null;)l|=_.lanes|_.childLanes,h|=_.subtreeFlags&14680064,h|=_.flags&14680064,_.return=t,_=_.sibling;else for(_=t.child;_!==null;)l|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=t,_=_.sibling;return t.subtreeFlags|=h,t.childLanes=l,o}function Fp(t,o,l){var h=o.pendingProps;switch(Xa(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(o),null;case 1:return Vt(o.type)&&kl(),kt(o),null;case 3:return h=o.stateNode,Tr(),je(zt),je(Pt),du(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(t===null||t.child===null)&&(Rl(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cn!==null&&(bu(Cn),Cn=null))),Mu(t,o),kt(o),null;case 5:uu(o);var _=Po(Ss.current);if(l=o.type,t!==null&&o.stateNode!=null)Dd(t,o,l,h,_),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(r(166));return kt(o),null}if(t=Po(Vn.current),Rl(o)){h=o.stateNode,l=o.type;var T=o.memoizedProps;switch(h[un]=o,h[zi]=T,t=(o.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(_=0;_<Ui.length;_++)Je(Ui[_],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Fr(h,T),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!T.multiple},Je("invalid",h);break;case"textarea":Vr(h,T),Je("invalid",h)}br(l,T),_=null;for(var S in T)if(T.hasOwnProperty(S)){var A=T[S];S==="children"?typeof A=="string"?h.textContent!==A&&(T.suppressHydrationWarning!==!0&&V(h.textContent,A,t),_=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(T.suppressHydrationWarning!==!0&&V(h.textContent,A,t),_=["children",""+A]):c.hasOwnProperty(S)&&A!=null&&S==="onScroll"&&Je("scroll",h)}switch(l){case"input":hi(h),no(h,T,!0);break;case"textarea":hi(h),Ws(h);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(h.onclick=Z)}h=_,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=_.nodeType===9?_:_.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fo(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof h.is=="string"?t=S.createElement(l,{is:h.is}):(t=S.createElement(l),l==="select"&&(S=t,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):t=S.createElementNS(t,l),t[un]=o,t[zi]=h,Rd(t,o,!1,!1),o.stateNode=t;e:{switch(S=Gn(l,h),l){case"dialog":Je("cancel",t),Je("close",t),_=h;break;case"iframe":case"object":case"embed":Je("load",t),_=h;break;case"video":case"audio":for(_=0;_<Ui.length;_++)Je(Ui[_],t);_=h;break;case"source":Je("error",t),_=h;break;case"img":case"image":case"link":Je("error",t),Je("load",t),_=h;break;case"details":Je("toggle",t),_=h;break;case"input":Fr(t,h),_=Ur(t,h),Je("invalid",t);break;case"option":_=h;break;case"select":t._wrapperState={wasMultiple:!!h.multiple},_=W({},h,{value:void 0}),Je("invalid",t);break;case"textarea":Vr(t,h),_=Uo(t,h),Je("invalid",t);break;default:_=h}br(l,_),A=_;for(T in A)if(A.hasOwnProperty(T)){var N=A[T];T==="style"?zo(t,N):T==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Zs(t,N)):T==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&_i(t,N):typeof N=="number"&&_i(t,""+N):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(c.hasOwnProperty(T)?N!=null&&T==="onScroll"&&Je("scroll",t):N!=null&&Q(t,T,N,S))}switch(l){case"input":hi(t),no(t,h,!1);break;case"textarea":hi(t),Ws(t);break;case"option":h.value!=null&&t.setAttribute("value",""+Fe(h.value));break;case"select":t.multiple=!!h.multiple,T=h.value,T!=null?An(t,!!h.multiple,T,!1):h.defaultValue!=null&&An(t,!!h.multiple,h.defaultValue,!0);break;default:typeof _.onClick=="function"&&(t.onclick=Z)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return kt(o),null;case 6:if(t&&o.stateNode!=null)Ud(t,o,t.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(l=Po(Ss.current),Po(Vn.current),Rl(o)){if(h=o.stateNode,l=o.memoizedProps,h[un]=o,(T=h.nodeValue!==l)&&(t=jt,t!==null))switch(t.tag){case 3:V(h.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&V(h.nodeValue,l,(t.mode&1)!==0)}T&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[un]=o,o.stateNode=h}return kt(o),null;case 13:if(je(ot),h=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&en!==null&&(o.mode&1)!==0&&(o.flags&128)===0)zc(),_r(),o.flags|=98560,T=!1;else if(T=Rl(o),h!==null&&h.dehydrated!==null){if(t===null){if(!T)throw Error(r(318));if(T=o.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[un]=o}else _r(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kt(o),T=!1}else Cn!==null&&(bu(Cn),Cn=null),T=!0;if(!T)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(t!==null&&t.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(ot.current&1)!==0?pt===0&&(pt=3):qu())),o.updateQueue!==null&&(o.flags|=4),kt(o),null);case 4:return Tr(),Mu(t,o),t===null&&Fi(o.stateNode.containerInfo),kt(o),null;case 10:return ou(o.type._context),kt(o),null;case 17:return Vt(o.type)&&kl(),kt(o),null;case 19:if(je(ot),T=o.memoizedState,T===null)return kt(o),null;if(h=(o.flags&128)!==0,S=T.rendering,S===null)if(h)As(T,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(S=Vl(t),S!==null){for(o.flags|=128,As(T,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)T=l,t=h,T.flags&=14680066,S=T.alternate,S===null?(T.childLanes=0,T.lanes=t,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=S.childLanes,T.lanes=S.lanes,T.child=S.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=S.memoizedProps,T.memoizedState=S.memoizedState,T.updateQueue=S.updateQueue,T.type=S.type,t=S.dependencies,T.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Qe(ot,ot.current&1|2),o.child}t=t.sibling}T.tail!==null&&nt()>Er&&(o.flags|=128,h=!0,As(T,!1),o.lanes=4194304)}else{if(!h)if(t=Vl(S),t!==null){if(o.flags|=128,h=!0,l=t.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),As(T,!0),T.tail===null&&T.tailMode==="hidden"&&!S.alternate&&!tt)return kt(o),null}else 2*nt()-T.renderingStartTime>Er&&l!==1073741824&&(o.flags|=128,h=!0,As(T,!1),o.lanes=4194304);T.isBackwards?(S.sibling=o.child,o.child=S):(l=T.last,l!==null?l.sibling=S:o.child=S,T.last=S)}return T.tail!==null?(o=T.tail,T.rendering=o,T.tail=o.sibling,T.renderingStartTime=nt(),o.sibling=null,l=ot.current,Qe(ot,h?l&1|2:l&1),o):(kt(o),null);case 22:case 23:return Ou(),h=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(tn&1073741824)!==0&&(kt(o),o.subtreeFlags&6&&(o.flags|=8192)):kt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Bp(t,o){switch(Xa(o),o.tag){case 1:return Vt(o.type)&&kl(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Tr(),je(zt),je(Pt),du(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return uu(o),null;case 13:if(je(ot),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(r(340));_r()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return je(ot),null;case 4:return Tr(),null;case 10:return ou(o.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var $l=!1,At=!1,zp=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Cr(t,o){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(t,o,h)}else l.current=null}function Lu(t,o,l){try{l()}catch(h){lt(t,o,h)}}var Fd=!1;function Vp(t,o){if(ie=po,t=fs(),hs(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var _=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break e}var S=0,A=-1,N=-1,H=0,Y=0,X=t,J=null;t:for(;;){for(var se;X!==l||_!==0&&X.nodeType!==3||(A=S+_),X!==T||h!==0&&X.nodeType!==3||(N=S+h),X.nodeType===3&&(S+=X.nodeValue.length),(se=X.firstChild)!==null;)J=X,X=se;for(;;){if(X===t)break t;if(J===l&&++H===_&&(A=S),J===T&&++Y===h&&(N=S),(se=X.nextSibling)!==null)break;X=J,J=X.parentNode}X=se}l=A===-1||N===-1?null:{start:A,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(we={focusedElem:t,selectionRange:l},po=!1,ue=o;ue!==null;)if(o=ue,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,ue=t;else for(;ue!==null;){o=ue;try{var ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,at=ce.memoizedState,B=o.stateNode,D=B.getSnapshotBeforeUpdate(o.elementType===o.type?fe:Sn(o.type,fe),at);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ee){lt(o,o.return,ee)}if(t=o.sibling,t!==null){t.return=o.return,ue=t;break}ue=o.return}return ce=Fd,Fd=!1,ce}function Ms(t,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&t)===t){var T=_.destroy;_.destroy=void 0,T!==void 0&&Lu(o,l,T)}_=_.next}while(_!==h)}}function Yl(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&t)===t){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Nu(t){var o=t.ref;if(o!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof o=="function"?o(t):o.current=t}}function Bd(t){var o=t.alternate;o!==null&&(t.alternate=null,Bd(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[un],delete o[zi],delete o[Vi],delete o[Ja],delete o[$a])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zd(t){return t.tag===5||t.tag===3||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ru(t,o,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(t,o):l.insertBefore(t,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(t,l)):(o=l,o.appendChild(t)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Z));else if(h!==4&&(t=t.child,t!==null))for(Ru(t,o,l),t=t.sibling;t!==null;)Ru(t,o,l),t=t.sibling}function Du(t,o,l){var h=t.tag;if(h===5||h===6)t=t.stateNode,o?l.insertBefore(t,o):l.appendChild(t);else if(h!==4&&(t=t.child,t!==null))for(Du(t,o,l),t=t.sibling;t!==null;)Du(t,o,l),t=t.sibling}var wt=null,En=!1;function Wi(t,o,l){for(l=l.child;l!==null;)Hd(t,o,l),l=l.sibling}function Hd(t,o,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(lo,l)}catch{}switch(l.tag){case 5:At||Cr(l,o);case 6:var h=wt,_=En;wt=null,Wi(t,o,l),wt=h,En=_,wt!==null&&(En?(t=wt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):wt.removeChild(l.stateNode));break;case 18:wt!==null&&(En?(t=wt,l=l.stateNode,t.nodeType===8?ws(t.parentNode,l):t.nodeType===1&&ws(t,l),$t(t)):ws(wt,l.stateNode));break;case 4:h=wt,_=En,wt=l.stateNode.containerInfo,En=!0,Wi(t,o,l),wt=h,En=_;break;case 0:case 11:case 14:case 15:if(!At&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){_=h=h.next;do{var T=_,S=T.destroy;T=T.tag,S!==void 0&&((T&2)!==0||(T&4)!==0)&&Lu(l,o,S),_=_.next}while(_!==h)}Wi(t,o,l);break;case 1:if(!At&&(Cr(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){lt(l,o,A)}Wi(t,o,l);break;case 21:Wi(t,o,l);break;case 22:l.mode&1?(At=(h=At)||l.memoizedState!==null,Wi(t,o,l),At=h):Wi(t,o,l);break;default:Wi(t,o,l)}}function bd(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new zp),o.forEach(function(h){var _=$p.bind(null,t,h);l.has(h)||(l.add(h),h.then(_,_))})}}function Pn(t,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var _=l[h];try{var T=t,S=o,A=S;e:for(;A!==null;){switch(A.tag){case 5:wt=A.stateNode,En=!1;break e;case 3:wt=A.stateNode.containerInfo,En=!0;break e;case 4:wt=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(wt===null)throw Error(r(160));Hd(T,S,_),wt=null,En=!1;var N=_.alternate;N!==null&&(N.return=null),_.return=null}catch(H){lt(_,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gd(o,t),o=o.sibling}function Gd(t,o){var l=t.alternate,h=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(o,t),bn(t),h&4){try{Ms(3,t,t.return),Yl(3,t)}catch(fe){lt(t,t.return,fe)}try{Ms(5,t,t.return)}catch(fe){lt(t,t.return,fe)}}break;case 1:Pn(o,t),bn(t),h&512&&l!==null&&Cr(l,l.return);break;case 5:if(Pn(o,t),bn(t),h&512&&l!==null&&Cr(l,l.return),t.flags&32){var _=t.stateNode;try{_i(_,"")}catch(fe){lt(t,t.return,fe)}}if(h&4&&(_=t.stateNode,_!=null)){var T=t.memoizedProps,S=l!==null?l.memoizedProps:T,A=t.type,N=t.updateQueue;if(t.updateQueue=null,N!==null)try{A==="input"&&T.type==="radio"&&T.name!=null&&Br(_,T),Gn(A,S);var H=Gn(A,T);for(S=0;S<N.length;S+=2){var Y=N[S],X=N[S+1];Y==="style"?zo(_,X):Y==="dangerouslySetInnerHTML"?Zs(_,X):Y==="children"?_i(_,X):Q(_,Y,X,H)}switch(A){case"input":to(_,T);break;case"textarea":qs(_,T);break;case"select":var J=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var se=T.value;se!=null?An(_,!!T.multiple,se,!1):J!==!!T.multiple&&(T.defaultValue!=null?An(_,!!T.multiple,T.defaultValue,!0):An(_,!!T.multiple,T.multiple?[]:"",!1))}_[zi]=T}catch(fe){lt(t,t.return,fe)}}break;case 6:if(Pn(o,t),bn(t),h&4){if(t.stateNode===null)throw Error(r(162));_=t.stateNode,T=t.memoizedProps;try{_.nodeValue=T}catch(fe){lt(t,t.return,fe)}}break;case 3:if(Pn(o,t),bn(t),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$t(o.containerInfo)}catch(fe){lt(t,t.return,fe)}break;case 4:Pn(o,t),bn(t);break;case 13:Pn(o,t),bn(t),_=t.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Bu=nt())),h&4&&bd(t);break;case 22:if(Y=l!==null&&l.memoizedState!==null,t.mode&1?(At=(H=At)||Y,Pn(o,t),At=H):Pn(o,t),bn(t),h&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!Y&&(t.mode&1)!==0)for(ue=t,Y=t.child;Y!==null;){for(X=ue=Y;ue!==null;){switch(J=ue,se=J.child,J.tag){case 0:case 11:case 14:case 15:Ms(4,J,J.return);break;case 1:Cr(J,J.return);var ce=J.stateNode;if(typeof ce.componentWillUnmount=="function"){h=J,l=J.return;try{o=h,ce.props=o.memoizedProps,ce.state=o.memoizedState,ce.componentWillUnmount()}catch(fe){lt(h,l,fe)}}break;case 5:Cr(J,J.return);break;case 22:if(J.memoizedState!==null){Wd(X);continue}}se!==null?(se.return=J,ue=se):Wd(X)}Y=Y.sibling}e:for(Y=null,X=t;;){if(X.tag===5){if(Y===null){Y=X;try{_=X.stateNode,H?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(A=X.stateNode,N=X.memoizedProps.style,S=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Hr("display",S))}catch(fe){lt(t,t.return,fe)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(fe){lt(t,t.return,fe)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Pn(o,t),bn(t),h&4&&bd(t);break;case 21:break;default:Pn(o,t),bn(t)}}function bn(t){var o=t.flags;if(o&2){try{e:{for(var l=t.return;l!==null;){if(zd(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var _=h.stateNode;h.flags&32&&(_i(_,""),h.flags&=-33);var T=Vd(t);Du(t,T,_);break;case 3:case 4:var S=h.stateNode.containerInfo,A=Vd(t);Ru(t,A,S);break;default:throw Error(r(161))}}catch(N){lt(t,t.return,N)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Hp(t,o,l){ue=t,Od(t)}function Od(t,o,l){for(var h=(t.mode&1)!==0;ue!==null;){var _=ue,T=_.child;if(_.tag===22&&h){var S=_.memoizedState!==null||$l;if(!S){var A=_.alternate,N=A!==null&&A.memoizedState!==null||At;A=$l;var H=At;if($l=S,(At=N)&&!H)for(ue=_;ue!==null;)S=ue,N=S.child,S.tag===22&&S.memoizedState!==null?Zd(_):N!==null?(N.return=S,ue=N):Zd(_);for(;T!==null;)ue=T,Od(T),T=T.sibling;ue=_,$l=A,At=H}qd(t)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,ue=T):qd(t)}}function qd(t){for(;ue!==null;){var o=ue;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:At||Yl(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!At)if(l===null)h.componentDidMount();else{var _=o.elementType===o.type?l.memoizedProps:Sn(o.type,l.memoizedProps);h.componentDidUpdate(_,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var T=o.updateQueue;T!==null&&Wc(o,T,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Wc(o,S,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var Y=H.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&$t(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}At||o.flags&512&&Nu(o)}catch(J){lt(o,o.return,J)}}if(o===t){ue=null;break}if(l=o.sibling,l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Wd(t){for(;ue!==null;){var o=ue;if(o===t){ue=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Zd(t){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Yl(4,o)}catch(N){lt(o,l,N)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var _=o.return;try{h.componentDidMount()}catch(N){lt(o,_,N)}}var T=o.return;try{Nu(o)}catch(N){lt(o,T,N)}break;case 5:var S=o.return;try{Nu(o)}catch(N){lt(o,S,N)}}}catch(N){lt(o,o.return,N)}if(o===t){ue=null;break}var A=o.sibling;if(A!==null){A.return=o.return,ue=A;break}ue=o.return}}var bp=Math.ceil,Kl=le.ReactCurrentDispatcher,Uu=le.ReactCurrentOwner,pn=le.ReactCurrentBatchConfig,be=0,_t=null,ct=null,Tt=0,tn=0,Sr=Hi(0),pt=0,Ls=null,ko=0,Ql=0,Fu=0,Ns=null,bt=null,Bu=0,Er=1/0,ci=null,Xl=!1,zu=null,Zi=null,jl=!1,Ji=null,ea=0,Rs=0,Vu=null,ta=-1,na=0;function Ut(){return(be&6)!==0?nt():ta!==-1?ta:ta=nt()}function $i(t){return(t.mode&1)===0?1:(be&2)!==0&&Tt!==0?Tt&-Tt:Sp.transition!==null?(na===0&&(na=rl()),na):(t=He,t!==0||(t=window.event,t=t===void 0?16:ze(t.type)),t)}function In(t,o,l,h){if(50<Rs)throw Rs=0,Vu=null,Error(r(185));Zt(t,l,h),((be&2)===0||t!==_t)&&(t===_t&&((be&2)===0&&(Ql|=l),pt===4&&Yi(t,Tt)),Gt(t,h),l===1&&be===0&&(o.mode&1)===0&&(Er=nt()+500,Ml&&Gi()))}function Gt(t,o){var l=t.callbackNode;Wo(t,o);var h=Ke(t,t===_t?Tt:0);if(h===0)l!==null&&$r(l),t.callbackNode=null,t.callbackPriority=0;else if(o=h&-h,t.callbackPriority!==o){if(l!=null&&$r(l),o===1)t.tag===0?Cp($d.bind(null,t)):Rc($d.bind(null,t)),Et(function(){(be&6)===0&&Gi()}),l=null;else{switch(Ci(h)){case 1:l=Yr;break;case 4:l=ol;break;case 16:l=Oo;break;case 536870912:l=yi;break;default:l=Oo}l=nf(l,Jd.bind(null,t))}t.callbackPriority=o,t.callbackNode=l}}function Jd(t,o){if(ta=-1,na=0,(be&6)!==0)throw Error(r(327));var l=t.callbackNode;if(Pr()&&t.callbackNode!==l)return null;var h=Ke(t,t===_t?Tt:0);if(h===0)return null;if((h&30)!==0||(h&t.expiredLanes)!==0||o)o=ia(t,h);else{o=h;var _=be;be|=2;var T=Kd();(_t!==t||Tt!==o)&&(ci=null,Er=nt()+500,Mo(t,o));do try{qp();break}catch(A){Yd(t,A)}while(!0);iu(),Kl.current=T,be=_,ct!==null?o=0:(_t=null,Tt=0,o=pt)}if(o!==0){if(o===2&&(_=Ct(t),_!==0&&(h=_,o=Hu(t,_))),o===1)throw l=Ls,Mo(t,0),Yi(t,h),Gt(t,nt()),l;if(o===6)Yi(t,h);else{if(_=t.current.alternate,(h&30)===0&&!Gp(_)&&(o=ia(t,h),o===2&&(T=Ct(t),T!==0&&(h=T,o=Hu(t,T))),o===1))throw l=Ls,Mo(t,0),Yi(t,h),Gt(t,nt()),l;switch(t.finishedWork=_,t.finishedLanes=h,o){case 0:case 1:throw Error(r(345));case 2:Lo(t,bt,ci);break;case 3:if(Yi(t,h),(h&130023424)===h&&(o=Bu+500-nt(),10<o)){if(Ke(t,0)!==0)break;if(_=t.suspendedLanes,(_&h)!==h){Ut(),t.pingedLanes|=t.suspendedLanes&_;break}t.timeoutHandle=ft(Lo.bind(null,t,bt,ci),o);break}Lo(t,bt,ci);break;case 4:if(Yi(t,h),(h&4194240)===h)break;for(o=t.eventTimes,_=-1;0<h;){var S=31-Le(h);T=1<<S,S=o[S],S>_&&(_=S),h&=~T}if(h=_,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bp(h/1960))-h,10<h){t.timeoutHandle=ft(Lo.bind(null,t,bt,ci),h);break}Lo(t,bt,ci);break;case 5:Lo(t,bt,ci);break;default:throw Error(r(329))}}}return Gt(t,nt()),t.callbackNode===l?Jd.bind(null,t):null}function Hu(t,o){var l=Ns;return t.current.memoizedState.isDehydrated&&(Mo(t,o).flags|=256),t=ia(t,o),t!==2&&(o=bt,bt=l,o!==null&&bu(o)),t}function bu(t){bt===null?bt=t:bt.push.apply(bt,t)}function Gp(t){for(var o=t;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var _=l[h],T=_.getSnapshot;_=_.value;try{if(!Qt(T(),_))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yi(t,o){for(o&=~Fu,o&=~Ql,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var l=31-Le(o),h=1<<l;t[l]=-1,o&=~h}}function $d(t){if((be&6)!==0)throw Error(r(327));Pr();var o=Ke(t,0);if((o&1)===0)return Gt(t,nt()),null;var l=ia(t,o);if(t.tag!==0&&l===2){var h=Ct(t);h!==0&&(o=h,l=Hu(t,h))}if(l===1)throw l=Ls,Mo(t,0),Yi(t,o),Gt(t,nt()),l;if(l===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,Lo(t,bt,ci),Gt(t,nt()),null}function Gu(t,o){var l=be;be|=1;try{return t(o)}finally{be=l,be===0&&(Er=nt()+500,Ml&&Gi())}}function Ao(t){Ji!==null&&Ji.tag===0&&(be&6)===0&&Pr();var o=be;be|=1;var l=pn.transition,h=He;try{if(pn.transition=null,He=1,t)return t()}finally{He=h,pn.transition=l,be=o,(be&6)===0&&Gi()}}function Ou(){tn=Sr.current,je(Sr)}function Mo(t,o){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,ut(l)),ct!==null)for(l=ct.return;l!==null;){var h=l;switch(Xa(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&kl();break;case 3:Tr(),je(zt),je(Pt),du();break;case 5:uu(h);break;case 4:Tr();break;case 13:je(ot);break;case 19:je(ot);break;case 10:ou(h.type._context);break;case 22:case 23:Ou()}l=l.return}if(_t=t,ct=t=Ki(t.current,null),Tt=tn=o,pt=0,Ls=null,Fu=Ql=ko=0,bt=Ns=null,Eo!==null){for(o=0;o<Eo.length;o++)if(l=Eo[o],h=l.interleaved,h!==null){l.interleaved=null;var _=h.next,T=l.pending;if(T!==null){var S=T.next;T.next=_,h.next=S}l.pending=h}Eo=null}return t}function Yd(t,o){do{var l=ct;try{if(iu(),Hl.current=ql,bl){for(var h=rt.memoizedState;h!==null;){var _=h.queue;_!==null&&(_.pending=null),h=h.next}bl=!1}if(Io=0,gt=ht=rt=null,Es=!1,Ps=0,Uu.current=null,l===null||l.return===null){pt=1,Ls=o,ct=null;break}e:{var T=t,S=l.return,A=l,N=o;if(o=Tt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,Y=A,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var J=Y.alternate;J?(Y.updateQueue=J.updateQueue,Y.memoizedState=J.memoizedState,Y.lanes=J.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=wd(S);if(se!==null){se.flags&=-257,Td(se,S,A,T,o),se.mode&1&&yd(T,H,o),o=se,N=H;var ce=o.updateQueue;if(ce===null){var fe=new Set;fe.add(N),o.updateQueue=fe}else ce.add(N);break e}else{if((o&1)===0){yd(T,H,o),qu();break e}N=Error(r(426))}}else if(tt&&A.mode&1){var at=wd(S);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Td(at,S,A,T,o),tu(xr(N,A));break e}}T=N=xr(N,A),pt!==4&&(pt=2),Ns===null?Ns=[T]:Ns.push(T),T=S;do{switch(T.tag){case 3:T.flags|=65536,o&=-o,T.lanes|=o;var B=_d(T,N,o);qc(T,B);break e;case 1:A=N;var D=T.type,z=T.stateNode;if((T.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Zi===null||!Zi.has(z)))){T.flags|=65536,o&=-o,T.lanes|=o;var ee=vd(T,A,o);qc(T,ee);break e}}T=T.return}while(T!==null)}Xd(l)}catch(ge){o=ge,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function Kd(){var t=Kl.current;return Kl.current=ql,t===null?ql:t}function qu(){(pt===0||pt===3||pt===2)&&(pt=4),_t===null||(ko&268435455)===0&&(Ql&268435455)===0||Yi(_t,Tt)}function ia(t,o){var l=be;be|=2;var h=Kd();(_t!==t||Tt!==o)&&(ci=null,Mo(t,o));do try{Op();break}catch(_){Yd(t,_)}while(!0);if(iu(),be=l,Kl.current=h,ct!==null)throw Error(r(261));return _t=null,Tt=0,pt}function Op(){for(;ct!==null;)Qd(ct)}function qp(){for(;ct!==null&&!La();)Qd(ct)}function Qd(t){var o=tf(t.alternate,t,tn);t.memoizedProps=t.pendingProps,o===null?Xd(t):ct=o,Uu.current=null}function Xd(t){var o=t;do{var l=o.alternate;if(t=o.return,(o.flags&32768)===0){if(l=Fp(l,o,tn),l!==null){ct=l;return}}else{if(l=Bp(l,o),l!==null){l.flags&=32767,ct=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}if(o=o.sibling,o!==null){ct=o;return}ct=o=t}while(o!==null);pt===0&&(pt=5)}function Lo(t,o,l){var h=He,_=pn.transition;try{pn.transition=null,He=1,Wp(t,o,l,h)}finally{pn.transition=_,He=h}return null}function Wp(t,o,l,h){do Pr();while(Ji!==null);if((be&6)!==0)throw Error(r(327));l=t.finishedWork;var _=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var T=l.lanes|l.childLanes;if(st(t,T),t===_t&&(ct=_t=null,Tt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||jl||(jl=!0,nf(Oo,function(){return Pr(),null})),T=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||T){T=pn.transition,pn.transition=null;var S=He;He=1;var A=be;be|=4,Uu.current=null,Vp(t,l),Gd(l,t),ln(we),po=!!ie,we=ie=null,t.current=l,Hp(l),Go(),be=A,He=S,pn.transition=T}else t.current=l;if(jl&&(jl=!1,Ji=t,ea=_),T=t.pendingLanes,T===0&&(Zi=null),ao(l.stateNode),Gt(t,nt()),o!==null)for(h=t.onRecoverableError,l=0;l<o.length;l++)_=o[l],h(_.value,{componentStack:_.stack,digest:_.digest});if(Xl)throw Xl=!1,t=zu,zu=null,t;return(ea&1)!==0&&t.tag!==0&&Pr(),T=t.pendingLanes,(T&1)!==0?t===Vu?Rs++:(Rs=0,Vu=t):Rs=0,Gi(),null}function Pr(){if(Ji!==null){var t=Ci(ea),o=pn.transition,l=He;try{if(pn.transition=null,He=16>t?16:t,Ji===null)var h=!1;else{if(t=Ji,Ji=null,ea=0,(be&6)!==0)throw Error(r(331));var _=be;for(be|=4,ue=t.current;ue!==null;){var T=ue,S=T.child;if((ue.flags&16)!==0){var A=T.deletions;if(A!==null){for(var N=0;N<A.length;N++){var H=A[N];for(ue=H;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:Ms(8,Y,T)}var X=Y.child;if(X!==null)X.return=Y,ue=X;else for(;ue!==null;){Y=ue;var J=Y.sibling,se=Y.return;if(Bd(Y),Y===H){ue=null;break}if(J!==null){J.return=se,ue=J;break}ue=se}}}var ce=T.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}ue=T}}if((T.subtreeFlags&2064)!==0&&S!==null)S.return=T,ue=S;else e:for(;ue!==null;){if(T=ue,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Ms(9,T,T.return)}var B=T.sibling;if(B!==null){B.return=T.return,ue=B;break e}ue=T.return}}var D=t.current;for(ue=D;ue!==null;){S=ue;var z=S.child;if((S.subtreeFlags&2064)!==0&&z!==null)z.return=S,ue=z;else e:for(S=D;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Yl(9,A)}}catch(ge){lt(A,A.return,ge)}if(A===S){ue=null;break e}var ee=A.sibling;if(ee!==null){ee.return=A.return,ue=ee;break e}ue=A.return}}if(be=_,Gi(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(lo,t)}catch{}h=!0}return h}finally{He=l,pn.transition=o}}return!1}function jd(t,o,l){o=xr(l,o),o=_d(t,o,1),t=qi(t,o,1),o=Ut(),t!==null&&(Zt(t,1,o),Gt(t,o))}function lt(t,o,l){if(t.tag===3)jd(t,t,l);else for(;o!==null;){if(o.tag===3){jd(o,t,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zi===null||!Zi.has(h))){t=xr(l,t),t=vd(o,t,1),o=qi(o,t,1),t=Ut(),o!==null&&(Zt(o,1,t),Gt(o,t));break}}o=o.return}}function Zp(t,o,l){var h=t.pingCache;h!==null&&h.delete(o),o=Ut(),t.pingedLanes|=t.suspendedLanes&l,_t===t&&(Tt&l)===l&&(pt===4||pt===3&&(Tt&130023424)===Tt&&500>nt()-Bu?Mo(t,0):Fu|=l),Gt(t,o)}function ef(t,o){o===0&&((t.mode&1)===0?o=1:(o=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var l=Ut();t=li(t,o),t!==null&&(Zt(t,o,l),Gt(t,l))}function Jp(t){var o=t.memoizedState,l=0;o!==null&&(l=o.retryLane),ef(t,l)}function $p(t,o){var l=0;switch(t.tag){case 13:var h=t.stateNode,_=t.memoizedState;_!==null&&(l=_.retryLane);break;case 19:h=t.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(o),ef(t,l)}var tf;tf=function(t,o,l){if(t!==null)if(t.memoizedProps!==o.pendingProps||zt.current)Ht=!0;else{if((t.lanes&l)===0&&(o.flags&128)===0)return Ht=!1,Up(t,o,l);Ht=(t.flags&131072)!==0}else Ht=!1,tt&&(o.flags&1048576)!==0&&Dc(o,Nl,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Jl(t,o),t=o.pendingProps;var _=pr(o,Pt.current);wr(o,l),_=pu(null,o,h,t,_,l);var T=mu();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(h)?(T=!0,Al(o)):T=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,lu(o),_.updater=Wl,o.stateNode=_,_._reactInternals=o,Tu(o,h,t,l),o=Eu(null,o,h,!0,T,l)):(o.tag=0,tt&&T&&Qa(o),Dt(null,o,_,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Jl(t,o),t=o.pendingProps,_=h._init,h=_(h._payload),o.type=h,_=o.tag=Kp(h),t=Sn(h,t),_){case 0:o=Su(null,o,h,t,l);break e;case 1:o=Id(null,o,h,t,l);break e;case 11:o=xd(null,o,h,t,l);break e;case 14:o=Cd(null,o,h,Sn(h.type,t),l);break e}throw Error(r(306,h,""))}return o;case 0:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:Sn(h,_),Su(t,o,h,_,l);case 1:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:Sn(h,_),Id(t,o,h,_,l);case 3:e:{if(kd(o),t===null)throw Error(r(387));h=o.pendingProps,T=o.memoizedState,_=T.element,Oc(t,o),zl(o,h,null,l);var S=o.memoizedState;if(h=S.element,T.isDehydrated)if(T={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){_=xr(Error(r(423)),o),o=Ad(t,o,h,l,_);break e}else if(h!==_){_=xr(Error(r(424)),o),o=Ad(t,o,h,l,_);break e}else for(en=zn(o.stateNode.containerInfo.firstChild),jt=o,tt=!0,Cn=null,l=bc(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(_r(),h===_){o=ui(t,o,l);break e}Dt(t,o,h,l)}o=o.child}return o;case 5:return Zc(o),t===null&&eu(o),h=o.type,_=o.pendingProps,T=t!==null?t.memoizedProps:null,S=_.children,Ne(h,_)?S=null:T!==null&&Ne(h,T)&&(o.flags|=32),Pd(t,o),Dt(t,o,S,l),o.child;case 6:return t===null&&eu(o),null;case 13:return Md(t,o,l);case 4:return au(o,o.stateNode.containerInfo),h=o.pendingProps,t===null?o.child=vr(o,null,h,l):Dt(t,o,h,l),o.child;case 11:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:Sn(h,_),xd(t,o,h,_,l);case 7:return Dt(t,o,o.pendingProps,l),o.child;case 8:return Dt(t,o,o.pendingProps.children,l),o.child;case 12:return Dt(t,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,_=o.pendingProps,T=o.memoizedProps,S=_.value,Qe(Ul,h._currentValue),h._currentValue=S,T!==null)if(Qt(T.value,S)){if(T.children===_.children&&!zt.current){o=ui(t,o,l);break e}}else for(T=o.child,T!==null&&(T.return=o);T!==null;){var A=T.dependencies;if(A!==null){S=T.child;for(var N=A.firstContext;N!==null;){if(N.context===h){if(T.tag===1){N=ai(-1,l&-l),N.tag=2;var H=T.updateQueue;if(H!==null){H=H.shared;var Y=H.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),H.pending=N}}T.lanes|=l,N=T.alternate,N!==null&&(N.lanes|=l),ru(T.return,l,o),A.lanes|=l;break}N=N.next}}else if(T.tag===10)S=T.type===o.type?null:T.child;else if(T.tag===18){if(S=T.return,S===null)throw Error(r(341));S.lanes|=l,A=S.alternate,A!==null&&(A.lanes|=l),ru(S,l,o),S=T.sibling}else S=T.child;if(S!==null)S.return=T;else for(S=T;S!==null;){if(S===o){S=null;break}if(T=S.sibling,T!==null){T.return=S.return,S=T;break}S=S.return}T=S}Dt(t,o,_.children,l),o=o.child}return o;case 9:return _=o.type,h=o.pendingProps.children,wr(o,l),_=fn(_),h=h(_),o.flags|=1,Dt(t,o,h,l),o.child;case 14:return h=o.type,_=Sn(h,o.pendingProps),_=Sn(h.type,_),Cd(t,o,h,_,l);case 15:return Sd(t,o,o.type,o.pendingProps,l);case 17:return h=o.type,_=o.pendingProps,_=o.elementType===h?_:Sn(h,_),Jl(t,o),o.tag=1,Vt(h)?(t=!0,Al(o)):t=!1,wr(o,l),md(o,h,_),Tu(o,h,_,l),Eu(null,o,h,!0,t,l);case 19:return Nd(t,o,l);case 22:return Ed(t,o,l)}throw Error(r(156,o.tag))};function nf(t,o){return il(t,o)}function Yp(t,o,l,h){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,o,l,h){return new Yp(t,o,l,h)}function Wu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kp(t){if(typeof t=="function")return Wu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ee)return 11;if(t===Ie)return 14}return 2}function Ki(t,o){var l=t.alternate;return l===null?(l=mn(t.tag,o,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=o,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,o=t.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function oa(t,o,l,h,_,T){var S=2;if(h=t,typeof t=="function")Wu(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case oe:return No(l.children,_,T,o);case Re:S=8,_|=8;break;case re:return t=mn(12,l,o,_|2),t.elementType=re,t.lanes=T,t;case We:return t=mn(13,l,o,_),t.elementType=We,t.lanes=T,t;case Ye:return t=mn(19,l,o,_),t.elementType=Ye,t.lanes=T,t;case De:return ra(l,_,T,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:S=10;break e;case ve:S=9;break e;case Ee:S=11;break e;case Ie:S=14;break e;case Te:S=16,h=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return o=mn(S,l,o,_),o.elementType=t,o.type=h,o.lanes=T,o}function No(t,o,l,h){return t=mn(7,t,h,o),t.lanes=l,t}function ra(t,o,l,h){return t=mn(22,t,h,o),t.elementType=De,t.lanes=l,t.stateNode={isHidden:!1},t}function Zu(t,o,l){return t=mn(6,t,null,o),t.lanes=l,t}function Ju(t,o,l){return o=mn(4,t.children!==null?t.children:[],t.key,o),o.lanes=l,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function Qp(t,o,l,h,_){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=h,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function $u(t,o,l,h,_,T,S,A,N){return t=new Qp(t,o,l,A,N),o===1?(o=1,T===!0&&(o|=8)):o=0,T=mn(3,null,null,o),t.current=T,T.stateNode=t,T.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(T),t}function Xp(t,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:h==null?null:""+h,children:t,containerInfo:o,implementation:l}}function of(t){if(!t)return bi;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(r(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(t.tag===1){var l=t.type;if(Vt(l))return Lc(t,l,o)}return o}function rf(t,o,l,h,_,T,S,A,N){return t=$u(l,h,!0,t,_,T,S,A,N),t.context=of(null),l=t.current,h=Ut(),_=$i(l),T=ai(h,_),T.callback=o??null,qi(l,T,_),t.current.lanes=_,Zt(t,_,h),Gt(t,h),t}function sa(t,o,l,h){var _=o.current,T=Ut(),S=$i(_);return l=of(l),o.context===null?o.context=l:o.pendingContext=l,o=ai(T,S),o.payload={element:t},h=h===void 0?null:h,h!==null&&(o.callback=h),t=qi(_,o,S),t!==null&&(In(t,_,S,T),Bl(t,_,S)),S}function la(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sf(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<o?l:o}}function Yu(t,o){sf(t,o),(t=t.alternate)&&sf(t,o)}function jp(){return null}var lf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ku(t){this._internalRoot=t}aa.prototype.render=Ku.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(r(409));sa(t,o,null,null)},aa.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Ao(function(){sa(null,t,null,null)}),o[qe]=null}};function aa(t){this._internalRoot=t}aa.prototype.unstable_scheduleHydration=function(t){if(t){var o=$o();t={blockedOn:null,target:t,priority:o};for(var l=0;l<dt.length&&o!==0&&o<dt[l].priority;l++);dt.splice(l,0,t),l===0&&Yo(t)}};function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function af(){}function em(t,o,l,h,_){if(_){if(typeof h=="function"){var T=h;h=function(){var H=la(S);T.call(H)}}var S=rf(o,h,t,0,null,!1,!1,"",af);return t._reactRootContainer=S,t[qe]=S.current,Fi(t.nodeType===8?t.parentNode:t),Ao(),S}for(;_=t.lastChild;)t.removeChild(_);if(typeof h=="function"){var A=h;h=function(){var H=la(N);A.call(H)}}var N=$u(t,0,!1,null,null,!1,!1,"",af);return t._reactRootContainer=N,t[qe]=N.current,Fi(t.nodeType===8?t.parentNode:t),Ao(function(){sa(o,N,l,h)}),N}function ca(t,o,l,h,_){var T=l._reactRootContainer;if(T){var S=T;if(typeof _=="function"){var A=_;_=function(){var N=la(S);A.call(N)}}sa(o,S,t,_)}else S=em(l,o,t,_,h);return la(S)}Zo=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var l=Me(o.pendingLanes);l!==0&&(vn(o,l|1),Gt(o,nt()),(be&6)===0&&(Er=nt()+500,Gi()))}break;case 13:Ao(function(){var h=li(t,1);if(h!==null){var _=Ut();In(h,t,1,_)}}),Yu(t,1)}},Zn=function(t){if(t.tag===13){var o=li(t,134217728);if(o!==null){var l=Ut();In(o,t,134217728,l)}Yu(t,134217728)}},Jo=function(t){if(t.tag===13){var o=$i(t),l=li(t,o);if(l!==null){var h=Ut();In(l,t,o,h)}Yu(t,o)}},$o=function(){return He},uo=function(t,o){var l=He;try{return He=t,o()}finally{He=l}},Vo=function(t,o,l){switch(o){case"input":if(to(t,l),o=l.name,l.type==="radio"&&o!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==t&&h.form===t.form){var _=fr(h);if(!_)throw Error(r(90));pi(h),to(h,_)}}}break;case"textarea":qs(t,l);break;case"select":o=l.value,o!=null&&An(t,!!l.multiple,o,!1)}},Qs=Gu,Xs=Ao;var tm={usingClientEntryPoint:!1,Events:[ni,ii,fr,Ys,Ks,Gu]},Ds={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nm={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tl(t),t===null?null:t.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{lo=da.inject(nm),Wt=da}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm,Ot.createPortal=function(t,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(o))throw Error(r(200));return Xp(t,o,null,l)},Ot.createRoot=function(t,o){if(!Qu(t))throw Error(r(299));var l=!1,h="",_=lf;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=$u(t,1,!1,null,null,l,!1,h,_),t[qe]=o.current,Fi(t.nodeType===8?t.parentNode:t),new Ku(o)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=tl(o),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return Ao(t)},Ot.hydrate=function(t,o,l){if(!ua(o))throw Error(r(200));return ca(null,t,o,!0,l)},Ot.hydrateRoot=function(t,o,l){if(!Qu(t))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,_=!1,T="",S=lf;if(l!=null&&(l.unstable_strictMode===!0&&(_=!0),l.identifierPrefix!==void 0&&(T=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=rf(o,null,t,1,l??null,_,!1,T,S),t[qe]=o.current,Fi(t),h)for(t=0;t<h.length;t++)l=h[t],_=l._getVersion,_=_(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,_]:o.mutableSourceEagerHydrationData.push(l,_);return new aa(o)},Ot.render=function(t,o,l){if(!ua(o))throw Error(r(200));return ca(null,t,o,!1,l)},Ot.unmountComponentAtNode=function(t){if(!ua(t))throw Error(r(40));return t._reactRootContainer?(Ao(function(){ca(null,null,t,!1,function(){t._reactRootContainer=null,t[qe]=null})}),!0):!1},Ot.unstable_batchedUpdates=Gu,Ot.unstable_renderSubtreeIntoContainer=function(t,o,l,h){if(!ua(l))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return ca(t,o,l,!1,h)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var gf;function bh(){if(gf)return ec.exports;gf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ec.exports=um(),ec.exports}var _f;function cm(){if(_f)return fa;_f=1;var i=bh();return fa.createRoot=i.createRoot,fa.hydrateRoot=i.hydrateRoot,fa}var dm=cm();const fm=gc(dm);var Ue=(i=>(i[i.Splash=0]="Splash",i[i.Onboarding=1]="Onboarding",i[i.Login=2]="Login",i[i.Signup=3]="Signup",i[i.Permissions=4]="Permissions",i[i.Home=5]="Home",i[i.Explore=6]="Explore",i[i.Favorites=7]="Favorites",i[i.Settings=8]="Settings",i[i.AR=9]="AR",i))(Ue||{});const ha={splash_tagline:"Your smart guide to Lagos.",onboarding_title_1:"Welcome to EKO",onboarding_desc_1:"Discover the vibrant city of Lagos like never before. Your personal guide awaits.",onboarding_title_2:"Find Your Way",onboarding_desc_2:"Navigate with real-time traffic updates and smart routing to beat the congestion.",onboarding_title_3:"Discover Gems",onboarding_desc_3:"Explore local hotspots, restaurants, and cultural landmarks curated just for you.",onboarding_next:"Next",onboarding_get_started:"Get Started",login_welcome:"Welcome Back!",login_tagline:"Sign in to continue your journey.",email_placeholder:"Email Address",password_placeholder:"Password",login_button:"Login",or_divider:"or",login_google:"Continue with Google",login_google_loading:"Signing in...",login_no_account:"Don't have an account?",login_signup_link:"Sign Up",signup_create_account:"Create Account",signup_tagline:"Start exploring Lagos with us.",fullname_placeholder:"Full Name",signup_button:"Sign Up",signup_has_account:"Already have an account?",signup_login_link:"Login",permissions_title:"Permissions",permissions_tagline:"To give you the best experience, EKO needs access to a few things.",permissions_allowed:"Allowed",permissions_location_title:"Location Access",permissions_location_desc:"Essential for navigation, finding nearby places, and providing real-time traffic updates.",permissions_location_button:"Allow Location",permissions_camera_title:"Camera Access",permissions_camera_desc:"Required for the Augmented Reality (AR) navigation feature to overlay directions onto your view.",permissions_camera_button:"Allow Camera",permissions_offline_title:"Offline Storage",permissions_offline_desc:"Enables you to download maps and access saved places even without an internet connection.",permissions_offline_button:"Enable Offline Access",sidebar_eko_nav:"EKO Nav",sidebar_welcome_user:"Welcome back",sidebar_home:"Home",sidebar_explore:"Explore",sidebar_favorites:"Favorites",sidebar_settings:"Settings",home_search_placeholder:"Search for places, landmarks...",home_map_layers:"Map Layers",explore_header:"Explore Lagos",explore_trending:"Trending",explore_food:"Food",explore_culture:"Culture",explore_nature:"Nature",explore_events:"Events",favorites_header:"My Places",favorites_tab:"Favorites",favorites_recents_tab:"Recents",settings_header:"Settings",settings_account:"Account",settings_logout:"Logout",settings_preferences:"Preferences",settings_theme:"Theme",settings_language:"Language",settings_map_source:"Map Source",ekobot_header:"EkoBot",ekobot_placeholder:"Ask me about Lagos...",ekobot_listening_placeholder:"Listening...",ekobot_send_label:"Send message",ekobot_voice_input_label:"Start voice input",ekobot_voice_stop_label:"Stop voice input",ar_you_are_here:"You are here",search_loading:"Searching...",search_no_results:"No results found.",zoom_in_label:"Zoom In",zoom_out_label:"Zoom Out"},vf={English:ha,Yoruba:ha,Hausa:ha,Igbo:ha},Gh=j.createContext(void 0),hm=({children:i,value:e,setValue:r})=>{const a=j.useMemo(()=>c=>vf[e][c]||vf.English[c]||c,[e]);return P.jsx(Gh.Provider,{value:{language:e,setLanguage:r,t:a},children:i})},qt=()=>{const i=j.useContext(Gh);if(i===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return i},pm=()=>P.jsxs("div",{className:"relative text-7xl font-bold font-poppins",children:[P.jsx("span",{className:"absolute -inset-1 bg-gradient-to-r from-[#008751] to-[#F9B233] rounded-lg blur opacity-75 animate-pulse"}),P.jsx("div",{className:"relative px-7 py-4 bg-[#121212] rounded-lg leading-none flex items-center",children:P.jsx("span",{className:"text-gray-100",children:"EKO"})})]}),mm=()=>{const[i,e]=j.useState(0),{t:r}=qt();return j.useEffect(()=>{const a=setTimeout(()=>{e(100)},100);return()=>clearTimeout(a)},[]),P.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#121212] text-white",children:[P.jsx(pm,{}),P.jsx("p",{className:"mt-6 text-slate-300",children:r("splash_tagline")}),P.jsx("div",{className:"w-1/3 h-1 mt-4 bg-gray-700 rounded-full overflow-hidden",children:P.jsx("div",{className:"h-full bg-gradient-to-r from-[#008751] to-[#F9B233] transition-all duration-[2000ms] ease-out",style:{width:`${i}%`}})})]})},gm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),P.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),_m=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),P.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),Oh=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),P.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),vm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),P.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Xi=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"})]}),vc=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),ym=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("polyline",{points:"12 6 12 12 16 14"})]}),wm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"12",cy:"12",r:"3"}),P.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Tm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),P.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),yc=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Ca=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),P.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),P.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),xm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"11",cy:"11",r:"8"}),P.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Cm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("circle",{cx:"12",cy:"12",r:"6"}),P.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Sm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),P.jsx("polyline",{points:"2 17 12 22 22 17"}),P.jsx("polyline",{points:"2 12 12 17 22 12"})]}),Em=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Pm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),P.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),P.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),P.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),Im=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("polyline",{points:"6 9 12 15 18 9"})}),km=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...i,children:[P.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),P.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),P.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),P.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Am=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),Mm=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),Lm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),P.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Nm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),P.jsx("polyline",{points:"21 15 16 10 5 21"})]}),Rm=i=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[P.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),P.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Dm=i=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:P.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),qh=({src:i,alt:e,className:r,fallbackClassName:a,iconClassName:c})=>{const[p,m]=j.useState(!1);return p||!i?P.jsx("div",{className:`${r} ${a} flex items-center justify-center bg-gray-700 overflow-hidden`,children:P.jsx(Nm,{className:`text-gray-500 w-1/2 h-1/2 ${c}`})}):P.jsx("img",{src:i,alt:e,className:r,onError:()=>m(!0),loading:"lazy"})},pa=[{image:"https://images.unsplash.com/photo-1605723528445-535f2b05b5a6?q=80&w=1000&auto=format&fit=crop",titleKey:"onboarding_title_1",descriptionKey:"onboarding_desc_1"},{image:"https://images.unsplash.com/photo-1684483751563-745862593b33?q=80&w=1000&auto=format&fit=crop",titleKey:"onboarding_title_2",descriptionKey:"onboarding_desc_2"},{image:"https://images.unsplash.com/photo-1615124845014-943343a4e9a3?q=80&w=1000&auto=format&fit=crop",titleKey:"onboarding_title_3",descriptionKey:"onboarding_desc_3"}],Um=({onComplete:i})=>{const[e,r]=j.useState(0),{t:a}=qt(),c=()=>{e<pa.length-1?r(e+1):i()},p=pa[e];return P.jsxs("div",{className:"flex flex-col h-screen bg-[#121212] text-white",children:[P.jsxs("div",{className:"flex-grow relative",children:[P.jsx(qh,{src:p.image,alt:"Lagos scenery",className:"w-full h-full object-cover opacity-60",fallbackClassName:"bg-gray-900",iconClassName:"w-24 h-24 text-gray-700"}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-[#121212]/70 to-transparent"})]}),P.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-center bg-[#121212] bg-opacity-70 backdrop-blur-sm rounded-t-3xl",children:[P.jsx("h2",{className:"text-3xl font-bold font-poppins mb-4",children:a(p.titleKey)}),P.jsx("p",{className:"text-slate-300 mb-8 max-w-md mx-auto",children:a(p.descriptionKey)}),P.jsx("div",{className:"flex items-center justify-center space-x-2 mb-8",children:pa.map((m,v)=>P.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${e===v?"bg-[#F9B233] w-6":"bg-gray-600"}`},v))}),P.jsx("button",{onClick:c,className:"w-full max-w-md mx-auto bg-gradient-to-r from-[#008751] to-[#1c5f42] text-white font-bold py-4 px-4 rounded-xl transition-transform duration-300 transform hover:scale-105 shadow-lg",children:e===pa.length-1?a("onboarding_get_started"):a("onboarding_next")})]})]})},ic=({icon:i,title:e,description:r,buttonText:a,onAllow:c,isAllowed:p})=>{const{t:m}=qt();return P.jsxs("div",{className:"bg-[#1A2E27]/80 border border-green-900/50 p-6 rounded-2xl shadow-lg w-full max-w-sm mb-6",children:[P.jsxs("div",{className:"flex items-center mb-4",children:[P.jsx("div",{className:"bg-[#008751]/30 p-3 rounded-full mr-4",children:i}),P.jsx("h3",{className:"text-xl font-bold font-poppins",children:e})]}),P.jsx("p",{className:"text-slate-300 mb-6",children:r}),P.jsx("button",{onClick:c,disabled:p,className:"w-full bg-[#008751] hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl transition duration-300 disabled:bg-gray-500 disabled:cursor-not-allowed",children:p?m("permissions_allowed"):a})]})},Fm=({onComplete:i})=>{const[e,r]=j.useState(!1),[a,c]=j.useState(!1),[p,m]=j.useState(!1),{t:v}=qt();j.useEffect(()=>{if(e&&a&&p){const E=setTimeout(()=>i(),500);return()=>clearTimeout(E)}},[e,a,p,i]);const w=()=>{navigator.geolocation.getCurrentPosition(()=>r(!0),()=>alert("Location access denied. Some features may not work correctly."))},y=async()=>{if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persist()||alert("Persistent storage could not be enabled automatically. Offline features might be limited. You can continue."),c(!0)}catch(E){console.error("Error requesting persistent storage:",E),alert("An error occurred while trying to enable offline access. You can continue, but offline features may be limited."),c(!0)}else alert("Your browser doesn't fully support offline storage. You can continue, but some features may not work without a connection."),c(!0)},C=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(E=>{m(!0),E.getTracks().forEach(k=>k.stop())}).catch(()=>alert("Camera access denied. AR features will not be available."))};return P.jsxs("div",{className:"flex flex-col items-center justify-start h-screen bg-[#121212] text-white p-6 py-10 overflow-y-auto",children:[P.jsx("h2",{className:"text-3xl font-bold font-poppins mb-2",children:v("permissions_title")}),P.jsx("p",{className:"text-slate-400 mb-8 text-center max-w-sm",children:v("permissions_tagline")}),P.jsx(ic,{icon:P.jsx(_m,{className:"w-6 h-6 text-[#F9B233]"}),title:v("permissions_location_title"),description:v("permissions_location_desc"),buttonText:v("permissions_location_button"),onAllow:w,isAllowed:e}),P.jsx(ic,{icon:P.jsx(Oh,{className:"w-6 h-6 text-[#F9B233]"}),title:v("permissions_camera_title"),description:v("permissions_camera_desc"),buttonText:v("permissions_camera_button"),onAllow:C,isAllowed:p}),P.jsx(ic,{icon:P.jsx(gm,{className:"w-6 h-6 text-[#F9B233]"}),title:v("permissions_offline_title"),description:v("permissions_offline_desc"),buttonText:v("permissions_offline_button"),onAllow:y,isAllowed:a})]})},Hs={name:"Ayomide Lagos",email:"ayo.lagos@example.com",avatarUrl:`https://api.pravatar.cc/150?u=${encodeURIComponent("ayo.lagos@example.com")}`},Bm=[{title:"Preferences",items:[{label:"Theme",type:"select",options:["Dark","Light","Auto"],key:"theme"},{label:"Language",type:"select",options:["English","Yoruba","Hausa","Igbo"],key:"language"},{label:"Map Source",type:"select",options:["OpenStreetMap","Google Maps"],key:"mapSource"}]}],zm=[{name:"Lekki Conservation Centre",category:"Nature",imageUrl:"https://images.unsplash.com/photo-160530514b219-c53351a8a25a?q=80&w=870&auto=format&fit=crop"},{name:"Nike Art Gallery",category:"Culture",imageUrl:"https://images.unsplash.com/photo-1582555172866-f73bb12a2ab3?q=80&w=774&auto=format&fit=crop"},{name:"Freedom Park Lagos",category:"Landmark",imageUrl:"https://images.unsplash.com/photo-1568899347948-527b4b1b38f3?q=80&w=774&auto=format&fit=crop"}],Vm=[{name:"Kalakuta Republic Museum",category:"Culture",imageUrl:"https://images.unsplash.com/photo-1555529124-76251b6a186a?q=80&w=870&auto=format&fit=crop"},{name:"Tarkwa Bay Beach",category:"Nature",imageUrl:"https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b?q=80&w=774&auto=format&fit=crop"}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Hm,bm;function Gm(){return{geminiUrl:Hm,vertexUrl:bm}}function Om(i,e,r,a){var c,p;if(!(i!=null&&i.baseUrl)){const m=Gm();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:r:(p=m.geminiUrl)!==null&&p!==void 0?p:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{}function de(i,e){const r=/\{([^}]+)\}/g;return i.replace(r,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const p=e[c];return p!=null?String(p):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function f(i,e,r){for(let p=0;p<e.length-1;p++){const m=e[p];if(m.endsWith("[]")){const v=m.slice(0,-2);if(!(v in i))if(Array.isArray(r))i[v]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[v])){const w=i[v];if(Array.isArray(r))for(let y=0;y<w.length;y++){const C=w[y];f(C,e.slice(p+1),r[y])}else for(const y of w)f(y,e.slice(p+1),r)}return}else if(m.endsWith("[0]")){const v=m.slice(0,-3);v in i||(i[v]=[{}]);const w=i[v];f(w[0],e.slice(p+1),r);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=e[e.length-1],c=i[a];if(c!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===c)return;if(typeof c=="object"&&typeof r=="object"&&c!==null&&r!==null)Object.assign(c,r);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(i,r):i[a]=r}function u(i,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let a=0;a<e.length;a++){if(typeof i!="object"||i===null)return r;const c=e[a];if(c.endsWith("[]")){const p=c.slice(0,-2);if(p in i){const m=i[p];return Array.isArray(m)?m.map(v=>u(v,e.slice(a+1),r)):r}else return r}else i=i[c]}return i}catch(a){if(a instanceof TypeError)return r;throw a}}function qm(i,e){for(const[r,a]of Object.entries(e)){const c=r.split("."),p=a.split("."),m=new Set;let v=-1;for(let w=0;w<c.length;w++)if(c[w]==="*"){v=w;break}if(v!==-1&&p.length>v)for(let w=v;w<p.length;w++){const y=p[w];y!=="*"&&!y.endsWith("[]")&&!y.endsWith("[0]")&&m.add(y)}sc(i,c,p,0,m)}}function sc(i,e,r,a,c){if(a>=e.length||typeof i!="object"||i===null)return;const p=e[a];if(p.endsWith("[]")){const m=p.slice(0,-2),v=i;if(m in v&&Array.isArray(v[m]))for(const w of v[m])sc(w,e,r,a+1,c)}else if(p==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,v=Object.keys(m).filter(y=>!y.startsWith("_")&&!c.has(y)),w={};for(const y of v)w[y]=m[y];for(const[y,C]of Object.entries(w)){const E=[];for(const k of r.slice(a))k==="*"?E.push(y):E.push(k);f(m,E,C)}for(const y of v)delete m[y]}}else{const m=i;p in m&&sc(m[p],e,r,a+1,c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wm(i){const e={},r=u(i,["operationName"]);r!=null&&f(e,["operationName"],r);const a=u(i,["resourceName"]);return a!=null&&f(e,["_url","resourceName"],a),e}function Zm(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["metadata"]);a!=null&&f(e,["metadata"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);p!=null&&f(e,["error"],p);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(e,["response"],$m(m)),e}function Jm(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["metadata"]);a!=null&&f(e,["metadata"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);p!=null&&f(e,["error"],p);const m=u(i,["response"]);return m!=null&&f(e,["response"],Ym(m)),e}function $m(i){const e={},r=u(i,["generatedSamples"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Km(m))),f(e,["generatedVideos"],p)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(e,["raiMediaFilteredReasons"],c),e}function Ym(i){const e={},r=u(i,["videos"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>Qm(m))),f(e,["generatedVideos"],p)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(e,["raiMediaFilteredReasons"],c),e}function Km(i){const e={},r=u(i,["video"]);return r!=null&&f(e,["video"],eg(r)),e}function Qm(i){const e={},r=u(i,["_self"]);return r!=null&&f(e,["video"],tg(r)),e}function Xm(i){const e={},r=u(i,["operationName"]);return r!=null&&f(e,["_url","operationName"],r),e}function jm(i){const e={},r=u(i,["operationName"]);return r!=null&&f(e,["_url","operationName"],r),e}function eg(i){const e={},r=u(i,["uri"]);r!=null&&f(e,["uri"],r);const a=u(i,["encodedVideo"]);a!=null&&f(e,["videoBytes"],wc(a));const c=u(i,["encoding"]);return c!=null&&f(e,["mimeType"],c),e}function tg(i){const e={},r=u(i,["gcsUri"]);r!=null&&f(e,["uri"],r);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(e,["videoBytes"],wc(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["mimeType"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yf;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yf||(yf={}));var wf;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(wf||(wf={}));var mt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(mt||(mt={}));var Tf;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Tf||(Tf={}));var xf;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(xf||(xf={}));var Cf;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Cf||(Cf={}));var Sf;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Sf||(Sf={}));var Ef;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Ef||(Ef={}));var Pf;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Pf||(Pf={}));var If;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(If||(If={}));var kf;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(kf||(kf={}));var Af;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Af||(Af={}));var Mf;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mf||(Mf={}));var Lf;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY"})(Lf||(Lf={}));var Nf;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nf||(Nf={}));var ya;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ya||(ya={}));var Rf;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Rf||(Rf={}));var lc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lc||(lc={}));var Df;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Df||(Df={}));var Uf;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Uf||(Uf={}));var Ff;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Ff||(Ff={}));var Bf;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Bf||(Bf={}));var zf;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Vf;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Vf||(Vf={}));var Hf;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Hf||(Hf={}));var bf;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(bf||(bf={}));var Gf;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Gf||(Gf={}));var Of;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Of||(Of={}));var qf;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(qf||(qf={}));var Wf;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wf||(Wf={}));var Zf;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Zf||(Zf={}));var Jf;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jf||(Jf={}));var $f;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($f||($f={}));var Yf;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Yf||(Yf={}));var Kf;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Kf||(Kf={}));var Qf;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Qf||(Qf={}));var Xf;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Xf||(Xf={}));var jf;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(jf||(jf={}));var eh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(eh||(eh={}));var th;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(th||(th={}));var nh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(nh||(nh={}));var ih;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ih||(ih={}));var oh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(oh||(oh={}));var rh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(rh||(rh={}));var sh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sh||(sh={}));var lh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(lh||(lh={}));var ah;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ah||(ah={}));var uh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(uh||(uh={}));var Ir;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ir||(Ir={}));class ac{constructor(e){const r={};for(const a of e.headers.entries())r[a[0]]=a[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fs{get text(){var e,r,a,c,p,m,v,w;if(((c=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let y="",C=!1;const E=[];for(const k of(w=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&w!==void 0?w:[]){for(const[U,G]of Object.entries(k))U!=="text"&&U!=="thought"&&(G!==null||G!==void 0)&&E.push(U);if(typeof k.text=="string"){if(typeof k.thought=="boolean"&&k.thought)continue;C=!0,y+=k.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),C?y:void 0}get data(){var e,r,a,c,p,m,v,w;if(((c=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let y="";const C=[];for(const E of(w=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&w!==void 0?w:[]){for(const[k,U]of Object.entries(E))k!=="inlineData"&&(U!==null||U!==void 0)&&C.push(k);E.inlineData&&typeof E.inlineData.data=="string"&&(y+=atob(E.inlineData.data))}return C.length>0&&console.warn(`there are non-data parts ${C} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),y.length>0?btoa(y):void 0}get functionCalls(){var e,r,a,c,p,m,v,w;if(((c=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const y=(w=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(C=>C.functionCall).map(C=>C.functionCall).filter(C=>C!==void 0);if((y==null?void 0:y.length)!==0)return y}get executableCode(){var e,r,a,c,p,m,v,w,y;if(((c=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const C=(w=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((C==null?void 0:C.length)!==0)return(y=C==null?void 0:C[0])===null||y===void 0?void 0:y.code}get codeExecutionResult(){var e,r,a,c,p,m,v,w,y;if(((c=(a=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const C=(w=(v=(m=(p=this.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((C==null?void 0:C.length)!==0)return(y=C==null?void 0:C[0])===null||y===void 0?void 0:y.output}}class ch{}class dh{}class ng{}class ig{}class og{}class rg{}class fh{}class hh{}class ph{}class sg{}class wa{_fromAPIResponse({apiResponse:e,isVertexAI:r}){const a=new wa;let c;const p=e;return r?c=Jm(p):c=Zm(p),Object.assign(a,c),a}}class mh{}class gh{}class _h{}class lg{}class ag{}class ug{}class vh{}class cg{get text(){var e,r,a;let c="",p=!1;const m=[];for(const v of(a=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&a!==void 0?a:[]){for(const[w,y]of Object.entries(v))w!=="text"&&w!=="thought"&&y!==null&&m.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,c+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?c:void 0}get data(){var e,r,a;let c="";const p=[];for(const m of(a=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&a!==void 0?a:[]){for(const[v,w]of Object.entries(m))v!=="inlineData"&&w!==null&&p.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class dg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wh(i,e){const r=Oe(i,e);return r?r.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}`:r.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${r}`:r:""}function Zh(i){return Array.isArray(i)?i.map(e=>Ta(e)):[Ta(i)]}function Ta(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Jh(i){const e=Ta(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $h(i){const e=Ta(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Yh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>yh(e)):[yh(i)]}function uc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function wh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Th(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Mt(i){if(i==null)throw new Error("ContentUnion is required");return uc(i)?i:{role:"user",parts:Yh(i)}}function Tc(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const a=Mt(r);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const r=Mt(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Mt(r)):[Mt(e)]}function gn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(wh(i)||Th(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(i)]}const e=[],r=[],a=uc(i[0]);for(const c of i){const p=uc(c);if(p!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)e.push(c);else{if(wh(c)||Th(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(c)}}return a||e.push({role:"user",parts:Yh(r)}),e}function fg(i,e){i.includes("null")&&(e.nullable=!0);const r=i.filter(a=>a!=="null");if(r.length===1)e.type=Object.values(mt).includes(r[0].toUpperCase())?r[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of r)e.anyOf.push({type:Object.values(mt).includes(a.toUpperCase())?a.toUpperCase():mt.TYPE_UNSPECIFIED})}}function kr(i){const e={},r=["items"],a=["anyOf"],c=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const p=i.anyOf;p!=null&&p.length==2&&(p[0].type==="null"?(e.nullable=!0,i=p[1]):p[1].type==="null"&&(e.nullable=!0,i=p[0])),i.type instanceof Array&&fg(i.type,e);for(const[m,v]of Object.entries(i))if(v!=null)if(m=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;e.type=Object.values(mt).includes(v.toUpperCase())?v.toUpperCase():mt.TYPE_UNSPECIFIED}else if(r.includes(m))e[m]=kr(v);else if(a.includes(m)){const w=[];for(const y of v){if(y.type=="null"){e.nullable=!0;continue}w.push(kr(y))}e[m]=w}else if(c.includes(m)){const w={};for(const[y,C]of Object.entries(v))w[y]=kr(C);e[m]=w}else{if(m==="additionalProperties")continue;e[m]=v}return e}function xc(i){return kr(i)}function Cc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Sc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Nr(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=kr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=kr(e.response));return i}function Rr(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of i)e.push(r);return e}function hg(i,e,r,a=1){const c=!e.startsWith(`${r}/`)&&e.split("/").length===a;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:c?`projects/${i.getProject()}/locations/${i.getLocation()}/${r}/${e}`:e:c?`${r}/${e}`:e}function fi(i,e){if(typeof e!="string")throw new Error("name must be a string");return hg(i,e,"cachedContents")}function Kh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function eo(i){return wc(i)}function pg(i){return i!=null&&typeof i=="object"&&"name"in i}function mg(i){return i!=null&&typeof i=="object"&&"video"in i}function gg(i){return i!=null&&typeof i=="object"&&"uri"in i}function Qh(i){var e;let r;if(pg(i)&&(r=i.name),!(gg(i)&&(r=i.uri,r===void 0))&&!(mg(i)&&(r=(e=i.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof i=="string"&&(r=i),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const c=r.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${r}`);r=c[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Xh(i,e){let r;return i.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function jh(i){for(const e of["models","tunedModels","publisherModels"])if(_g(i,e))return i[e];return[]}function _g(i,e){return i!==null&&typeof i=="object"&&e in i}function vg(i,e={}){const r=i,a={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(a.responseJsonSchema=r.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function yg(i,e={}){const r=[],a=new Set;for(const c of i){const p=c.name;if(a.has(p))throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a.add(p);const m=vg(c,e);m.functionDeclarations&&r.push(...m.functionDeclarations)}return{functionDeclarations:r}}function ep(i,e){let r;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const a=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,c=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(i.isVertexAI()){if(c>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function wg(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tp(i){if(typeof i!="object"||i===null)return{};const e=i,r=e.inlinedResponses;if(typeof r!="object"||r===null)return i;const c=r.inlinedResponses;if(!Array.isArray(c)||c.length===0)return i;let p=!1;for(const m of c){if(typeof m!="object"||m===null)continue;const w=m.response;if(typeof w!="object"||w===null)continue;if(w.embedding!==void 0){p=!0;break}}return p&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function Dr(i,e){const r=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function np(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tg(i){const e={},r=u(i,["responsesFile"]);r!=null&&f(e,["fileName"],r);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Xg(m))),f(e,["inlinedResponses"],p)}const c=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),f(e,["inlinedEmbedContentResponses"],p)}return e}function xg(i){const e={},r=u(i,["predictionsFormat"]);r!=null&&f(e,["format"],r);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(e,["gcsUri"],a);const c=u(i,["bigqueryDestination","outputUri"]);return c!=null&&f(e,["bigqueryUri"],c),e}function Cg(i){const e={},r=u(i,["format"]);r!=null&&f(e,["predictionsFormat"],r);const a=u(i,["gcsUri"]);a!=null&&f(e,["gcsDestination","outputUriPrefix"],a);const c=u(i,["bigqueryUri"]);if(c!=null&&f(e,["bigqueryDestination","outputUri"],c),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ga(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["metadata","displayName"]);a!=null&&f(e,["displayName"],a);const c=u(i,["metadata","state"]);c!=null&&f(e,["state"],np(c));const p=u(i,["metadata","createTime"]);p!=null&&f(e,["createTime"],p);const m=u(i,["metadata","endTime"]);m!=null&&f(e,["endTime"],m);const v=u(i,["metadata","updateTime"]);v!=null&&f(e,["updateTime"],v);const w=u(i,["metadata","model"]);w!=null&&f(e,["model"],w);const y=u(i,["metadata","output"]);return y!=null&&f(e,["dest"],Tg(tp(y))),e}function cc(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["displayName"]);a!=null&&f(e,["displayName"],a);const c=u(i,["state"]);c!=null&&f(e,["state"],np(c));const p=u(i,["error"]);p!=null&&f(e,["error"],p);const m=u(i,["createTime"]);m!=null&&f(e,["createTime"],m);const v=u(i,["startTime"]);v!=null&&f(e,["startTime"],v);const w=u(i,["endTime"]);w!=null&&f(e,["endTime"],w);const y=u(i,["updateTime"]);y!=null&&f(e,["updateTime"],y);const C=u(i,["model"]);C!=null&&f(e,["model"],C);const E=u(i,["inputConfig"]);E!=null&&f(e,["src"],Sg(E));const k=u(i,["outputConfig"]);return k!=null&&f(e,["dest"],xg(tp(k))),e}function Sg(i){const e={},r=u(i,["instancesFormat"]);r!=null&&f(e,["format"],r);const a=u(i,["gcsSource","uris"]);a!=null&&f(e,["gcsUri"],a);const c=u(i,["bigquerySource","inputUri"]);return c!=null&&f(e,["bigqueryUri"],c),e}function Eg(i,e){const r={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(e,["fileName"]);a!=null&&f(r,["fileName"],a);const c=u(e,["inlinedRequests"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Qg(i,m))),f(r,["requests","requests"],p)}return r}function Pg(i){const e={},r=u(i,["format"]);r!=null&&f(e,["instancesFormat"],r);const a=u(i,["gcsUri"]);a!=null&&f(e,["gcsSource","uris"],a);const c=u(i,["bigqueryUri"]);if(c!=null&&f(e,["bigquerySource","inputUri"],c),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ig(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["data"]);r!=null&&f(e,["data"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function kg(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function Ag(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function Mg(i){const e={},r=u(i,["content"]);r!=null&&f(e,["content"],r);const a=u(i,["citationMetadata"]);a!=null&&f(e,["citationMetadata"],Lg(a));const c=u(i,["tokenCount"]);c!=null&&f(e,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(e,["finishReason"],p);const m=u(i,["urlContextMetadata"]);m!=null&&f(e,["urlContextMetadata"],m);const v=u(i,["avgLogprobs"]);v!=null&&f(e,["avgLogprobs"],v);const w=u(i,["groundingMetadata"]);w!=null&&f(e,["groundingMetadata"],w);const y=u(i,["index"]);y!=null&&f(e,["index"],y);const C=u(i,["logprobsResult"]);C!=null&&f(e,["logprobsResult"],C);const E=u(i,["safetyRatings"]);if(E!=null){let k=E;Array.isArray(k)&&(k=k.map(U=>U)),f(e,["safetyRatings"],k)}return e}function Lg(i){const e={},r=u(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["citations"],a)}return e}function ip(i){const e={},r=u(i,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>r_(p))),f(e,["parts"],c)}const a=u(i,["role"]);return a!=null&&f(e,["role"],a),e}function Ng(i,e){const r={},a=u(i,["displayName"]);if(e!==void 0&&a!=null&&f(e,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Rg(i,e){const r={},a=u(i,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(i,["dest"]);return e!==void 0&&c!=null&&f(e,["outputConfig"],Cg(wg(c))),r}function xh(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["src"]);c!=null&&f(r,["batch","inputConfig"],Eg(i,ep(i,c)));const p=u(e,["config"]);return p!=null&&Ng(p,r),r}function Dg(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["model"],Oe(i,a));const c=u(e,["src"]);c!=null&&f(r,["inputConfig"],Pg(ep(i,c)));const p=u(e,["config"]);return p!=null&&Rg(p,r),r}function Ug(i,e){const r={},a=u(i,["displayName"]);return e!==void 0&&a!=null&&f(e,["batch","displayName"],a),r}function Fg(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["src"]);c!=null&&f(r,["batch","inputConfig"],Og(i,c));const p=u(e,["config"]);return p!=null&&Ug(p,r),r}function Bg(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function zg(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function Vg(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);return p!=null&&f(e,["error"],p),e}function Hg(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);return p!=null&&f(e,["error"],p),e}function bg(i,e){const r={},a=u(e,["contents"]);if(a!=null){let p=Tc(i,a);Array.isArray(p)&&(p=p.map(m=>m)),f(r,["requests[]","request","content"],p)}const c=u(e,["config"]);return c!=null&&(f(r,["_self"],Gg(c,r)),qm(r,{"requests[].*":"requests[].request.*"})),r}function Gg(i,e){const r={},a=u(i,["taskType"]);e!==void 0&&a!=null&&f(e,["requests[]","taskType"],a);const c=u(i,["title"]);e!==void 0&&c!=null&&f(e,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(e!==void 0&&p!=null&&f(e,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Og(i,e){const r={},a=u(e,["fileName"]);a!=null&&f(r,["file_name"],a);const c=u(e,["inlinedRequests"]);return c!=null&&f(r,["requests"],bg(i,c)),r}function qg(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&f(e,["fileUri"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Wg(i,e,r){const a={},c=u(e,["systemInstruction"]);r!==void 0&&c!=null&&f(r,["systemInstruction"],ip(Mt(c)));const p=u(e,["temperature"]);p!=null&&f(a,["temperature"],p);const m=u(e,["topP"]);m!=null&&f(a,["topP"],m);const v=u(e,["topK"]);v!=null&&f(a,["topK"],v);const w=u(e,["candidateCount"]);w!=null&&f(a,["candidateCount"],w);const y=u(e,["maxOutputTokens"]);y!=null&&f(a,["maxOutputTokens"],y);const C=u(e,["stopSequences"]);C!=null&&f(a,["stopSequences"],C);const E=u(e,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const k=u(e,["logprobs"]);k!=null&&f(a,["logprobs"],k);const U=u(e,["presencePenalty"]);U!=null&&f(a,["presencePenalty"],U);const G=u(e,["frequencyPenalty"]);G!=null&&f(a,["frequencyPenalty"],G);const b=u(e,["seed"]);b!=null&&f(a,["seed"],b);const K=u(e,["responseMimeType"]);K!=null&&f(a,["responseMimeType"],K);const ne=u(e,["responseSchema"]);ne!=null&&f(a,["responseSchema"],xc(ne));const $=u(e,["responseJsonSchema"]);if($!=null&&f(a,["responseJsonSchema"],$),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=u(e,["safetySettings"]);if(r!==void 0&&Q!=null){let Ee=Q;Array.isArray(Ee)&&(Ee=Ee.map(We=>s_(We))),f(r,["safetySettings"],Ee)}const le=u(e,["tools"]);if(r!==void 0&&le!=null){let Ee=Rr(le);Array.isArray(Ee)&&(Ee=Ee.map(We=>l_(Nr(We)))),f(r,["tools"],Ee)}const he=u(e,["toolConfig"]);if(r!==void 0&&he!=null&&f(r,["toolConfig"],he),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);r!==void 0&&te!=null&&f(r,["cachedContent"],fi(i,te));const oe=u(e,["responseModalities"]);oe!=null&&f(a,["responseModalities"],oe);const Re=u(e,["mediaResolution"]);Re!=null&&f(a,["mediaResolution"],Re);const re=u(e,["speechConfig"]);if(re!=null&&f(a,["speechConfig"],Cc(re)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ae=u(e,["thinkingConfig"]);Ae!=null&&f(a,["thinkingConfig"],Ae);const ve=u(e,["imageConfig"]);return ve!=null&&f(a,["imageConfig"],ve),a}function Zg(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["candidates"]);if(a!=null){let w=a;Array.isArray(w)&&(w=w.map(y=>Mg(y))),f(e,["candidates"],w)}const c=u(i,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(e,["promptFeedback"],p);const m=u(i,["responseId"]);m!=null&&f(e,["responseId"],m);const v=u(i,["usageMetadata"]);return v!=null&&f(e,["usageMetadata"],v),e}function Jg(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function $g(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],Dr(i,a)),r}function Yg(i){const e={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&f(e,["enableWidget"],r),e}function Kg(i){const e={},r=u(i,["timeRangeFilter"]);if(r!=null&&f(e,["timeRangeFilter"],r),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Qg(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["request","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let v=gn(c);Array.isArray(v)&&(v=v.map(w=>ip(w))),f(r,["request","contents"],v)}const p=u(e,["metadata"]);p!=null&&f(r,["metadata"],p);const m=u(e,["config"]);return m!=null&&f(r,["request","generationConfig"],Wg(i,m,u(r,["request"],{}))),r}function Xg(i){const e={},r=u(i,["response"]);r!=null&&f(e,["response"],Zg(r));const a=u(i,["error"]);return a!=null&&f(e,["error"],a),e}function jg(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);if(e!==void 0&&c!=null&&f(e,["_query","pageToken"],c),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function e_(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const p=u(i,["filter"]);return e!==void 0&&p!=null&&f(e,["_query","filter"],p),r}function t_(i){const e={},r=u(i,["config"]);return r!=null&&jg(r,e),e}function n_(i){const e={},r=u(i,["config"]);return r!=null&&e_(r,e),e}function i_(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["operations"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>ga(m))),f(e,["batchJobs"],p)}return e}function o_(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["batchPredictionJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>cc(m))),f(e,["batchJobs"],p)}return e}function r_(i){const e={},r=u(i,["videoMetadata"]);r!=null&&f(e,["videoMetadata"],r);const a=u(i,["thought"]);a!=null&&f(e,["thought"],a);const c=u(i,["inlineData"]);c!=null&&f(e,["inlineData"],Ig(c));const p=u(i,["fileData"]);p!=null&&f(e,["fileData"],qg(p));const m=u(i,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const v=u(i,["functionCall"]);v!=null&&f(e,["functionCall"],v);const w=u(i,["codeExecutionResult"]);w!=null&&f(e,["codeExecutionResult"],w);const y=u(i,["executableCode"]);y!=null&&f(e,["executableCode"],y);const C=u(i,["functionResponse"]);C!=null&&f(e,["functionResponse"],C);const E=u(i,["text"]);return E!=null&&f(e,["text"],E),e}function s_(i){const e={};if(u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["category"]);r!=null&&f(e,["category"],r);const a=u(i,["threshold"]);return a!=null&&f(e,["threshold"],a),e}function l_(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(e,["googleSearch"],Kg(a));const c=u(i,["googleSearchRetrieval"]);if(c!=null&&f(e,["googleSearchRetrieval"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],Yg(p));const m=u(i,["urlContext"]);m!=null&&f(e,["urlContext"],m);const v=u(i,["computerUse"]);v!=null&&f(e,["computerUse"],v);const w=u(i,["codeExecution"]);return w!=null&&f(e,["codeExecution"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ro;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ro||(Ro={}));class Gs{constructor(e,r,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,a,c)}init(e,r,a){var c,p;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=r.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(p=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&p!==void 0?p:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends Do{constructor(e){super(),this.apiClient=e,this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)},this.list=async(r={})=>new Gs(Ro.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(r),r)}createInlinedGenerateContentRequest(e){const r=xh(this.apiClient,e),a=r._url,c=de("{model}:batchGenerateContent",a),v=r.batch.inputConfig.requests,w=v.requests,y=[];for(const C of w){const E=Object.assign({},C);if(E.systemInstruction){const k=E.systemInstruction;delete E.systemInstruction;const U=E.request;U.systemInstruction=k,E.request=U}y.push(E)}return v.requests=y,delete r.config,delete r._url,delete r._query,{path:c,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const a=r?Object.assign({},r):{},c=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${c}`),a.dest===void 0){const p=this.getGcsUri(e),m=this.getBigqueryUri(e);if(p)p.endsWith(".jsonl")?a.dest=`${p.slice(0,-6)}/dest`:a.dest=`${p}_dest_${c}`;else if(m)a.dest=`${m}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Dg(this.apiClient,e);return v=de("batchPredictionJobs",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>cc(C))}else{const y=xh(this.apiClient,e);return v=de("{model}:batchGenerateContent",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>ga(C))}}async createEmbeddingsInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Fg(this.apiClient,e);return p=de("{model}:asyncBatchEmbedContent",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c.then(w=>ga(w))}}async get(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=$g(this.apiClient,e);return v=de("batchPredictionJobs/{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>cc(C))}else{const y=Jg(this.apiClient,e);return v=de("batches/{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>ga(C))}}async cancel(e){var r,a,c,p;let m="",v={};if(this.apiClient.isVertexAI()){const w=Ag(this.apiClient,e);m=de("batchPredictionJobs/{name}:cancel",w._url),v=w._query,delete w._url,delete w._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const w=kg(this.apiClient,e);m=de("batches/{name}:cancel",w._url),v=w._query,delete w._url,delete w._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal})}}async listInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=n_(e);return v=de("batchPredictionJobs",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=o_(C),k=new vh;return Object.assign(k,E),k})}else{const y=t_(e);return v=de("batches",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=i_(C),k=new vh;return Object.assign(k,E),k})}}async delete(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=zg(this.apiClient,e);return v=de("batchPredictionJobs/{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>Hg(C))}else{const y=Bg(this.apiClient,e);return v=de("batches/{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>Vg(C))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["data"]);r!=null&&f(e,["data"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Ch(i){const e={},r=u(i,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>M_(p))),f(e,["parts"],c)}const a=u(i,["role"]);return a!=null&&f(e,["role"],a),e}function c_(i,e){const r={},a=u(i,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const c=u(i,["expireTime"]);e!==void 0&&c!=null&&f(e,["expireTime"],c);const p=u(i,["displayName"]);e!==void 0&&p!=null&&f(e,["displayName"],p);const m=u(i,["contents"]);if(e!==void 0&&m!=null){let C=gn(m);Array.isArray(C)&&(C=C.map(E=>Ch(E))),f(e,["contents"],C)}const v=u(i,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["systemInstruction"],Ch(Mt(v)));const w=u(i,["tools"]);if(e!==void 0&&w!=null){let C=w;Array.isArray(C)&&(C=C.map(E=>L_(E))),f(e,["tools"],C)}const y=u(i,["toolConfig"]);if(e!==void 0&&y!=null&&f(e,["toolConfig"],y),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function d_(i,e){const r={},a=u(i,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const c=u(i,["expireTime"]);e!==void 0&&c!=null&&f(e,["expireTime"],c);const p=u(i,["displayName"]);e!==void 0&&p!=null&&f(e,["displayName"],p);const m=u(i,["contents"]);if(e!==void 0&&m!=null){let E=gn(m);Array.isArray(E)&&(E=E.map(k=>k)),f(e,["contents"],E)}const v=u(i,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["systemInstruction"],Mt(v));const w=u(i,["tools"]);if(e!==void 0&&w!=null){let E=w;Array.isArray(E)&&(E=E.map(k=>N_(k))),f(e,["tools"],E)}const y=u(i,["toolConfig"]);e!==void 0&&y!=null&&f(e,["toolConfig"],y);const C=u(i,["kmsKeyName"]);return e!==void 0&&C!=null&&f(e,["encryption_spec","kmsKeyName"],C),r}function f_(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["model"],Wh(i,a));const c=u(e,["config"]);return c!=null&&c_(c,r),r}function h_(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["model"],Wh(i,a));const c=u(e,["config"]);return c!=null&&d_(c,r),r}function p_(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],fi(i,a)),r}function m_(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],fi(i,a)),r}function g_(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function __(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function v_(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&f(e,["fileUri"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function y_(i){const e={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&f(e,["description"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["parameters"]);c!=null&&f(e,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(e,["parametersJsonSchema"],p);const m=u(i,["response"]);m!=null&&f(e,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&f(e,["responseJsonSchema"],v),e}function w_(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],fi(i,a)),r}function T_(i,e){const r={},a=u(e,["name"]);return a!=null&&f(r,["_url","name"],fi(i,a)),r}function x_(i){const e={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&f(e,["enableWidget"],r),e}function C_(i){const e={},r=u(i,["timeRangeFilter"]);if(r!=null&&f(e,["timeRangeFilter"],r),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function S_(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);return e!==void 0&&c!=null&&f(e,["_query","pageToken"],c),r}function E_(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);return e!==void 0&&c!=null&&f(e,["_query","pageToken"],c),r}function P_(i){const e={},r=u(i,["config"]);return r!=null&&S_(r,e),e}function I_(i){const e={},r=u(i,["config"]);return r!=null&&E_(r,e),e}function k_(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["cachedContents"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),f(e,["cachedContents"],p)}return e}function A_(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["cachedContents"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),f(e,["cachedContents"],p)}return e}function M_(i){const e={},r=u(i,["videoMetadata"]);r!=null&&f(e,["videoMetadata"],r);const a=u(i,["thought"]);a!=null&&f(e,["thought"],a);const c=u(i,["inlineData"]);c!=null&&f(e,["inlineData"],u_(c));const p=u(i,["fileData"]);p!=null&&f(e,["fileData"],v_(p));const m=u(i,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const v=u(i,["functionCall"]);v!=null&&f(e,["functionCall"],v);const w=u(i,["codeExecutionResult"]);w!=null&&f(e,["codeExecutionResult"],w);const y=u(i,["executableCode"]);y!=null&&f(e,["executableCode"],y);const C=u(i,["functionResponse"]);C!=null&&f(e,["functionResponse"],C);const E=u(i,["text"]);return E!=null&&f(e,["text"],E),e}function L_(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(e,["googleSearch"],C_(a));const c=u(i,["googleSearchRetrieval"]);if(c!=null&&f(e,["googleSearchRetrieval"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],x_(p));const m=u(i,["urlContext"]);m!=null&&f(e,["urlContext"],m);const v=u(i,["computerUse"]);v!=null&&f(e,["computerUse"],v);const w=u(i,["codeExecution"]);return w!=null&&f(e,["codeExecution"],w),e}function N_(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(k=>y_(k))),f(e,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(e,["retrieval"],a);const c=u(i,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);const p=u(i,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const v=u(i,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const w=u(i,["urlContext"]);w!=null&&f(e,["urlContext"],w);const y=u(i,["computerUse"]);y!=null&&f(e,["computerUse"],y);const C=u(i,["codeExecution"]);return C!=null&&f(e,["codeExecution"],C),e}function R_(i,e){const r={},a=u(i,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const c=u(i,["expireTime"]);return e!==void 0&&c!=null&&f(e,["expireTime"],c),r}function D_(i,e){const r={},a=u(i,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const c=u(i,["expireTime"]);return e!==void 0&&c!=null&&f(e,["expireTime"],c),r}function U_(i,e){const r={},a=u(e,["name"]);a!=null&&f(r,["_url","name"],fi(i,a));const c=u(e,["config"]);return c!=null&&R_(c,r),r}function F_(i,e){const r={},a=u(e,["name"]);a!=null&&f(r,["_url","name"],fi(i,a));const c=u(e,["config"]);return c!=null&&D_(c,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends Do{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Gs(Ro.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(r),r)}async create(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=h_(this.apiClient,e);return v=de("cachedContents",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const y=f_(this.apiClient,e);return v=de("cachedContents",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async get(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=T_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const y=w_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async delete(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=m_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=__(C),k=new gh;return Object.assign(k,E),k})}else{const y=p_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=g_(C),k=new gh;return Object.assign(k,E),k})}}async update(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=F_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>C)}else{const y=U_(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>C)}}async listInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=I_(e);return v=de("cachedContents",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=A_(C),k=new _h;return Object.assign(k,E),k})}else{const y=P_(e);return v=de("cachedContents",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=k_(C),k=new _h;return Object.assign(k,E),k})}}}function Sh(i){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&i[e],a=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(i){return this instanceof et?(this.v=i,this):new et(i)}function Ar(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),c,p=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(U){return function(G){return Promise.resolve(G).then(U,E)}}function v(U,G){a[U]&&(c[U]=function(b){return new Promise(function(K,ne){p.push([U,b,K,ne])>1||w(U,b)})},G&&(c[U]=G(c[U])))}function w(U,G){try{y(a[U](G))}catch(b){k(p[0][3],b)}}function y(U){U.value instanceof et?Promise.resolve(U.value.v).then(C,E):k(p[0][2],U)}function C(U){w("next",U)}function E(U){w("throw",U)}function k(U,G){U(G),p.shift(),p.length&&w(p[0][0],p[0][1])}}function Vs(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof Sh=="function"?Sh(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(p){r[p]=i[p]&&function(m){return new Promise(function(v,w){m=i[p](m),c(v,w,m.done,m.value)})}}function c(p,m,v,w){Promise.resolve(w).then(function(y){p({value:y,done:v})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const r=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:op(r)}function op(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function V_(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Eh(i){if(i===void 0||i.length===0)return[];const e=[],r=i.length;let a=0;for(;a<r;)if(i[a].role==="user")e.push(i[a]),a++;else{const c=[];let p=!0;for(;a<r&&i[a].role==="model";)c.push(i[a]),p&&!op(i[a])&&(p=!1),a++;p?e.push(...c):e.pop()}return e}class H_{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new b_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class b_{constructor(e,r,a,c={},p=[]){this.apiClient=e,this.modelsModule=r,this.model=a,this.config=c,this.history=p,this.sendPromise=Promise.resolve(),V_(p)}async sendMessage(e){var r;await this.sendPromise;const a=Mt(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var p,m,v;const w=await c,y=(m=(p=w.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content,C=w.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let k=[];C!=null&&(k=(v=C.slice(E))!==null&&v!==void 0?v:[]);const U=y?[y]:[];this.recordHistory(a,U,k)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var r;await this.sendPromise;const a=Mt(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const p=await c;return this.processStreamResponse(p,a)}getHistory(e=!1){const r=e?Eh(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var a,c;return Ar(this,arguments,function*(){var m,v,w,y;const C=[];try{for(var E=!0,k=Vs(e),U;U=yield et(k.next()),m=U.done,!m;E=!0){y=U.value,E=!1;const G=y;if(z_(G)){const b=(c=(a=G.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;b!==void 0&&C.push(b)}yield yield et(G)}}catch(G){v={error:G}}finally{try{!E&&!m&&(w=k.return)&&(yield et(w.call(k)))}finally{if(v)throw v.error}}this.recordHistory(r,C)})}recordHistory(e,r,a){let c=[];r.length>0&&r.every(p=>p.role!==void 0)?c=r:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Eh(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Sa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G_(i){const e={},r=u(i,["file"]);return r!=null&&f(e,["file"],r),e}function O_(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function q_(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","file"],Qh(r)),e}function W_(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function Z_(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","file"],Qh(r)),e}function J_(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);return e!==void 0&&c!=null&&f(e,["_query","pageToken"],c),r}function $_(i){const e={},r=u(i,["config"]);return r!=null&&J_(r,e),e}function Y_(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["files"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),f(e,["files"],p)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_ extends Do{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Gs(Ro.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=$_(e);return p=de("files",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>{const y=Y_(w),C=new lg;return Object.assign(C,y),C})}}async createInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=G_(e);return p=de("upload/v1beta/files",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c.then(w=>{const y=O_(w),C=new ag;return Object.assign(C,y),C})}}async get(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=Z_(e);return p=de("files/{file}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c.then(w=>w)}}async delete(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=q_(e);return p=de("files/{file}",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>{const y=W_(w),C=new ug;return Object.assign(C,y),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _a(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["data"]);r!=null&&f(e,["data"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Q_(i){const e={},r=u(i,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>fv(p))),f(e,["parts"],c)}const a=u(i,["role"]);return a!=null&&f(e,["role"],a),e}function X_(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&f(e,["fileUri"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function j_(i){const e={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&f(e,["description"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["parameters"]);c!=null&&f(e,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(e,["parametersJsonSchema"],p);const m=u(i,["response"]);m!=null&&f(e,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&f(e,["responseJsonSchema"],v),e}function ev(i){const e={},r=u(i,["modelSelectionConfig"]);r!=null&&f(e,["modelConfig"],r);const a=u(i,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const c=u(i,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(e,["enableAffectiveDialog"],p);const m=u(i,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const v=u(i,["logprobs"]);v!=null&&f(e,["logprobs"],v);const w=u(i,["maxOutputTokens"]);w!=null&&f(e,["maxOutputTokens"],w);const y=u(i,["mediaResolution"]);y!=null&&f(e,["mediaResolution"],y);const C=u(i,["presencePenalty"]);C!=null&&f(e,["presencePenalty"],C);const E=u(i,["responseJsonSchema"]);E!=null&&f(e,["responseJsonSchema"],E);const k=u(i,["responseLogprobs"]);k!=null&&f(e,["responseLogprobs"],k);const U=u(i,["responseMimeType"]);U!=null&&f(e,["responseMimeType"],U);const G=u(i,["responseModalities"]);G!=null&&f(e,["responseModalities"],G);const b=u(i,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);const K=u(i,["routingConfig"]);K!=null&&f(e,["routingConfig"],K);const ne=u(i,["seed"]);ne!=null&&f(e,["seed"],ne);const $=u(i,["speechConfig"]);$!=null&&f(e,["speechConfig"],rp($));const Q=u(i,["stopSequences"]);Q!=null&&f(e,["stopSequences"],Q);const le=u(i,["temperature"]);le!=null&&f(e,["temperature"],le);const he=u(i,["thinkingConfig"]);he!=null&&f(e,["thinkingConfig"],he);const te=u(i,["topK"]);te!=null&&f(e,["topK"],te);const oe=u(i,["topP"]);return oe!=null&&f(e,["topP"],oe),e}function tv(i){const e={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&f(e,["enableWidget"],r),e}function nv(i){const e={},r=u(i,["timeRangeFilter"]);if(r!=null&&f(e,["timeRangeFilter"],r),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iv(i,e){const r={},a=u(i,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],a);const c=u(i,["responseModalities"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","responseModalities"],c);const p=u(i,["temperature"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","temperature"],p);const m=u(i,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","topK"],v);const w=u(i,["maxOutputTokens"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","maxOutputTokens"],w);const y=u(i,["mediaResolution"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","mediaResolution"],y);const C=u(i,["seed"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","seed"],C);const E=u(i,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Sc(E));const k=u(i,["thinkingConfig"]);e!==void 0&&k!=null&&f(e,["setup","generationConfig","thinkingConfig"],k);const U=u(i,["enableAffectiveDialog"]);e!==void 0&&U!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],U);const G=u(i,["systemInstruction"]);e!==void 0&&G!=null&&f(e,["setup","systemInstruction"],Q_(Mt(G)));const b=u(i,["tools"]);if(e!==void 0&&b!=null){let te=Rr(b);Array.isArray(te)&&(te=te.map(oe=>pv(Nr(oe)))),f(e,["setup","tools"],te)}const K=u(i,["sessionResumption"]);e!==void 0&&K!=null&&f(e,["setup","sessionResumption"],hv(K));const ne=u(i,["inputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","inputAudioTranscription"],ne);const $=u(i,["outputAudioTranscription"]);e!==void 0&&$!=null&&f(e,["setup","outputAudioTranscription"],$);const Q=u(i,["realtimeInputConfig"]);e!==void 0&&Q!=null&&f(e,["setup","realtimeInputConfig"],Q);const le=u(i,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const he=u(i,["proactivity"]);return e!==void 0&&he!=null&&f(e,["setup","proactivity"],he),r}function ov(i,e){const r={},a=u(i,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],ev(a));const c=u(i,["responseModalities"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","responseModalities"],c);const p=u(i,["temperature"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","temperature"],p);const m=u(i,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","topK"],v);const w=u(i,["maxOutputTokens"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","maxOutputTokens"],w);const y=u(i,["mediaResolution"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","mediaResolution"],y);const C=u(i,["seed"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","seed"],C);const E=u(i,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],rp(Sc(E)));const k=u(i,["thinkingConfig"]);e!==void 0&&k!=null&&f(e,["setup","generationConfig","thinkingConfig"],k);const U=u(i,["enableAffectiveDialog"]);e!==void 0&&U!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],U);const G=u(i,["systemInstruction"]);e!==void 0&&G!=null&&f(e,["setup","systemInstruction"],Mt(G));const b=u(i,["tools"]);if(e!==void 0&&b!=null){let te=Rr(b);Array.isArray(te)&&(te=te.map(oe=>mv(Nr(oe)))),f(e,["setup","tools"],te)}const K=u(i,["sessionResumption"]);e!==void 0&&K!=null&&f(e,["setup","sessionResumption"],K);const ne=u(i,["inputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","inputAudioTranscription"],ne);const $=u(i,["outputAudioTranscription"]);e!==void 0&&$!=null&&f(e,["setup","outputAudioTranscription"],$);const Q=u(i,["realtimeInputConfig"]);e!==void 0&&Q!=null&&f(e,["setup","realtimeInputConfig"],Q);const le=u(i,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const he=u(i,["proactivity"]);return e!==void 0&&he!=null&&f(e,["setup","proactivity"],he),r}function rv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["setup","model"],Oe(i,a));const c=u(e,["config"]);return c!=null&&f(r,["config"],iv(c,r)),r}function sv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["setup","model"],Oe(i,a));const c=u(e,["config"]);return c!=null&&f(r,["config"],ov(c,r)),r}function lv(i){const e={},r=u(i,["musicGenerationConfig"]);return r!=null&&f(e,["musicGenerationConfig"],r),e}function av(i){const e={},r=u(i,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["weightedPrompts"],a)}return e}function uv(i){const e={},r=u(i,["media"]);if(r!=null){let y=Zh(r);Array.isArray(y)&&(y=y.map(C=>_a(C))),f(e,["mediaChunks"],y)}const a=u(i,["audio"]);a!=null&&f(e,["audio"],_a($h(a)));const c=u(i,["audioStreamEnd"]);c!=null&&f(e,["audioStreamEnd"],c);const p=u(i,["video"]);p!=null&&f(e,["video"],_a(Jh(p)));const m=u(i,["text"]);m!=null&&f(e,["text"],m);const v=u(i,["activityStart"]);v!=null&&f(e,["activityStart"],v);const w=u(i,["activityEnd"]);return w!=null&&f(e,["activityEnd"],w),e}function cv(i){const e={},r=u(i,["media"]);if(r!=null){let y=Zh(r);Array.isArray(y)&&(y=y.map(C=>C)),f(e,["mediaChunks"],y)}const a=u(i,["audio"]);a!=null&&f(e,["audio"],$h(a));const c=u(i,["audioStreamEnd"]);c!=null&&f(e,["audioStreamEnd"],c);const p=u(i,["video"]);p!=null&&f(e,["video"],Jh(p));const m=u(i,["text"]);m!=null&&f(e,["text"],m);const v=u(i,["activityStart"]);v!=null&&f(e,["activityStart"],v);const w=u(i,["activityEnd"]);return w!=null&&f(e,["activityEnd"],w),e}function dv(i){const e={},r=u(i,["setupComplete"]);r!=null&&f(e,["setupComplete"],r);const a=u(i,["serverContent"]);a!=null&&f(e,["serverContent"],a);const c=u(i,["toolCall"]);c!=null&&f(e,["toolCall"],c);const p=u(i,["toolCallCancellation"]);p!=null&&f(e,["toolCallCancellation"],p);const m=u(i,["usageMetadata"]);m!=null&&f(e,["usageMetadata"],gv(m));const v=u(i,["goAway"]);v!=null&&f(e,["goAway"],v);const w=u(i,["sessionResumptionUpdate"]);return w!=null&&f(e,["sessionResumptionUpdate"],w),e}function fv(i){const e={},r=u(i,["videoMetadata"]);r!=null&&f(e,["videoMetadata"],r);const a=u(i,["thought"]);a!=null&&f(e,["thought"],a);const c=u(i,["inlineData"]);c!=null&&f(e,["inlineData"],_a(c));const p=u(i,["fileData"]);p!=null&&f(e,["fileData"],X_(p));const m=u(i,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const v=u(i,["functionCall"]);v!=null&&f(e,["functionCall"],v);const w=u(i,["codeExecutionResult"]);w!=null&&f(e,["codeExecutionResult"],w);const y=u(i,["executableCode"]);y!=null&&f(e,["executableCode"],y);const C=u(i,["functionResponse"]);C!=null&&f(e,["functionResponse"],C);const E=u(i,["text"]);return E!=null&&f(e,["text"],E),e}function hv(i){const e={},r=u(i,["handle"]);if(r!=null&&f(e,["handle"],r),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rp(i){const e={},r=u(i,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(i,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function pv(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(e,["googleSearch"],nv(a));const c=u(i,["googleSearchRetrieval"]);if(c!=null&&f(e,["googleSearchRetrieval"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],tv(p));const m=u(i,["urlContext"]);m!=null&&f(e,["urlContext"],m);const v=u(i,["computerUse"]);v!=null&&f(e,["computerUse"],v);const w=u(i,["codeExecution"]);return w!=null&&f(e,["codeExecution"],w),e}function mv(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(k=>j_(k))),f(e,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(e,["retrieval"],a);const c=u(i,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);const p=u(i,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const v=u(i,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const w=u(i,["urlContext"]);w!=null&&f(e,["urlContext"],w);const y=u(i,["computerUse"]);y!=null&&f(e,["computerUse"],y);const C=u(i,["codeExecution"]);return C!=null&&f(e,["codeExecution"],C),e}function gv(i){const e={},r=u(i,["promptTokenCount"]);r!=null&&f(e,["promptTokenCount"],r);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(e,["cachedContentTokenCount"],a);const c=u(i,["candidatesTokenCount"]);c!=null&&f(e,["responseTokenCount"],c);const p=u(i,["toolUsePromptTokenCount"]);p!=null&&f(e,["toolUsePromptTokenCount"],p);const m=u(i,["thoughtsTokenCount"]);m!=null&&f(e,["thoughtsTokenCount"],m);const v=u(i,["totalTokenCount"]);v!=null&&f(e,["totalTokenCount"],v);const w=u(i,["promptTokensDetails"]);if(w!=null){let U=w;Array.isArray(U)&&(U=U.map(G=>G)),f(e,["promptTokensDetails"],U)}const y=u(i,["cacheTokensDetails"]);if(y!=null){let U=y;Array.isArray(U)&&(U=U.map(G=>G)),f(e,["cacheTokensDetails"],U)}const C=u(i,["candidatesTokensDetails"]);if(C!=null){let U=C;Array.isArray(U)&&(U=U.map(G=>G)),f(e,["responseTokensDetails"],U)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let U=E;Array.isArray(U)&&(U=U.map(G=>G)),f(e,["toolUsePromptTokensDetails"],U)}const k=u(i,["trafficType"]);return k!=null&&f(e,["trafficType"],k),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _v(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["data"]);r!=null&&f(e,["data"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function vv(i){const e={},r=u(i,["content"]);r!=null&&f(e,["content"],r);const a=u(i,["citationMetadata"]);a!=null&&f(e,["citationMetadata"],yv(a));const c=u(i,["tokenCount"]);c!=null&&f(e,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(e,["finishReason"],p);const m=u(i,["urlContextMetadata"]);m!=null&&f(e,["urlContextMetadata"],m);const v=u(i,["avgLogprobs"]);v!=null&&f(e,["avgLogprobs"],v);const w=u(i,["groundingMetadata"]);w!=null&&f(e,["groundingMetadata"],w);const y=u(i,["index"]);y!=null&&f(e,["index"],y);const C=u(i,["logprobsResult"]);C!=null&&f(e,["logprobsResult"],C);const E=u(i,["safetyRatings"]);if(E!=null){let k=E;Array.isArray(k)&&(k=k.map(U=>U)),f(e,["safetyRatings"],k)}return e}function yv(i){const e={},r=u(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["citations"],a)}return e}function wv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let p=gn(c);Array.isArray(p)&&(p=p.map(m=>m)),f(r,["contents"],p)}return r}function Tv(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["tokensInfo"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(e,["tokensInfo"],c)}return e}function xv(i){const e={},r=u(i,["values"]);r!=null&&f(e,["values"],r);const a=u(i,["statistics"]);return a!=null&&f(e,["statistics"],Cv(a)),e}function Cv(i){const e={},r=u(i,["truncated"]);r!=null&&f(e,["truncated"],r);const a=u(i,["token_count"]);return a!=null&&f(e,["tokenCount"],a),e}function Ea(i){const e={},r=u(i,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ky(p))),f(e,["parts"],c)}const a=u(i,["role"]);return a!=null&&f(e,["role"],a),e}function Sv(i){const e={},r=u(i,["controlType"]);r!=null&&f(e,["controlType"],r);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(e,["computeControl"],a),e}function Ev(i){const e={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Pv(i,e){const r={},a=u(i,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],Mt(a));const c=u(i,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>cp(v))),f(e,["tools"],m)}const p=u(i,["generationConfig"]);return e!==void 0&&p!=null&&f(e,["generationConfig"],my(p)),r}function Iv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let m=gn(c);Array.isArray(m)&&(m=m.map(v=>Ea(v))),f(r,["contents"],m)}const p=u(e,["config"]);return p!=null&&Ev(p),r}function kv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let m=gn(c);Array.isArray(m)&&(m=m.map(v=>v)),f(r,["contents"],m)}const p=u(e,["config"]);return p!=null&&Pv(p,r),r}function Av(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["totalTokens"]);a!=null&&f(e,["totalTokens"],a);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(e,["cachedContentTokenCount"],c),e}function Mv(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["totalTokens"]);return a!=null&&f(e,["totalTokens"],a),e}function Lv(i,e){const r={},a=u(e,["model"]);return a!=null&&f(r,["_url","name"],Oe(i,a)),r}function Nv(i,e){const r={},a=u(e,["model"]);return a!=null&&f(r,["_url","name"],Oe(i,a)),r}function Rv(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function Dv(i){const e={},r=u(i,["sdkHttpResponse"]);return r!=null&&f(e,["sdkHttpResponse"],r),e}function Uv(i,e){const r={},a=u(i,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const c=u(i,["negativePrompt"]);e!==void 0&&c!=null&&f(e,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(i,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const v=u(i,["guidanceScale"]);e!==void 0&&v!=null&&f(e,["parameters","guidanceScale"],v);const w=u(i,["seed"]);e!==void 0&&w!=null&&f(e,["parameters","seed"],w);const y=u(i,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const C=u(i,["personGeneration"]);e!==void 0&&C!=null&&f(e,["parameters","personGeneration"],C);const E=u(i,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const k=u(i,["includeRaiReason"]);e!==void 0&&k!=null&&f(e,["parameters","includeRaiReason"],k);const U=u(i,["language"]);e!==void 0&&U!=null&&f(e,["parameters","language"],U);const G=u(i,["outputMimeType"]);e!==void 0&&G!=null&&f(e,["parameters","outputOptions","mimeType"],G);const b=u(i,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const K=u(i,["addWatermark"]);e!==void 0&&K!=null&&f(e,["parameters","addWatermark"],K);const ne=u(i,["labels"]);e!==void 0&&ne!=null&&f(e,["labels"],ne);const $=u(i,["editMode"]);e!==void 0&&$!=null&&f(e,["parameters","editMode"],$);const Q=u(i,["baseSteps"]);return e!==void 0&&Q!=null&&f(e,["parameters","editConfig","baseSteps"],Q),r}function Fv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["prompt"]);c!=null&&f(r,["instances[0]","prompt"],c);const p=u(e,["referenceImages"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(w=>Dy(w))),f(r,["instances[0]","referenceImages"],v)}const m=u(e,["config"]);return m!=null&&Uv(m,r),r}function Bv(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>Pa(p))),f(e,["generatedImages"],c)}return e}function zv(i,e){const r={},a=u(i,["taskType"]);e!==void 0&&a!=null&&f(e,["requests[]","taskType"],a);const c=u(i,["title"]);e!==void 0&&c!=null&&f(e,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(e!==void 0&&p!=null&&f(e,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Vv(i,e){const r={},a=u(i,["taskType"]);e!==void 0&&a!=null&&f(e,["instances[]","task_type"],a);const c=u(i,["title"]);e!==void 0&&c!=null&&f(e,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);e!==void 0&&p!=null&&f(e,["parameters","outputDimensionality"],p);const m=u(i,["mimeType"]);e!==void 0&&m!=null&&f(e,["instances[]","mimeType"],m);const v=u(i,["autoTruncate"]);return e!==void 0&&v!=null&&f(e,["parameters","autoTruncate"],v),r}function Hv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let v=Tc(i,c);Array.isArray(v)&&(v=v.map(w=>w)),f(r,["requests[]","content"],v)}const p=u(e,["config"]);p!=null&&zv(p,r);const m=u(e,["model"]);return m!==void 0&&f(r,["requests[]","model"],Oe(i,m)),r}function bv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let m=Tc(i,c);Array.isArray(m)&&(m=m.map(v=>v)),f(r,["instances[]","content"],m)}const p=u(e,["config"]);return p!=null&&Vv(p,r),r}function Gv(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["embeddings"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),f(e,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(e,["metadata"],c),e}function Ov(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>xv(m))),f(e,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(e,["metadata"],c),e}function qv(i){const e={},r=u(i,["endpoint"]);r!=null&&f(e,["name"],r);const a=u(i,["deployedModelId"]);return a!=null&&f(e,["deployedModelId"],a),e}function Wv(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&f(e,["fileUri"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Zv(i){const e={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=u(i,["description"]);r!=null&&f(e,["description"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["parameters"]);c!=null&&f(e,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(e,["parametersJsonSchema"],p);const m=u(i,["response"]);m!=null&&f(e,["response"],m);const v=u(i,["responseJsonSchema"]);return v!=null&&f(e,["responseJsonSchema"],v),e}function Jv(i,e,r){const a={},c=u(e,["systemInstruction"]);r!==void 0&&c!=null&&f(r,["systemInstruction"],Ea(Mt(c)));const p=u(e,["temperature"]);p!=null&&f(a,["temperature"],p);const m=u(e,["topP"]);m!=null&&f(a,["topP"],m);const v=u(e,["topK"]);v!=null&&f(a,["topK"],v);const w=u(e,["candidateCount"]);w!=null&&f(a,["candidateCount"],w);const y=u(e,["maxOutputTokens"]);y!=null&&f(a,["maxOutputTokens"],y);const C=u(e,["stopSequences"]);C!=null&&f(a,["stopSequences"],C);const E=u(e,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const k=u(e,["logprobs"]);k!=null&&f(a,["logprobs"],k);const U=u(e,["presencePenalty"]);U!=null&&f(a,["presencePenalty"],U);const G=u(e,["frequencyPenalty"]);G!=null&&f(a,["frequencyPenalty"],G);const b=u(e,["seed"]);b!=null&&f(a,["seed"],b);const K=u(e,["responseMimeType"]);K!=null&&f(a,["responseMimeType"],K);const ne=u(e,["responseSchema"]);ne!=null&&f(a,["responseSchema"],xc(ne));const $=u(e,["responseJsonSchema"]);if($!=null&&f(a,["responseJsonSchema"],$),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=u(e,["safetySettings"]);if(r!==void 0&&Q!=null){let Ee=Q;Array.isArray(Ee)&&(Ee=Ee.map(We=>Uy(We))),f(r,["safetySettings"],Ee)}const le=u(e,["tools"]);if(r!==void 0&&le!=null){let Ee=Rr(le);Array.isArray(Ee)&&(Ee=Ee.map(We=>by(Nr(We)))),f(r,["tools"],Ee)}const he=u(e,["toolConfig"]);if(r!==void 0&&he!=null&&f(r,["toolConfig"],he),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);r!==void 0&&te!=null&&f(r,["cachedContent"],fi(i,te));const oe=u(e,["responseModalities"]);oe!=null&&f(a,["responseModalities"],oe);const Re=u(e,["mediaResolution"]);Re!=null&&f(a,["mediaResolution"],Re);const re=u(e,["speechConfig"]);if(re!=null&&f(a,["speechConfig"],Cc(re)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ae=u(e,["thinkingConfig"]);Ae!=null&&f(a,["thinkingConfig"],Ae);const ve=u(e,["imageConfig"]);return ve!=null&&f(a,["imageConfig"],ve),a}function $v(i,e,r){const a={},c=u(e,["systemInstruction"]);r!==void 0&&c!=null&&f(r,["systemInstruction"],Mt(c));const p=u(e,["temperature"]);p!=null&&f(a,["temperature"],p);const m=u(e,["topP"]);m!=null&&f(a,["topP"],m);const v=u(e,["topK"]);v!=null&&f(a,["topK"],v);const w=u(e,["candidateCount"]);w!=null&&f(a,["candidateCount"],w);const y=u(e,["maxOutputTokens"]);y!=null&&f(a,["maxOutputTokens"],y);const C=u(e,["stopSequences"]);C!=null&&f(a,["stopSequences"],C);const E=u(e,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const k=u(e,["logprobs"]);k!=null&&f(a,["logprobs"],k);const U=u(e,["presencePenalty"]);U!=null&&f(a,["presencePenalty"],U);const G=u(e,["frequencyPenalty"]);G!=null&&f(a,["frequencyPenalty"],G);const b=u(e,["seed"]);b!=null&&f(a,["seed"],b);const K=u(e,["responseMimeType"]);K!=null&&f(a,["responseMimeType"],K);const ne=u(e,["responseSchema"]);ne!=null&&f(a,["responseSchema"],xc(ne));const $=u(e,["responseJsonSchema"]);$!=null&&f(a,["responseJsonSchema"],$);const Q=u(e,["routingConfig"]);Q!=null&&f(a,["routingConfig"],Q);const le=u(e,["modelSelectionConfig"]);le!=null&&f(a,["modelConfig"],le);const he=u(e,["safetySettings"]);if(r!==void 0&&he!=null){let Te=he;Array.isArray(Te)&&(Te=Te.map(De=>De)),f(r,["safetySettings"],Te)}const te=u(e,["tools"]);if(r!==void 0&&te!=null){let Te=Rr(te);Array.isArray(Te)&&(Te=Te.map(De=>cp(Nr(De)))),f(r,["tools"],Te)}const oe=u(e,["toolConfig"]);r!==void 0&&oe!=null&&f(r,["toolConfig"],oe);const Re=u(e,["labels"]);r!==void 0&&Re!=null&&f(r,["labels"],Re);const re=u(e,["cachedContent"]);r!==void 0&&re!=null&&f(r,["cachedContent"],fi(i,re));const Ae=u(e,["responseModalities"]);Ae!=null&&f(a,["responseModalities"],Ae);const ve=u(e,["mediaResolution"]);ve!=null&&f(a,["mediaResolution"],ve);const Ee=u(e,["speechConfig"]);Ee!=null&&f(a,["speechConfig"],up(Cc(Ee)));const We=u(e,["audioTimestamp"]);We!=null&&f(a,["audioTimestamp"],We);const Ye=u(e,["thinkingConfig"]);Ye!=null&&f(a,["thinkingConfig"],Ye);const Ie=u(e,["imageConfig"]);return Ie!=null&&f(a,["imageConfig"],Ie),a}function Ph(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let m=gn(c);Array.isArray(m)&&(m=m.map(v=>Ea(v))),f(r,["contents"],m)}const p=u(e,["config"]);return p!=null&&f(r,["generationConfig"],Jv(i,p,r)),r}function Ih(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["contents"]);if(c!=null){let m=gn(c);Array.isArray(m)&&(m=m.map(v=>v)),f(r,["contents"],m)}const p=u(e,["config"]);return p!=null&&f(r,["generationConfig"],$v(i,p,r)),r}function kh(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["candidates"]);if(a!=null){let w=a;Array.isArray(w)&&(w=w.map(y=>vv(y))),f(e,["candidates"],w)}const c=u(i,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(e,["promptFeedback"],p);const m=u(i,["responseId"]);m!=null&&f(e,["responseId"],m);const v=u(i,["usageMetadata"]);return v!=null&&f(e,["usageMetadata"],v),e}function Ah(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["candidates"],y)}const c=u(i,["createTime"]);c!=null&&f(e,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&f(e,["modelVersion"],p);const m=u(i,["promptFeedback"]);m!=null&&f(e,["promptFeedback"],m);const v=u(i,["responseId"]);v!=null&&f(e,["responseId"],v);const w=u(i,["usageMetadata"]);return w!=null&&f(e,["usageMetadata"],w),e}function Yv(i,e){const r={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const c=u(i,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const w=u(i,["includeSafetyAttributes"]);e!==void 0&&w!=null&&f(e,["parameters","includeSafetyAttributes"],w);const y=u(i,["includeRaiReason"]);e!==void 0&&y!=null&&f(e,["parameters","includeRaiReason"],y);const C=u(i,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const E=u(i,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const k=u(i,["outputCompressionQuality"]);if(e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=u(i,["imageSize"]);if(e!==void 0&&U!=null&&f(e,["parameters","sampleImageSize"],U),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Kv(i,e){const r={},a=u(i,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const c=u(i,["negativePrompt"]);e!==void 0&&c!=null&&f(e,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=u(i,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const v=u(i,["guidanceScale"]);e!==void 0&&v!=null&&f(e,["parameters","guidanceScale"],v);const w=u(i,["seed"]);e!==void 0&&w!=null&&f(e,["parameters","seed"],w);const y=u(i,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const C=u(i,["personGeneration"]);e!==void 0&&C!=null&&f(e,["parameters","personGeneration"],C);const E=u(i,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const k=u(i,["includeRaiReason"]);e!==void 0&&k!=null&&f(e,["parameters","includeRaiReason"],k);const U=u(i,["language"]);e!==void 0&&U!=null&&f(e,["parameters","language"],U);const G=u(i,["outputMimeType"]);e!==void 0&&G!=null&&f(e,["parameters","outputOptions","mimeType"],G);const b=u(i,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const K=u(i,["addWatermark"]);e!==void 0&&K!=null&&f(e,["parameters","addWatermark"],K);const ne=u(i,["labels"]);e!==void 0&&ne!=null&&f(e,["labels"],ne);const $=u(i,["imageSize"]);e!==void 0&&$!=null&&f(e,["parameters","sampleImageSize"],$);const Q=u(i,["enhancePrompt"]);return e!==void 0&&Q!=null&&f(e,["parameters","enhancePrompt"],Q),r}function Qv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["prompt"]);c!=null&&f(r,["instances[0]","prompt"],c);const p=u(e,["config"]);return p!=null&&Yv(p,r),r}function Xv(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["prompt"]);c!=null&&f(r,["instances[0]","prompt"],c);const p=u(e,["config"]);return p!=null&&Kv(p,r),r}function jv(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["predictions"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>dy(m))),f(e,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(e,["positivePromptSafetyAttributes"],lp(c)),e}function ey(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["predictions"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Pa(m))),f(e,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(e,["positivePromptSafetyAttributes"],ap(c)),e}function ty(i,e){const r={},a=u(i,["numberOfVideos"]);if(e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=u(i,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=u(i,["personGeneration"]);if(e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const w=u(i,["negativePrompt"]);e!==void 0&&w!=null&&f(e,["parameters","negativePrompt"],w);const y=u(i,["enhancePrompt"]);if(e!==void 0&&y!=null&&f(e,["parameters","enhancePrompt"],y),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const C=u(i,["lastFrame"]);e!==void 0&&C!=null&&f(e,["instances[0]","lastFrame"],Ia(C));const E=u(i,["referenceImages"]);if(e!==void 0&&E!=null){let k=E;Array.isArray(k)&&(k=k.map(U=>e0(U))),f(e,["instances[0]","referenceImages"],k)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function ny(i,e){const r={},a=u(i,["numberOfVideos"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const c=u(i,["outputGcsUri"]);e!==void 0&&c!=null&&f(e,["parameters","storageUri"],c);const p=u(i,["fps"]);e!==void 0&&p!=null&&f(e,["parameters","fps"],p);const m=u(i,["durationSeconds"]);e!==void 0&&m!=null&&f(e,["parameters","durationSeconds"],m);const v=u(i,["seed"]);e!==void 0&&v!=null&&f(e,["parameters","seed"],v);const w=u(i,["aspectRatio"]);e!==void 0&&w!=null&&f(e,["parameters","aspectRatio"],w);const y=u(i,["resolution"]);e!==void 0&&y!=null&&f(e,["parameters","resolution"],y);const C=u(i,["personGeneration"]);e!==void 0&&C!=null&&f(e,["parameters","personGeneration"],C);const E=u(i,["pubsubTopic"]);e!==void 0&&E!=null&&f(e,["parameters","pubsubTopic"],E);const k=u(i,["negativePrompt"]);e!==void 0&&k!=null&&f(e,["parameters","negativePrompt"],k);const U=u(i,["enhancePrompt"]);e!==void 0&&U!=null&&f(e,["parameters","enhancePrompt"],U);const G=u(i,["generateAudio"]);e!==void 0&&G!=null&&f(e,["parameters","generateAudio"],G);const b=u(i,["lastFrame"]);e!==void 0&&b!=null&&f(e,["instances[0]","lastFrame"],kn(b));const K=u(i,["referenceImages"]);if(e!==void 0&&K!=null){let Q=K;Array.isArray(Q)&&(Q=Q.map(le=>t0(le))),f(e,["instances[0]","referenceImages"],Q)}const ne=u(i,["mask"]);e!==void 0&&ne!=null&&f(e,["instances[0]","mask"],jy(ne));const $=u(i,["compressionQuality"]);return e!==void 0&&$!=null&&f(e,["parameters","compressionQuality"],$),r}function iy(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["metadata"]);a!=null&&f(e,["metadata"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);p!=null&&f(e,["error"],p);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(e,["response"],ly(m)),e}function oy(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["metadata"]);a!=null&&f(e,["metadata"],a);const c=u(i,["done"]);c!=null&&f(e,["done"],c);const p=u(i,["error"]);p!=null&&f(e,["error"],p);const m=u(i,["response"]);return m!=null&&f(e,["response"],ay(m)),e}function ry(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["prompt"]);c!=null&&f(r,["instances[0]","prompt"],c);const p=u(e,["image"]);p!=null&&f(r,["instances[0]","image"],Ia(p));const m=u(e,["video"]);m!=null&&f(r,["instances[0]","video"],dp(m));const v=u(e,["source"]);v!=null&&uy(v,r);const w=u(e,["config"]);return w!=null&&ty(w,r),r}function sy(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["prompt"]);c!=null&&f(r,["instances[0]","prompt"],c);const p=u(e,["image"]);p!=null&&f(r,["instances[0]","image"],kn(p));const m=u(e,["video"]);m!=null&&f(r,["instances[0]","video"],fp(m));const v=u(e,["source"]);v!=null&&cy(v,r);const w=u(e,["config"]);return w!=null&&ny(w,r),r}function ly(i){const e={},r=u(i,["generatedSamples"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>hy(m))),f(e,["generatedVideos"],p)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(e,["raiMediaFilteredReasons"],c),e}function ay(i){const e={},r=u(i,["videos"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(m=>py(m))),f(e,["generatedVideos"],p)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(e,["raiMediaFilteredReasons"],c),e}function uy(i,e){const r={},a=u(i,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const c=u(i,["image"]);e!==void 0&&c!=null&&f(e,["instances[0]","image"],Ia(c));const p=u(i,["video"]);return e!==void 0&&p!=null&&f(e,["instances[0]","video"],dp(p)),r}function cy(i,e){const r={},a=u(i,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const c=u(i,["image"]);e!==void 0&&c!=null&&f(e,["instances[0]","image"],kn(c));const p=u(i,["video"]);return e!==void 0&&p!=null&&f(e,["instances[0]","video"],fp(p)),r}function dy(i){const e={},r=u(i,["_self"]);r!=null&&f(e,["image"],wy(r));const a=u(i,["raiFilteredReason"]);a!=null&&f(e,["raiFilteredReason"],a);const c=u(i,["_self"]);return c!=null&&f(e,["safetyAttributes"],lp(c)),e}function Pa(i){const e={},r=u(i,["_self"]);r!=null&&f(e,["image"],sp(r));const a=u(i,["raiFilteredReason"]);a!=null&&f(e,["raiFilteredReason"],a);const c=u(i,["_self"]);c!=null&&f(e,["safetyAttributes"],ap(c));const p=u(i,["prompt"]);return p!=null&&f(e,["enhancedPrompt"],p),e}function fy(i){const e={},r=u(i,["_self"]);r!=null&&f(e,["mask"],sp(r));const a=u(i,["labels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(e,["labels"],c)}return e}function hy(i){const e={},r=u(i,["video"]);return r!=null&&f(e,["video"],Qy(r)),e}function py(i){const e={},r=u(i,["_self"]);return r!=null&&f(e,["video"],Xy(r)),e}function my(i){const e={},r=u(i,["modelSelectionConfig"]);r!=null&&f(e,["modelConfig"],r);const a=u(i,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const c=u(i,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(e,["enableAffectiveDialog"],p);const m=u(i,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const v=u(i,["logprobs"]);v!=null&&f(e,["logprobs"],v);const w=u(i,["maxOutputTokens"]);w!=null&&f(e,["maxOutputTokens"],w);const y=u(i,["mediaResolution"]);y!=null&&f(e,["mediaResolution"],y);const C=u(i,["presencePenalty"]);C!=null&&f(e,["presencePenalty"],C);const E=u(i,["responseJsonSchema"]);E!=null&&f(e,["responseJsonSchema"],E);const k=u(i,["responseLogprobs"]);k!=null&&f(e,["responseLogprobs"],k);const U=u(i,["responseMimeType"]);U!=null&&f(e,["responseMimeType"],U);const G=u(i,["responseModalities"]);G!=null&&f(e,["responseModalities"],G);const b=u(i,["responseSchema"]);b!=null&&f(e,["responseSchema"],b);const K=u(i,["routingConfig"]);K!=null&&f(e,["routingConfig"],K);const ne=u(i,["seed"]);ne!=null&&f(e,["seed"],ne);const $=u(i,["speechConfig"]);$!=null&&f(e,["speechConfig"],up($));const Q=u(i,["stopSequences"]);Q!=null&&f(e,["stopSequences"],Q);const le=u(i,["temperature"]);le!=null&&f(e,["temperature"],le);const he=u(i,["thinkingConfig"]);he!=null&&f(e,["thinkingConfig"],he);const te=u(i,["topK"]);te!=null&&f(e,["topK"],te);const oe=u(i,["topP"]);return oe!=null&&f(e,["topP"],oe),e}function gy(i,e){const r={},a=u(e,["model"]);return a!=null&&f(r,["_url","name"],Oe(i,a)),r}function _y(i,e){const r={},a=u(e,["model"]);return a!=null&&f(r,["_url","name"],Oe(i,a)),r}function vy(i){const e={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&f(e,["enableWidget"],r),e}function yy(i){const e={},r=u(i,["timeRangeFilter"]);if(r!=null&&f(e,["timeRangeFilter"],r),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function wy(i){const e={},r=u(i,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],eo(r));const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function sp(i){const e={},r=u(i,["gcsUri"]);r!=null&&f(e,["gcsUri"],r);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(e,["imageBytes"],eo(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["mimeType"],c),e}function Ia(i){const e={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=u(i,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],eo(r));const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function kn(i){const e={},r=u(i,["gcsUri"]);r!=null&&f(e,["gcsUri"],r);const a=u(i,["imageBytes"]);a!=null&&f(e,["bytesBase64Encoded"],eo(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["mimeType"],c),e}function Ty(i,e,r){const a={},c=u(e,["pageSize"]);r!==void 0&&c!=null&&f(r,["_query","pageSize"],c);const p=u(e,["pageToken"]);r!==void 0&&p!=null&&f(r,["_query","pageToken"],p);const m=u(e,["filter"]);r!==void 0&&m!=null&&f(r,["_query","filter"],m);const v=u(e,["queryBase"]);return r!==void 0&&v!=null&&f(r,["_url","models_url"],Xh(i,v)),a}function xy(i,e,r){const a={},c=u(e,["pageSize"]);r!==void 0&&c!=null&&f(r,["_query","pageSize"],c);const p=u(e,["pageToken"]);r!==void 0&&p!=null&&f(r,["_query","pageToken"],p);const m=u(e,["filter"]);r!==void 0&&m!=null&&f(r,["_query","filter"],m);const v=u(e,["queryBase"]);return r!==void 0&&v!=null&&f(r,["_url","models_url"],Xh(i,v)),a}function Cy(i,e){const r={},a=u(e,["config"]);return a!=null&&Ty(i,a,r),r}function Sy(i,e){const r={},a=u(e,["config"]);return a!=null&&xy(i,a,r),r}function Ey(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["_self"]);if(c!=null){let p=jh(c);Array.isArray(p)&&(p=p.map(m=>dc(m))),f(e,["models"],p)}return e}function Py(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["_self"]);if(c!=null){let p=jh(c);Array.isArray(p)&&(p=p.map(m=>fc(m))),f(e,["models"],p)}return e}function Iy(i){const e={},r=u(i,["maskMode"]);r!=null&&f(e,["maskMode"],r);const a=u(i,["segmentationClasses"]);a!=null&&f(e,["maskClasses"],a);const c=u(i,["maskDilation"]);return c!=null&&f(e,["dilation"],c),e}function dc(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["displayName"]);a!=null&&f(e,["displayName"],a);const c=u(i,["description"]);c!=null&&f(e,["description"],c);const p=u(i,["version"]);p!=null&&f(e,["version"],p);const m=u(i,["_self"]);m!=null&&f(e,["tunedModelInfo"],Gy(m));const v=u(i,["inputTokenLimit"]);v!=null&&f(e,["inputTokenLimit"],v);const w=u(i,["outputTokenLimit"]);w!=null&&f(e,["outputTokenLimit"],w);const y=u(i,["supportedGenerationMethods"]);return y!=null&&f(e,["supportedActions"],y),e}function fc(i){const e={},r=u(i,["name"]);r!=null&&f(e,["name"],r);const a=u(i,["displayName"]);a!=null&&f(e,["displayName"],a);const c=u(i,["description"]);c!=null&&f(e,["description"],c);const p=u(i,["versionId"]);p!=null&&f(e,["version"],p);const m=u(i,["deployedModels"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(k=>qv(k))),f(e,["endpoints"],E)}const v=u(i,["labels"]);v!=null&&f(e,["labels"],v);const w=u(i,["_self"]);w!=null&&f(e,["tunedModelInfo"],Oy(w));const y=u(i,["defaultCheckpointId"]);y!=null&&f(e,["defaultCheckpointId"],y);const C=u(i,["checkpoints"]);if(C!=null){let E=C;Array.isArray(E)&&(E=E.map(k=>k)),f(e,["checkpoints"],E)}return e}function ky(i){const e={},r=u(i,["videoMetadata"]);r!=null&&f(e,["videoMetadata"],r);const a=u(i,["thought"]);a!=null&&f(e,["thought"],a);const c=u(i,["inlineData"]);c!=null&&f(e,["inlineData"],_v(c));const p=u(i,["fileData"]);p!=null&&f(e,["fileData"],Wv(p));const m=u(i,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const v=u(i,["functionCall"]);v!=null&&f(e,["functionCall"],v);const w=u(i,["codeExecutionResult"]);w!=null&&f(e,["codeExecutionResult"],w);const y=u(i,["executableCode"]);y!=null&&f(e,["executableCode"],y);const C=u(i,["functionResponse"]);C!=null&&f(e,["functionResponse"],C);const E=u(i,["text"]);return E!=null&&f(e,["text"],E),e}function Ay(i){const e={},r=u(i,["productImage"]);return r!=null&&f(e,["image"],kn(r)),e}function My(i,e){const r={},a=u(i,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const c=u(i,["baseSteps"]);e!==void 0&&c!=null&&f(e,["parameters","editConfig","baseSteps"],c);const p=u(i,["outputGcsUri"]);e!==void 0&&p!=null&&f(e,["parameters","storageUri"],p);const m=u(i,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const w=u(i,["personGeneration"]);e!==void 0&&w!=null&&f(e,["parameters","personGeneration"],w);const y=u(i,["addWatermark"]);e!==void 0&&y!=null&&f(e,["parameters","addWatermark"],y);const C=u(i,["outputMimeType"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","mimeType"],C);const E=u(i,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const k=u(i,["enhancePrompt"]);e!==void 0&&k!=null&&f(e,["parameters","enhancePrompt"],k);const U=u(i,["labels"]);return e!==void 0&&U!=null&&f(e,["labels"],U),r}function Ly(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["source"]);c!=null&&Ry(c,r);const p=u(e,["config"]);return p!=null&&My(p,r),r}function Ny(i){const e={},r=u(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Pa(c))),f(e,["generatedImages"],a)}return e}function Ry(i,e){const r={},a=u(i,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const c=u(i,["personImage"]);e!==void 0&&c!=null&&f(e,["instances[0]","personImage","image"],kn(c));const p=u(i,["productImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>Ay(v))),f(e,["instances[0]","productImages"],m)}return r}function Dy(i){const e={},r=u(i,["referenceImage"]);r!=null&&f(e,["referenceImage"],kn(r));const a=u(i,["referenceId"]);a!=null&&f(e,["referenceId"],a);const c=u(i,["referenceType"]);c!=null&&f(e,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&f(e,["maskImageConfig"],Iy(p));const m=u(i,["controlImageConfig"]);m!=null&&f(e,["controlImageConfig"],Sv(m));const v=u(i,["styleImageConfig"]);v!=null&&f(e,["styleImageConfig"],v);const w=u(i,["subjectImageConfig"]);return w!=null&&f(e,["subjectImageConfig"],w),e}function lp(i){const e={},r=u(i,["safetyAttributes","categories"]);r!=null&&f(e,["categories"],r);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(e,["scores"],a);const c=u(i,["contentType"]);return c!=null&&f(e,["contentType"],c),e}function ap(i){const e={},r=u(i,["safetyAttributes","categories"]);r!=null&&f(e,["categories"],r);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(e,["scores"],a);const c=u(i,["contentType"]);return c!=null&&f(e,["contentType"],c),e}function Uy(i){const e={};if(u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["category"]);r!=null&&f(e,["category"],r);const a=u(i,["threshold"]);return a!=null&&f(e,["threshold"],a),e}function Fy(i){const e={},r=u(i,["image"]);return r!=null&&f(e,["image"],kn(r)),e}function By(i,e){const r={},a=u(i,["mode"]);e!==void 0&&a!=null&&f(e,["parameters","mode"],a);const c=u(i,["maxPredictions"]);e!==void 0&&c!=null&&f(e,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);e!==void 0&&p!=null&&f(e,["parameters","confidenceThreshold"],p);const m=u(i,["maskDilation"]);e!==void 0&&m!=null&&f(e,["parameters","maskDilation"],m);const v=u(i,["binaryColorThreshold"]);e!==void 0&&v!=null&&f(e,["parameters","binaryColorThreshold"],v);const w=u(i,["labels"]);return e!==void 0&&w!=null&&f(e,["labels"],w),r}function zy(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["source"]);c!=null&&Hy(c,r);const p=u(e,["config"]);return p!=null&&By(p,r),r}function Vy(i){const e={},r=u(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>fy(c))),f(e,["generatedMasks"],a)}return e}function Hy(i,e){const r={},a=u(i,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const c=u(i,["image"]);e!==void 0&&c!=null&&f(e,["instances[0]","image"],kn(c));const p=u(i,["scribbleImage"]);return e!==void 0&&p!=null&&f(e,["instances[0]","scribble"],Fy(p)),r}function up(i){const e={},r=u(i,["voiceConfig"]);if(r!=null&&f(e,["voiceConfig"],r),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(i,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function by(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(e,["googleSearch"],yy(a));const c=u(i,["googleSearchRetrieval"]);if(c!=null&&f(e,["googleSearchRetrieval"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],vy(p));const m=u(i,["urlContext"]);m!=null&&f(e,["urlContext"],m);const v=u(i,["computerUse"]);v!=null&&f(e,["computerUse"],v);const w=u(i,["codeExecution"]);return w!=null&&f(e,["codeExecution"],w),e}function cp(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(k=>Zv(k))),f(e,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&f(e,["retrieval"],a);const c=u(i,["googleSearch"]);c!=null&&f(e,["googleSearch"],c);const p=u(i,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const v=u(i,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const w=u(i,["urlContext"]);w!=null&&f(e,["urlContext"],w);const y=u(i,["computerUse"]);y!=null&&f(e,["computerUse"],y);const C=u(i,["codeExecution"]);return C!=null&&f(e,["codeExecution"],C),e}function Gy(i){const e={},r=u(i,["baseModel"]);r!=null&&f(e,["baseModel"],r);const a=u(i,["createTime"]);a!=null&&f(e,["createTime"],a);const c=u(i,["updateTime"]);return c!=null&&f(e,["updateTime"],c),e}function Oy(i){const e={},r=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&f(e,["baseModel"],r);const a=u(i,["createTime"]);a!=null&&f(e,["createTime"],a);const c=u(i,["updateTime"]);return c!=null&&f(e,["updateTime"],c),e}function qy(i,e){const r={},a=u(i,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(i,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);const p=u(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&f(e,["defaultCheckpointId"],p),r}function Wy(i,e){const r={},a=u(i,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(i,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);const p=u(i,["defaultCheckpointId"]);return e!==void 0&&p!=null&&f(e,["defaultCheckpointId"],p),r}function Zy(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","name"],Oe(i,a));const c=u(e,["config"]);return c!=null&&qy(c,r),r}function Jy(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["config"]);return c!=null&&Wy(c,r),r}function $y(i,e){const r={},a=u(i,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const c=u(i,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const p=u(i,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const m=u(i,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const v=u(i,["enhanceInputImage"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],v);const w=u(i,["imagePreservationFactor"]);e!==void 0&&w!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],w);const y=u(i,["labels"]);e!==void 0&&y!=null&&f(e,["labels"],y);const C=u(i,["numberOfImages"]);e!==void 0&&C!=null&&f(e,["parameters","sampleCount"],C);const E=u(i,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),r}function Yy(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["_url","model"],Oe(i,a));const c=u(e,["image"]);c!=null&&f(r,["instances[0]","image"],kn(c));const p=u(e,["upscaleFactor"]);p!=null&&f(r,["parameters","upscaleConfig","upscaleFactor"],p);const m=u(e,["config"]);return m!=null&&$y(m,r),r}function Ky(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>Pa(p))),f(e,["generatedImages"],c)}return e}function Qy(i){const e={},r=u(i,["uri"]);r!=null&&f(e,["uri"],r);const a=u(i,["encodedVideo"]);a!=null&&f(e,["videoBytes"],eo(a));const c=u(i,["encoding"]);return c!=null&&f(e,["mimeType"],c),e}function Xy(i){const e={},r=u(i,["gcsUri"]);r!=null&&f(e,["uri"],r);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(e,["videoBytes"],eo(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["mimeType"],c),e}function jy(i){const e={},r=u(i,["image"]);r!=null&&f(e,["_self"],kn(r));const a=u(i,["maskMode"]);return a!=null&&f(e,["maskMode"],a),e}function e0(i){const e={},r=u(i,["image"]);r!=null&&f(e,["image"],Ia(r));const a=u(i,["referenceType"]);return a!=null&&f(e,["referenceType"],a),e}function t0(i){const e={},r=u(i,["image"]);r!=null&&f(e,["image"],kn(r));const a=u(i,["referenceType"]);return a!=null&&f(e,["referenceType"],a),e}function dp(i){const e={},r=u(i,["uri"]);r!=null&&f(e,["uri"],r);const a=u(i,["videoBytes"]);a!=null&&f(e,["encodedVideo"],eo(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["encoding"],c),e}function fp(i){const e={},r=u(i,["uri"]);r!=null&&f(e,["gcsUri"],r);const a=u(i,["videoBytes"]);a!=null&&f(e,["bytesBase64Encoded"],eo(a));const c=u(i,["mimeType"]);return c!=null&&f(e,["mimeType"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0="Content-Type",i0="X-Server-Timeout",o0="User-Agent",hc="x-goog-api-client",r0="1.25.0",s0=`google-genai-sdk/${r0}`,l0="v1beta1",a0="v1beta",Mh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class u0{constructor(e){var r,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:l0,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:a0,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,a){const c=[this.getRequestUrlInternal(r)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,r,a);if(e.queryParams)for(const[m,v]of Object.entries(e.queryParams))c.searchParams.append(m,String(v));let p={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else p.body=e.body;return p=await this.includeExtraHttpOptionsToRequestInit(p,r,e.abortSignal),this.unaryApiCall(c,p,e.httpMethod)}patchHttpOptions(e,r){const a=JSON.parse(JSON.stringify(e));for(const[c,p]of Object.entries(r))typeof p=="object"?a[c]=Object.assign(Object.assign({},a[c]),p):p!==void 0&&(a[c]=p);return a}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,r,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let p={};return p.body=e.body,p=await this.includeExtraHttpOptionsToRequestInit(p,r,e.abortSignal),this.streamApiCall(c,p,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,a){if(r&&r.timeout||a){const c=new AbortController,p=c.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const m=setTimeout(()=>c.abort(),r.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=p}return r&&r.extraBody!==null&&c0(e,r.extraBody),e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:a})).then(async c=>(await Lh(c),new ac(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,r,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:a})).then(async c=>(await Lh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var r;return Ar(this,arguments,function*(){const c=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),p=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:v,value:w}=yield et(c.read());if(v){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=p.decode(w,{stream:!0});try{const E=JSON.parse(y);if("error"in E){const k=JSON.parse(JSON.stringify(E.error)),U=k.status,G=k.code,b=`got status: ${U}. ${JSON.stringify(E)}`;if(G>=400&&G<600)throw new Sa({message:b,status:G})}}catch(E){if(E.name==="ApiError")throw E}m+=y;let C=m.match(Mh);for(;C;){const E=C[1];try{const k=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield et(new ac(k)),m=m.slice(C[0].length),C=m.match(Mh)}catch(k){throw new Error(`exception parsing stream chunk ${E}. ${k}`)}}}}finally{c.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},r=s0+" "+this.clientOptions.userAgentExtra;return e[o0]=r,e[hc]=r,e[n0]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))r.append(a,c);e.timeout&&e.timeout>0&&r.append(i0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var a;const c={};r!=null&&(c.mimeType=r.mimeType,c.name=r.name,c.displayName=r.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const p=this.clientOptions.uploader,m=await p.stat(e);c.sizeBytes=String(m.size);const v=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:m.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=v;const w=await this.fetchUploadUrl(c,r);return p.upload(e,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var a;let c={};r!=null&&r.httpOptions?c=r.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const p={file:e},m=await this.request({path:de("upload/v1beta/files",p._url),body:JSON.stringify(p),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Lh(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const r=i.status;let a;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const c=JSON.stringify(a);throw r>=400&&r<600?new Sa({message:c,status:r}):new Error(c)}}function c0(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof i.body=="string"&&i.body.length>0)try{const p=JSON.parse(i.body);if(typeof p=="object"&&p!==null&&!Array.isArray(p))r=p;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(p,m){const v=Object.assign({},p);for(const w in m)if(Object.prototype.hasOwnProperty.call(m,w)){const y=m[w],C=v[w];y&&typeof y=="object"&&!Array.isArray(y)&&C&&typeof C=="object"&&!Array.isArray(C)?v[w]=a(C,y):(C&&y&&typeof C!=typeof y&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${w}". Original type: ${typeof C}, New type: ${typeof y}. Overwriting.`),v[w]=y)}return v}const c=a(r,e);i.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d0="mcp_used/unknown";let f0=!1;function hp(i){for(const e of i)if(h0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return f0}function pp(i){var e;const r=(e=i[hc])!==null&&e!==void 0?e:"";i[hc]=(r+` ${d0}`).trimStart()}function h0(i){return i!==null&&typeof i=="object"&&i instanceof Ec}function p0(i,e=100){return Ar(this,arguments,function*(){let a,c=0;for(;c<e;){const p=yield et(i.listTools({cursor:a}));for(const m of p.tools)yield yield et(m),c++;if(!p.nextCursor)break;a=p.nextCursor}})}class Ec{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Ec(e,r)}async initialize(){var e,r,a,c;if(this.mcpTools.length>0)return;const p={},m=[];for(const C of this.mcpClients)try{for(var v=!0,w=(r=void 0,Vs(p0(C))),y;y=await w.next(),e=y.done,!e;v=!0){c=y.value,v=!1;const E=c;m.push(E);const k=E.name;if(p[k])throw new Error(`Duplicate function name ${k} found in MCP tools. Please ensure function names are unique.`);p[k]=C}}catch(E){r={error:E}}finally{try{!v&&!e&&(a=w.return)&&await a.call(w)}finally{if(r)throw r.error}}this.mcpTools=m,this.functionNameToMcpClient=p}async tool(){return await this.initialize(),yg(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let p;this.config.timeout&&(p={timeout:this.config.timeout});const m=await c.callTool({name:a.name,arguments:a.args},void 0,p);r.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m0(i,e,r){const a=new dg;let c;r.data instanceof Blob?c=JSON.parse(await r.data.text()):c=JSON.parse(r.data),Object.assign(a,c),e(a)}class g0{constructor(e,r,a){this.apiClient=e,this.auth=r,this.webSocketFactory=a}async connect(e){var r,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion(),m=y0(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),w=`${c}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateMusic?key=${v}`;let y=()=>{};const C=new Promise(Q=>{y=Q}),E=e.callbacks,k=function(){y({})},U=this.apiClient,G={onopen:k,onmessage:Q=>{m0(U,E.onmessage,Q)},onerror:(r=E==null?void 0:E.onerror)!==null&&r!==void 0?r:function(Q){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(Q){}},b=this.webSocketFactory.create(w,v0(m),G);b.connect(),await C;const $={setup:{model:Oe(this.apiClient,e.model)}};return b.send(JSON.stringify($)),new _0(b,this.apiClient)}}class _0{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=av(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=lv(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Ir.PLAY)}pause(){this.sendPlaybackControl(Ir.PAUSE)}stop(){this.sendPlaybackControl(Ir.STOP)}resetContext(){this.sendPlaybackControl(Ir.RESET_CONTEXT)}close(){this.conn.close()}}function v0(i){const e={};return i.forEach((r,a)=>{e[a]=r}),e}function y0(i){const e=new Headers;for(const[r,a]of Object.entries(i))e.append(r,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function T0(i,e,r){const a=new cg;let c;r.data instanceof Blob?c=await r.data.text():r.data instanceof ArrayBuffer?c=new TextDecoder().decode(r.data):c=r.data;const p=JSON.parse(c);if(i.isVertexAI()){const m=dv(p);Object.assign(a,m)}else Object.assign(a,p);e(a)}class x0{constructor(e,r,a){this.apiClient=e,this.auth=r,this.webSocketFactory=a,this.music=new g0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,a,c,p,m,v;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const w=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let C;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&hp(e.config.tools)&&pp(E);const k=P0(E);if(this.apiClient.isVertexAI())C=`${w}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(k);else{const re=this.apiClient.getApiKey();let Ae="BidiGenerateContent",ve="key";re!=null&&re.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),y!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ae="BidiGenerateContentConstrained",ve="access_token"),C=`${w}/ws/google.ai.generativelanguage.${y}.GenerativeService.${Ae}?${ve}=${re}`}let U=()=>{};const G=new Promise(re=>{U=re}),b=e.callbacks,K=function(){var re;(re=b==null?void 0:b.onopen)===null||re===void 0||re.call(b),U({})},ne=this.apiClient,$={onopen:K,onmessage:re=>{T0(ne,b.onmessage,re)},onerror:(r=b==null?void 0:b.onerror)!==null&&r!==void 0?r:function(re){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(re){}},Q=this.webSocketFactory.create(C,E0(k),$);Q.connect(),await G;let le=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const re=this.apiClient.getProject(),Ae=this.apiClient.getLocation();le=`projects/${re}/locations/${Ae}/`+le}let he={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ya.AUDIO]}:e.config.responseModalities=[ya.AUDIO]),!((p=e.config)===null||p===void 0)&&p.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(v=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[],oe=[];for(const re of te)if(this.isCallableTool(re)){const Ae=re;oe.push(await Ae.tool())}else oe.push(re);oe.length>0&&(e.config.tools=oe);const Re={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?he=sv(this.apiClient,Re):he=rv(this.apiClient,Re),delete he.config,Q.send(JSON.stringify(he)),new S0(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const C0={turnComplete:!0};class S0{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let a=[];try{a=gn(r.turns),e.isVertexAI()||(a=a.map(c=>Ea(c)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:a,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let a=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?a=r.functionResponses:a=[r.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const p of a){if(typeof p!="object"||p===null||!("name"in p)||!("response"in p))throw new Error(`Could not parse function response, type '${typeof p}'.`);if(!e.isVertexAI()&&!("id"in p))throw new Error(w0)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},C0),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:cv(e)}:r={realtimeInput:uv(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function E0(i){const e={};return i.forEach((r,a)=>{e[a]=r}),e}function P0(i){const e=new Headers;for(const[r,a]of Object.entries(i))e.append(r,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nh=10;function Rh(i){var e,r,a;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(r=i==null?void 0:i.tools)!==null&&r!==void 0?r:[])if(Mr(m)){c=!0;break}if(!c)return!0;const p=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return p&&(p<0||!Number.isInteger(p))||p==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",p),!0):!1}function Mr(i){return"callTool"in i&&typeof i.callTool=="function"}function I0(i){var e,r,a;return(a=(r=(e=i.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(c=>Mr(c)))!==null&&a!==void 0?a:!1}function k0(i){var e,r,a;return(a=(r=(e=i.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(c=>!Mr(c)))!==null&&a!==void 0?a:!1}function Dh(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A0 extends Do{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var a,c,p,m,v;const w=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!I0(r)||Rh(r.config))return await this.generateContentInternal(w);if(k0(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let y,C;const E=gn(w.contents),k=(p=(c=(a=w.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&p!==void 0?p:Nh;let U=0;for(;U<k&&(y=await this.generateContentInternal(w),!(!y.functionCalls||y.functionCalls.length===0));){const G=y.candidates[0].content,b=[];for(const K of(v=(m=r.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[])if(Mr(K)){const $=await K.callTool(y.functionCalls);b.push(...$)}U++,C={role:"user",parts:b},w.contents=gn(w.contents),w.contents.push(G),w.contents.push(C),Dh(w.config)&&(E.push(G),E.push(C))}return Dh(w.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),Rh(r.config)){const a=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(a=>{var c;let p;const m=[];if(a!=null&&a.generatedImages)for(const w of a.generatedImages)w&&(w!=null&&w.safetyAttributes)&&((c=w==null?void 0:w.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?p=w==null?void 0:w.safetyAttributes:m.push(w);let v;return p?v={generatedImages:m,positivePromptSafetyAttributes:p,sdkHttpResponse:a.sdkHttpResponse}:v={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},v}),this.list=async r=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Gs(Ro.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(m),m)},this.editImage=async r=>{const a={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(a.referenceImages=r.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async r=>{let a={numberOfImages:1,mode:"upscale"};r.config&&(a=Object.assign(Object.assign({},a),r.config));const c={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async r=>{var a,c,p,m,v,w;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=r.video)===null||a===void 0)&&a.uri&&(!((c=r.video)===null||c===void 0)&&c.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((m=(p=r.source)===null||p===void 0?void 0:p.video)===null||m===void 0)&&m.uri&&(!((w=(v=r.source)===null||v===void 0?void 0:v.video)===null||w===void 0)&&w.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,a,c;const p=(r=e.config)===null||r===void 0?void 0:r.tools;if(!p)return e;const m=await Promise.all(p.map(async w=>Mr(w)?await w.tool():w)),v={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(v.config.tools=m,e.config&&e.config.tools&&hp(e.config.tools)){const w=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let y=Object.assign({},w);Object.keys(y).length===0&&(y=this.apiClient.getDefaultHeaders()),pp(y),v.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:y})}return v}async initAfcToolsMap(e){var r,a,c;const p=new Map;for(const m of(a=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&a!==void 0?a:[])if(Mr(m)){const v=m,w=await v.tool();for(const y of(c=w.functionDeclarations)!==null&&c!==void 0?c:[]){if(!y.name)throw new Error("Function declaration name is required.");if(p.has(y.name))throw new Error(`Duplicate tool declaration name: ${y.name}`);p.set(y.name,v)}}return p}async processAfcStream(e){var r,a,c;const p=(c=(a=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Nh;let m=!1,v=0;const w=await this.initAfcToolsMap(e);return(function(y,C,E){var k,U;return Ar(this,arguments,function*(){for(var G,b,K,ne;v<p;){m&&(v++,m=!1);const he=yield et(y.processParamsMaybeAddMcpUsage(E)),te=yield et(y.generateContentStreamInternal(he)),oe=[],Re=[];try{for(var $=!0,Q=(b=void 0,Vs(te)),le;le=yield et(Q.next()),G=le.done,!G;$=!0){ne=le.value,$=!1;const re=ne;if(yield yield et(re),re.candidates&&(!((k=re.candidates[0])===null||k===void 0)&&k.content)){Re.push(re.candidates[0].content);for(const Ae of(U=re.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(v<p&&Ae.functionCall){if(!Ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(C.has(Ae.functionCall.name)){const ve=yield et(C.get(Ae.functionCall.name).callTool([Ae.functionCall]));oe.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${C.keys()}, mising tool: ${Ae.functionCall.name}`)}}}}catch(re){b={error:re}}finally{try{!$&&!G&&(K=Q.return)&&(yield et(K.call(Q)))}finally{if(b)throw b.error}}if(oe.length>0){m=!0;const re=new Fs;re.candidates=[{content:{role:"user",parts:oe}}],yield yield et(re);const Ae=[];Ae.push(...Re),Ae.push({role:"user",parts:oe});const ve=gn(E.contents).concat(Ae);E.contents=ve}else break}})})(this,w,e)}async generateContentInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Ih(this.apiClient,e);return v=de("{model}:generateContent",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Ah(C),k=new Fs;return Object.assign(k,E),k})}else{const y=Ph(this.apiClient,e);return v=de("{model}:generateContent",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=kh(C),k=new Fs;return Object.assign(k,E),k})}}async generateContentStreamInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Ih(this.apiClient,e);return v=de("{model}:streamGenerateContent?alt=sse",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.requestStream({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(E){return Ar(this,arguments,function*(){var k,U,G,b;try{for(var K=!0,ne=Vs(E),$;$=yield et(ne.next()),k=$.done,!k;K=!0){b=$.value,K=!1;const Q=b,le=Ah(yield et(Q.json()));le.sdkHttpResponse={headers:Q.headers};const he=new Fs;Object.assign(he,le),yield yield et(he)}}catch(Q){U={error:Q}}finally{try{!K&&!k&&(G=ne.return)&&(yield et(G.call(ne)))}finally{if(U)throw U.error}}})})}else{const y=Ph(this.apiClient,e);return v=de("{model}:streamGenerateContent?alt=sse",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.requestStream({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}),m.then(function(E){return Ar(this,arguments,function*(){var k,U,G,b;try{for(var K=!0,ne=Vs(E),$;$=yield et(ne.next()),k=$.done,!k;K=!0){b=$.value,K=!1;const Q=b,le=kh(yield et(Q.json()));le.sdkHttpResponse={headers:Q.headers};const he=new Fs;Object.assign(he,le),yield yield et(he)}}catch(Q){U={error:Q}}finally{try{!K&&!k&&(G=ne.return)&&(yield et(G.call(ne)))}finally{if(U)throw U.error}}})})}}async embedContent(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=bv(this.apiClient,e);return v=de("{model}:predict",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Ov(C),k=new ch;return Object.assign(k,E),k})}else{const y=Hv(this.apiClient,e);return v=de("{model}:batchEmbedContents",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Gv(C),k=new ch;return Object.assign(k,E),k})}}async generateImagesInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Xv(this.apiClient,e);return v=de("{model}:predict",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=ey(C),k=new dh;return Object.assign(k,E),k})}else{const y=Qv(this.apiClient,e);return v=de("{model}:predict",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=jv(C),k=new dh;return Object.assign(k,E),k})}}async editImageInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=Fv(this.apiClient,e);return p=de("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>{const y=Bv(w),C=new ng;return Object.assign(C,y),C})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=Yy(this.apiClient,e);return p=de("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>{const y=Ky(w),C=new ig;return Object.assign(C,y),C})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=Ly(this.apiClient,e);return p=de("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c.then(w=>{const y=Ny(w),C=new og;return Object.assign(C,y),C})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=zy(this.apiClient,e);return p=de("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c.then(w=>{const y=Vy(w),C=new rg;return Object.assign(C,y),C})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=_y(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>fc(C))}else{const y=gy(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>dc(C))}}async listInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Sy(this.apiClient,e);return v=de("{models_url}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Py(C),k=new fh;return Object.assign(k,E),k})}else{const y=Cy(this.apiClient,e);return v=de("{models_url}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Ey(C),k=new fh;return Object.assign(k,E),k})}}async update(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Jy(this.apiClient,e);return v=de("{model}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>fc(C))}else{const y=Zy(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>dc(C))}}async delete(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=Nv(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Dv(C),k=new hh;return Object.assign(k,E),k})}else{const y=Lv(this.apiClient,e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Rv(C),k=new hh;return Object.assign(k,E),k})}}async countTokens(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=kv(this.apiClient,e);return v=de("{model}:countTokens",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Mv(C),k=new ph;return Object.assign(k,E),k})}else{const y=Iv(this.apiClient,e);return v=de("{model}:countTokens",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=Av(C),k=new ph;return Object.assign(k,E),k})}}async computeTokens(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=wv(this.apiClient,e);return p=de("{model}:computeTokens",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>{const y=Tv(w),C=new sg;return Object.assign(C,y),C})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=sy(this.apiClient,e);return v=de("{model}:predictLongRunning",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m.then(C=>{const E=oy(C),k=new wa;return Object.assign(k,E),k})}else{const y=ry(this.apiClient,e);return v=de("{model}:predictLongRunning",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m.then(C=>{const E=iy(C),k=new wa;return Object.assign(k,E),k})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M0 extends Do{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,a=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=r.name.split("/operations/")[0];let p;a&&"httpOptions"in a&&(p=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:c,config:{httpOptions:p}});return r._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:r.name,config:a});return r._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const r=e.operation,a=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=r.name.split("/operations/")[0];let p;a&&"httpOptions"in a&&(p=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:c,config:{httpOptions:p}});return r._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:r.name,config:a});return r._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=jm(e);return v=de("{operationName}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json()),m}else{const y=Xm(e);return v=de("{operationName}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json()),m}}async fetchPredictVideosOperationInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=Wm(e);return p=de("{resourceName}:fetchPredictOperation",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L0(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["data"]);r!=null&&f(e,["data"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function N0(i){const e={},r=u(i,["parts"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>H0(p))),f(e,["parts"],c)}const a=u(i,["role"]);return a!=null&&f(e,["role"],a),e}function R0(i,e,r){const a={},c=u(e,["expireTime"]);r!==void 0&&c!=null&&f(r,["expireTime"],c);const p=u(e,["newSessionExpireTime"]);r!==void 0&&p!=null&&f(r,["newSessionExpireTime"],p);const m=u(e,["uses"]);r!==void 0&&m!=null&&f(r,["uses"],m);const v=u(e,["liveConnectConstraints"]);r!==void 0&&v!=null&&f(r,["bidiGenerateContentSetup"],V0(i,v));const w=u(e,["lockAdditionalFields"]);return r!==void 0&&w!=null&&f(r,["fieldMask"],w),a}function D0(i,e){const r={},a=u(e,["config"]);return a!=null&&f(r,["config"],R0(i,a,r)),r}function U0(i){const e={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["fileUri"]);r!=null&&f(e,["fileUri"],r);const a=u(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function F0(i){const e={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=u(i,["enableWidget"]);return r!=null&&f(e,["enableWidget"],r),e}function B0(i){const e={},r=u(i,["timeRangeFilter"]);if(r!=null&&f(e,["timeRangeFilter"],r),u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function z0(i,e){const r={},a=u(i,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],a);const c=u(i,["responseModalities"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","responseModalities"],c);const p=u(i,["temperature"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","temperature"],p);const m=u(i,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const v=u(i,["topK"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","topK"],v);const w=u(i,["maxOutputTokens"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","maxOutputTokens"],w);const y=u(i,["mediaResolution"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","mediaResolution"],y);const C=u(i,["seed"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","seed"],C);const E=u(i,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Sc(E));const k=u(i,["thinkingConfig"]);e!==void 0&&k!=null&&f(e,["setup","generationConfig","thinkingConfig"],k);const U=u(i,["enableAffectiveDialog"]);e!==void 0&&U!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],U);const G=u(i,["systemInstruction"]);e!==void 0&&G!=null&&f(e,["setup","systemInstruction"],N0(Mt(G)));const b=u(i,["tools"]);if(e!==void 0&&b!=null){let te=Rr(b);Array.isArray(te)&&(te=te.map(oe=>G0(Nr(oe)))),f(e,["setup","tools"],te)}const K=u(i,["sessionResumption"]);e!==void 0&&K!=null&&f(e,["setup","sessionResumption"],b0(K));const ne=u(i,["inputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","inputAudioTranscription"],ne);const $=u(i,["outputAudioTranscription"]);e!==void 0&&$!=null&&f(e,["setup","outputAudioTranscription"],$);const Q=u(i,["realtimeInputConfig"]);e!==void 0&&Q!=null&&f(e,["setup","realtimeInputConfig"],Q);const le=u(i,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const he=u(i,["proactivity"]);return e!==void 0&&he!=null&&f(e,["setup","proactivity"],he),r}function V0(i,e){const r={},a=u(e,["model"]);a!=null&&f(r,["setup","model"],Oe(i,a));const c=u(e,["config"]);return c!=null&&f(r,["config"],z0(c,r)),r}function H0(i){const e={},r=u(i,["videoMetadata"]);r!=null&&f(e,["videoMetadata"],r);const a=u(i,["thought"]);a!=null&&f(e,["thought"],a);const c=u(i,["inlineData"]);c!=null&&f(e,["inlineData"],L0(c));const p=u(i,["fileData"]);p!=null&&f(e,["fileData"],U0(p));const m=u(i,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const v=u(i,["functionCall"]);v!=null&&f(e,["functionCall"],v);const w=u(i,["codeExecutionResult"]);w!=null&&f(e,["codeExecutionResult"],w);const y=u(i,["executableCode"]);y!=null&&f(e,["executableCode"],y);const C=u(i,["functionResponse"]);C!=null&&f(e,["functionResponse"],C);const E=u(i,["text"]);return E!=null&&f(e,["text"],E),e}function b0(i){const e={},r=u(i,["handle"]);if(r!=null&&f(e,["handle"],r),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function G0(i){const e={},r=u(i,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(C=>C)),f(e,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearch"]);a!=null&&f(e,["googleSearch"],B0(a));const c=u(i,["googleSearchRetrieval"]);if(c!=null&&f(e,["googleSearchRetrieval"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(e,["googleMaps"],F0(p));const m=u(i,["urlContext"]);m!=null&&f(e,["urlContext"],m);const v=u(i,["computerUse"]);v!=null&&f(e,["computerUse"],v);const w=u(i,["codeExecution"]);return w!=null&&f(e,["codeExecution"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(i){const e=[];for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const a=i[r];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(p=>`${r}.${p}`);e.push(...c)}else e.push(r)}return e.join(",")}function q0(i,e){let r=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const p=a.setup;typeof p=="object"&&p!==null?(i.bidiGenerateContentSetup=p,r=p):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const c=i.fieldMask;if(r){const p=O0(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)p?i.fieldMask=p:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];c.length>0&&(v=c.map(y=>m.includes(y)?`generationConfig.${y}`:y));const w=[];p&&w.push(p),v.length>0&&w.push(...v),w.length>0?i.fieldMask=w.join(","):delete i.fieldMask}else delete i.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?i.fieldMask=c.join(","):delete i.fieldMask;return i}class W0 extends Do{constructor(e){super(),this.apiClient=e}async create(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=D0(this.apiClient,e);p=de("auth_tokens",v._url),m=v._query,delete v.config,delete v._url,delete v._query;const w=q0(v,e.config);return c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>y)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z0(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","name"],r),e}function J0(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","name"],r),e}function $0(i,e){const r={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=u(i,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=u(i,["batchSize"]);e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","batchSize"],m);const v=u(i,["learningRate"]);if(e!==void 0&&v!=null&&f(e,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function Y0(i,e){const r={},a=u(i,["validationDataset"]);e!==void 0&&a!=null&&f(e,["supervisedTuningSpec"],cw(a,r));const c=u(i,["tunedModelDisplayName"]);e!==void 0&&c!=null&&f(e,["tunedModelDisplayName"],c);const p=u(i,["description"]);e!==void 0&&p!=null&&f(e,["description"],p);const m=u(i,["epochCount"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const v=u(i,["learningRateMultiplier"]);e!==void 0&&v!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const w=u(i,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w);const y=u(i,["adapterSize"]);if(e!==void 0&&y!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const C=u(i,["labels"]);return e!==void 0&&C!=null&&f(e,["labels"],C),r}function K0(i){const e={},r=u(i,["baseModel"]);r!=null&&f(e,["baseModel"],r);const a=u(i,["preTunedModel"]);a!=null&&f(e,["preTunedModel"],a);const c=u(i,["trainingDataset"]);c!=null&&f(e,["tuningTask","trainingData"],lw(c));const p=u(i,["config"]);return p!=null&&$0(p,e),e}function Q0(i){const e={},r=u(i,["baseModel"]);r!=null&&f(e,["baseModel"],r);const a=u(i,["preTunedModel"]);a!=null&&f(e,["preTunedModel"],a);const c=u(i,["trainingDataset"]);c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],aw(c,e));const p=u(i,["config"]);return p!=null&&Y0(p,e),e}function X0(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","name"],r),e}function j0(i){const e={},r=u(i,["name"]);return r!=null&&f(e,["_url","name"],r),e}function ew(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const p=u(i,["filter"]);return e!==void 0&&p!=null&&f(e,["_query","filter"],p),r}function tw(i,e){const r={},a=u(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(i,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const p=u(i,["filter"]);return e!==void 0&&p!=null&&f(e,["_query","filter"],p),r}function nw(i){const e={},r=u(i,["config"]);return r!=null&&ew(r,e),e}function iw(i){const e={},r=u(i,["config"]);return r!=null&&tw(r,e),e}function ow(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>mp(m))),f(e,["tuningJobs"],p)}return e}function rw(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["nextPageToken"]);a!=null&&f(e,["nextPageToken"],a);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>pc(m))),f(e,["tuningJobs"],p)}return e}function sw(i){const e={},r=u(i,["name"]);r!=null&&f(e,["model"],r);const a=u(i,["name"]);return a!=null&&f(e,["endpoint"],a),e}function lw(i){const e={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=u(i,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["examples","examples"],a)}return e}function aw(i,e){const r={},a=u(i,["gcsUri"]);e!==void 0&&a!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=u(i,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c),u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mp(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["state"]);c!=null&&f(e,["state"],Kh(c));const p=u(i,["createTime"]);p!=null&&f(e,["createTime"],p);const m=u(i,["tuningTask","startTime"]);m!=null&&f(e,["startTime"],m);const v=u(i,["tuningTask","completeTime"]);v!=null&&f(e,["endTime"],v);const w=u(i,["updateTime"]);w!=null&&f(e,["updateTime"],w);const y=u(i,["description"]);y!=null&&f(e,["description"],y);const C=u(i,["baseModel"]);C!=null&&f(e,["baseModel"],C);const E=u(i,["_self"]);E!=null&&f(e,["tunedModel"],sw(E));const k=u(i,["customBaseModel"]);k!=null&&f(e,["customBaseModel"],k);const U=u(i,["experiment"]);U!=null&&f(e,["experiment"],U);const G=u(i,["labels"]);G!=null&&f(e,["labels"],G);const b=u(i,["outputUri"]);b!=null&&f(e,["outputUri"],b);const K=u(i,["pipelineJob"]);K!=null&&f(e,["pipelineJob"],K);const ne=u(i,["serviceAccount"]);ne!=null&&f(e,["serviceAccount"],ne);const $=u(i,["tunedModelDisplayName"]);$!=null&&f(e,["tunedModelDisplayName"],$);const Q=u(i,["veoTuningSpec"]);return Q!=null&&f(e,["veoTuningSpec"],Q),e}function pc(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["state"]);c!=null&&f(e,["state"],Kh(c));const p=u(i,["createTime"]);p!=null&&f(e,["createTime"],p);const m=u(i,["startTime"]);m!=null&&f(e,["startTime"],m);const v=u(i,["endTime"]);v!=null&&f(e,["endTime"],v);const w=u(i,["updateTime"]);w!=null&&f(e,["updateTime"],w);const y=u(i,["error"]);y!=null&&f(e,["error"],y);const C=u(i,["description"]);C!=null&&f(e,["description"],C);const E=u(i,["baseModel"]);E!=null&&f(e,["baseModel"],E);const k=u(i,["tunedModel"]);k!=null&&f(e,["tunedModel"],k);const U=u(i,["preTunedModel"]);U!=null&&f(e,["preTunedModel"],U);const G=u(i,["supervisedTuningSpec"]);G!=null&&f(e,["supervisedTuningSpec"],G);const b=u(i,["tuningDataStats"]);b!=null&&f(e,["tuningDataStats"],b);const K=u(i,["encryptionSpec"]);K!=null&&f(e,["encryptionSpec"],K);const ne=u(i,["partnerModelTuningSpec"]);ne!=null&&f(e,["partnerModelTuningSpec"],ne);const $=u(i,["customBaseModel"]);$!=null&&f(e,["customBaseModel"],$);const Q=u(i,["experiment"]);Q!=null&&f(e,["experiment"],Q);const le=u(i,["labels"]);le!=null&&f(e,["labels"],le);const he=u(i,["outputUri"]);he!=null&&f(e,["outputUri"],he);const te=u(i,["pipelineJob"]);te!=null&&f(e,["pipelineJob"],te);const oe=u(i,["serviceAccount"]);oe!=null&&f(e,["serviceAccount"],oe);const Re=u(i,["tunedModelDisplayName"]);Re!=null&&f(e,["tunedModelDisplayName"],Re);const re=u(i,["veoTuningSpec"]);return re!=null&&f(e,["veoTuningSpec"],re),e}function uw(i){const e={},r=u(i,["sdkHttpResponse"]);r!=null&&f(e,["sdkHttpResponse"],r);const a=u(i,["name"]);a!=null&&f(e,["name"],a);const c=u(i,["metadata"]);c!=null&&f(e,["metadata"],c);const p=u(i,["done"]);p!=null&&f(e,["done"],p);const m=u(i,["error"]);return m!=null&&f(e,["error"],m),e}function cw(i,e){const r={},a=u(i,["gcsUri"]);a!=null&&f(r,["validationDatasetUri"],a);const c=u(i,["vertexDatasetResource"]);return e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dw extends Do{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Gs(Ro.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(r),r),this.tune=async r=>{var a;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const c={tunedModelName:r.baseModel};!((a=r.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(c.checkpointId=r.config.preTunedModelCheckpointId);const p=Object.assign(Object.assign({},r),{preTunedModel:c});return p.baseModel=void 0,await this.tuneInternal(p)}else{const c=Object.assign({},r);return await this.tuneInternal(c)}else{const c=Object.assign({},r),p=await this.tuneMldevInternal(c);let m="";return p.metadata!==void 0&&p.metadata.tunedModel!==void 0?m=p.metadata.tunedModel:p.name!==void 0&&p.name.includes("/operations/")&&(m=p.name.split("/operations/")[0]),{name:m,state:lc.JOB_STATE_QUEUED}}}}async getInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=j0(e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>pc(C))}else{const y=X0(e);return v=de("{name}",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>mp(C))}}async listInternal(e){var r,a,c,p;let m,v="",w={};if(this.apiClient.isVertexAI()){const y=iw(e);return v=de("tuningJobs",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=rw(C),k=new mh;return Object.assign(k,E),k})}else{const y=nw(e);return v=de("tunedModels",y._url),w=y._query,delete y._url,delete y._query,m=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal}).then(C=>C.json().then(E=>{const k=E;return k.sdkHttpResponse={headers:C.headers},k})),m.then(C=>{const E=ow(C),k=new mh;return Object.assign(k,E),k})}}async cancel(e){var r,a,c,p;let m="",v={};if(this.apiClient.isVertexAI()){const w=J0(e);m=de("{name}:cancel",w._url),v=w._query,delete w._url,delete w._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const w=Z0(e);m=de("{name}:cancel",w._url),v=w._query,delete w._url,delete w._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(p=e.config)===null||p===void 0?void 0:p.abortSignal})}}async tuneInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI()){const v=Q0(e);return p=de("tuningJobs",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>pc(w))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,a;let c,p="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=K0(e);return p=de("tunedModels",v._url),m=v._query,delete v._url,delete v._query,c=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(w=>w.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:w.headers},C})),c.then(w=>uw(w))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fw{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hw=1024*1024*8,pw=3,mw=1e3,gw=2,oc="x-goog-upload-status";async function _w(i,e,r){var a,c,p;let m=0,v=0,w=new ac(new Response),y="upload";for(m=i.size;v<m;){const E=Math.min(hw,m-v),k=i.slice(v,v+E);v+E>=m&&(y+=", finalize");let U=0,G=mw;for(;U<pw&&(w=await r.request({path:"",body:k,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(v),"Content-Length":String(E)}}}),!(!((a=w==null?void 0:w.headers)===null||a===void 0)&&a[oc]));)U++,await yw(G),G=G*gw;if(v+=E,((c=w==null?void 0:w.headers)===null||c===void 0?void 0:c[oc])!=="active")break;if(m<=v)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const C=await(w==null?void 0:w.json());if(((p=w==null?void 0:w.headers)===null||p===void 0?void 0:p[oc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return C.file}async function vw(i){return{size:i.size,type:i.type}}function yw(i){return new Promise(e=>setTimeout(e,i))}class ww{async upload(e,r,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _w(e,r,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vw(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tw{create(e,r,a){return new xw(e,r,a)}}class xw{constructor(e,r,a){this.url=e,this.headers=r,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh="x-goog-api-key";class Cw{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Uh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Uh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sw="gl-node/";class Ew{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const a=Om(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new Cw(this.apiKey);this.apiClient=new u0({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Sw+"web",uploader:new ww,downloader:new fw}),this.models=new A0(this.apiClient),this.live=new x0(this.apiClient,c,new Tw),this.batches=new a_(this.apiClient),this.chats=new H_(this.models,this.apiClient),this.caches=new B_(this.apiClient),this.files=new K_(this.apiClient),this.operations=new M0(this.apiClient),this.authTokens=new W0(this.apiClient),this.tunings=new dw(this.apiClient)}}let di=null,Lr=null;try{di=new Ew({apiKey:"AIzaSyDO7vp3wtJIsnhhn3ENDNJeo5XqW9MQGRs"})}catch(i){Lr="Failed to initialize AI service. Please ensure the API_KEY environment variable is correctly set for your deployment.",console.error(Lr,i)}const Pw={type:mt.ARRAY,items:{type:mt.OBJECT,properties:{name:{type:mt.STRING,description:"The name of the place."},category:{type:mt.STRING,description:"A single category for the place (e.g., Food, Culture, Nature, Events, Landmark)."},description:{type:mt.STRING,description:"A brief, one-sentence description of the place."}},required:["name","category","description"]}},Iw=async i=>{if(!di)return[{name:"API Key Error",category:"Error",description:Lr},{name:"Lekki Conservation Centre",category:"Nature",description:"A serene nature reserve known for its long canopy walkway and diverse wildlife."},{name:"Nike Art Gallery",category:"Culture",description:"A stunning art gallery showcasing contemporary and traditional Nigerian art."}];try{const e=`List 5 popular places in Lagos, Nigeria under the category "${i}". For each place, provide its name, a single category, and a brief one-sentence description.`,a=(await di.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:Pw}})).text.trim();return JSON.parse(a)}catch(e){return console.error("Error fetching explore places from Gemini API:",e),[{name:"Error fetching data",category:"Error",description:"Could not connect to the discovery service. Please check your network connection."},{name:"Lekki Conservation Centre",category:"Nature",description:"A serene nature reserve known for its long canopy walkway and diverse wildlife."},{name:"Nike Art Gallery",category:"Culture",description:"A stunning art gallery showcasing contemporary and traditional Nigerian art."}]}},kw=async(i,e,r)=>{if(!di)return Lr||"The AI service is currently unavailable.";try{const a=di.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:"You are EkoBot, a friendly and witty navigation assistant for Lagos, Nigeria. You must understand and respond fluently in English, Yoruba, Hausa, and Igbo. You will often be provided with the user's current GPS coordinates (latitude, longitude). Use this information to provide accurate, location-aware directions and recommendations. Keep your answers concise and helpful for navigation and discovering places in Lagos."},history:e});let c=i;return r&&(c=`My current location is latitude ${r.lat}, longitude ${r.lon}. My question is: ${i}`),(await a.sendMessage({message:c})).text}catch(a){return console.error("Error communicating with EkoBot:",a),"Sorry, I'm having trouble connecting right now. Please try again later."}},Aw={type:mt.OBJECT,properties:{suggestions:{type:mt.ARRAY,items:{type:mt.STRING}}},required:["suggestions"]},Mw=async i=>{if(!di)return console.error(Lr||"Search service is unavailable."),[];if(!i||i.length<3)return[];try{const e=`Provide up to 5 autocomplete suggestions for places, landmarks, or areas in Lagos, Nigeria, that start with or are related to "${i}".`,a=(await di.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:Aw}})).text.trim();return JSON.parse(a).suggestions||[]}catch(e){return console.error("Error fetching search suggestions:",e),[]}},Lw={type:mt.OBJECT,properties:{lat:{type:mt.NUMBER},lon:{type:mt.NUMBER}},required:["lat","lon"]},Nw=async i=>{if(!di)return console.error(Lr||"Geocoding service is unavailable."),null;try{const e=`Provide the precise latitude and longitude for this location in Lagos, Nigeria: "${i}".`,a=(await di.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:Lw}})).text.trim();return JSON.parse(a)}catch(e){return console.error("Error geocoding place:",e),null}},bs=({src:i,alt:e,className:r,iconClassName:a})=>{const[c,p]=j.useState(!1);return c||!i?P.jsx("div",{className:`${r} flex items-center justify-center bg-gray-700 overflow-hidden`,children:P.jsx(Lm,{className:`text-gray-400 w-3/4 h-3/4 ${a}`})}):P.jsx("img",{src:i,alt:e,className:r,onError:()=>p(!0)})},nn="/api",ji=()=>{const i=localStorage.getItem("ekoToken");return i?{Authorization:`Bearer ${i}`}:{}},xa={register:async i=>{const e=await fetch(`${nn}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return localStorage.setItem("ekoToken",r.token),r;throw new Error(r.message||"Registration failed")},login:async i=>{const e=await fetch(`${nn}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return localStorage.setItem("ekoToken",r.token),r;throw new Error(r.message||"Login failed")},googleLogin:async i=>{const e=await fetch(`${nn}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i})}),r=await e.json();if(e.ok)return localStorage.setItem("ekoToken",r.token),r;throw new Error(r.message||"Google login failed")},logout:()=>{localStorage.removeItem("ekoToken")}},gp={getProfile:async()=>{const i=await fetch(`${nn}/users/profile`,{headers:{...ji()}}),e=await i.json();if(i.ok)return e;throw new Error(e.message||"Failed to fetch profile")},updateProfile:async i=>{const e=await fetch(`${nn}/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",...ji()},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to update profile")},updateSettings:async i=>{const e=await fetch(`${nn}/users/settings`,{method:"PUT",headers:{"Content-Type":"application/json",...ji()},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to update settings")},addSavedPlace:async i=>{const e=await fetch(`${nn}/users/saved-places`,{method:"POST",headers:{"Content-Type":"application/json",...ji()},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to save place")},removeSavedPlace:async i=>{const e=await fetch(`${nn}/users/saved-places/${i}`,{method:"DELETE",headers:{...ji()}}),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to remove place")}},Rw={getPlacesByCategory:async i=>{const e=await fetch(`${nn}/places/category/${i}`),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to fetch places")},searchPlaces:async i=>{const e=await fetch(`${nn}/places/search?query=${encodeURIComponent(i)}`),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to search places")}},rc={getChatHistory:async()=>{const i=await fetch(`${nn}/chat/history`,{headers:{...ji()}}),e=await i.json();if(i.ok)return e;throw new Error(e.message||"Failed to fetch chat history")},saveMessage:async i=>{const e=await fetch(`${nn}/chat/message`,{method:"POST",headers:{"Content-Type":"application/json",...ji()},body:JSON.stringify(i)}),r=await e.json();if(e.ok)return r;throw new Error(r.message||"Failed to save message")},clearChatHistory:async()=>{const i=await fetch(`${nn}/chat/history`,{method:"DELETE",headers:{...ji()}}),e=await i.json();if(i.ok)return e;throw new Error(e.message||"Failed to clear chat history")}},Dw=()=>new Promise(i=>{if(!navigator.geolocation){i(null);return}navigator.geolocation.getCurrentPosition(e=>{i({lat:e.coords.latitude,lon:e.coords.longitude})},()=>{i(null)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),Uw=i=>i.split(/(\*\*.*?\*\*)/g).map((r,a)=>r.startsWith("**")&&r.endsWith("**")?P.jsx("strong",{className:"font-bold text-[#F9B233]",children:r.slice(2,-2)},a):r),Fw=({isOpen:i,onClose:e})=>{const[r,a]=j.useState([]),[c,p]=j.useState(""),[m,v]=j.useState(!1),[w,y]=j.useState(!1),[C,E]=j.useState(!1),k=j.useRef(null),U=j.useRef(null),{language:G,t:b}=qt();j.useEffect(()=>{i&&(async()=>{try{const oe=await rc.getChatHistory();oe.messages&&a(oe.messages)}catch(oe){console.log("Failed to load chat history:",oe)}})()},[i]),j.useEffect(()=>{const te=window.SpeechRecognition||window.webkitSpeechRecognition;if(te){const oe=new te,Re={English:"en-US",Yoruba:"yo-NG",Hausa:"ha-NG",Igbo:"ig-NG"};oe.continuous=!1,oe.interimResults=!0,oe.lang=Re[G]||"en-US",oe.onresult=re=>{const Ae=Array.from(re.results).map(ve=>ve[0]).map(ve=>ve.transcript).join("");p(Ae)},oe.onend=()=>{E(!1)},oe.onerror=re=>{console.error("Speech Recognition Error:",re.error,re.message),E(!1)},k.current=oe}else console.warn("Speech recognition not supported in this browser.")},[G]);const K=()=>{var te;(te=U.current)==null||te.scrollIntoView({behavior:"smooth"})};j.useEffect(K,[r]);const ne=async()=>{if(c.trim()===""||m)return;const te={role:"user",text:c};a(ve=>[...ve,te]),p(""),v(!0);try{await rc.saveMessage({role:"user",text:c})}catch(ve){console.log("Failed to save user message:",ve)}const oe=r.map(ve=>({role:ve.role,parts:[{text:ve.text}]})),Re=await Dw(),re=await kw(c,oe,Re),Ae={role:"model",text:re};a(ve=>[...ve,Ae]),v(!1);try{await rc.saveMessage({role:"model",text:re})}catch(ve){console.log("Failed to save bot message:",ve)}},$=()=>{m||!k.current||(C?k.current.stop():(p(""),k.current.start(),E(!0)))},Q=()=>{var te;C&&((te=k.current)==null||te.stop()),y(!1),e()};if(!i)return null;const le=w?"fixed inset-0 w-full h-full rounded-none":"fixed bottom-0 right-0 left-0 sm:left-auto sm:right-4 sm:bottom-4 h-[85%] sm:h-[70%] w-full sm:w-96 rounded-t-2xl sm:rounded-2xl",he=i?"translate-y-0":"translate-y-full";return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:`fixed inset-0 bg-black/60 z-40 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:Q,"aria-hidden":"true"}),P.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"ekobot-heading",className:`${le} bg-[#1A2E27] text-white z-50 flex flex-col shadow-2xl transition-all duration-300 ease-in-out ${he}`,children:[P.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700 flex-shrink-0",children:[P.jsx("h2",{id:"ekobot-heading",className:"text-xl font-bold font-poppins",children:b("ekobot_header")}),P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("button",{onClick:()=>y(!w),className:"p-1 rounded-full hover:bg-gray-700/50","aria-label":w?"Minimize chat":"Maximize chat",children:w?P.jsx(Mm,{className:"w-6 h-6"}):P.jsx(Am,{className:"w-6 h-6"})}),P.jsx("button",{onClick:Q,className:"p-1 rounded-full hover:bg-gray-700/50","aria-label":"Close EkoBot",children:P.jsx(yc,{className:"w-6 h-6"})})]})]}),P.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:P.jsxs("div",{className:"space-y-4",children:[r.map((te,oe)=>P.jsxs("div",{className:`flex items-end gap-2 ${te.role==="user"?"justify-end":"justify-start"}`,children:[te.role==="model"&&P.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#008751] to-[#1c5f42] flex-shrink-0"}),P.jsx("div",{className:`max-w-xs md:max-w-sm px-4 py-2 rounded-2xl ${te.role==="user"?"bg-[#008751] rounded-br-none":"bg-gray-700 rounded-bl-none"}`,children:P.jsx("p",{className:"text-white whitespace-pre-wrap",children:Uw(te.text)})}),te.role==="user"&&P.jsx(bs,{src:Hs.avatarUrl,alt:"user",className:"w-8 h-8 rounded-full flex-shrink-0"})]},oe)),m&&P.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[P.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#008751] to-[#1c5f42] flex-shrink-0"}),P.jsx("div",{className:"max-w-xs md:max-w-sm px-4 py-2 rounded-2xl bg-gray-700 rounded-bl-none",children:P.jsxs("div",{className:"flex items-center space-x-1",children:[P.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-75"}),P.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-150"}),P.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse delay-300"})]})})]}),P.jsx("div",{ref:U})]})}),P.jsx("div",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:P.jsxs("form",{onSubmit:te=>{te.preventDefault(),ne()},className:"flex items-center space-x-2",children:[P.jsx("button",{type:"button",onClick:$,disabled:!k.current||m,className:`flex-shrink-0 text-white p-2 rounded-full transition-colors ${C?"bg-red-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":b(C?"ekobot_voice_stop_label":"ekobot_voice_input_label"),children:P.jsx(Pm,{className:"w-6 h-6"})}),P.jsx("input",{type:"text",value:c,onChange:te=>p(te.target.value),placeholder:b(C?"ekobot_listening_placeholder":"ekobot_placeholder"),className:"w-full bg-gray-800 border border-gray-600 text-white placeholder-gray-400 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751] disabled:opacity-70",disabled:C}),P.jsx("button",{type:"submit",disabled:m||C,className:"bg-[#008751] text-white p-2 rounded-full disabled:bg-gray-500 disabled:cursor-not-allowed","aria-label":b("ekobot_send_label"),children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),P.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})})]})]})};function _p(i,e){const r=j.useRef(e);j.useEffect(function(){e!==r.current&&i.attributionControl!=null&&(r.current!=null&&i.attributionControl.removeAttribution(r.current),e!=null&&i.attributionControl.addAttribution(e)),r.current=e},[i,e])}var Bw=bh();const zw=1;function Vw(i){return Object.freeze({__version:zw,map:i})}function Hw(i,e){return Object.freeze({...i,...e})}const vp=j.createContext(null),yp=vp.Provider;function Pc(){const i=j.useContext(vp);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function bw(i){function e(r,a){const{instance:c,context:p}=i(r).current;return j.useImperativeHandle(a,()=>c),r.children==null?null:va.createElement(yp,{value:p},r.children)}return j.forwardRef(e)}function Gw(i){function e(r,a){const[c,p]=j.useState(!1),{instance:m}=i(r,p).current;j.useImperativeHandle(a,()=>m),j.useEffect(function(){c&&m.update()},[m,c,r.children]);const v=m._contentNode;return v?Bw.createPortal(r.children,v):null}return j.forwardRef(e)}function Ow(i){function e(r,a){const{instance:c}=i(r).current;return j.useImperativeHandle(a,()=>c),null}return j.forwardRef(e)}function wp(i,e){const r=j.useRef();j.useEffect(function(){return e!=null&&i.instance.on(e),r.current=e,function(){r.current!=null&&i.instance.off(r.current),r.current=null}},[i,e])}function Ic(i,e){const r=i.pane??e.pane;return r?{...i,pane:r}:i}function qw(i,e){return function(a,c){const p=Pc(),m=i(Ic(a,p),p);return _p(p.map,a.attribution),wp(m.current,a.eventHandlers),e(m.current,p,a,c),m}}var zs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Ww=zs.exports,Fh;function Zw(){return Fh||(Fh=1,(function(i,e){(function(r,a){a(e)})(Ww,(function(r){var a="1.9.4";function c(n){var s,d,g,x;for(d=1,g=arguments.length;d<g;d++){x=arguments[d];for(s in x)n[s]=x[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function m(n,s){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var g=d.call(arguments,2);return function(){return n.apply(s,g.length?g.concat(d.call(arguments)):arguments)}}var v=0;function w(n){return"_leaflet_id"in n||(n._leaflet_id=++v),n._leaflet_id}function y(n,s,d){var g,x,I,M;return M=function(){g=!1,x&&(I.apply(d,x),x=!1)},I=function(){g?x=arguments:(n.apply(d,arguments),setTimeout(M,s),g=!0)},I}function C(n,s,d){var g=s[1],x=s[0],I=g-x;return n===g&&d?n:((n-x)%I+I)%I+x}function E(){return!1}function k(n,s){if(s===!1)return n;var d=Math.pow(10,s===void 0?6:s);return Math.round(n*d)/d}function U(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function G(n){return U(n).split(/\s+/)}function b(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var d in s)n.options[d]=s[d];return n.options}function K(n,s,d){var g=[];for(var x in n)g.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(n[x]));return(!s||s.indexOf("?")===-1?"?":"&")+g.join("&")}var ne=/\{ *([\w_ -]+) *\}/g;function $(n,s){return n.replace(ne,function(d,g){var x=s[g];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(s)),x})}var Q=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function le(n,s){for(var d=0;d<n.length;d++)if(n[d]===s)return d;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function te(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var oe=0;function Re(n){var s=+new Date,d=Math.max(0,16-(s-oe));return oe=s+d,window.setTimeout(n,d)}var re=window.requestAnimationFrame||te("RequestAnimationFrame")||Re,Ae=window.cancelAnimationFrame||te("CancelAnimationFrame")||te("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ve(n,s,d){if(d&&re===Re)n.call(s);else return re.call(window,m(n,s))}function Ee(n){n&&Ae.call(window,n)}var We={__proto__:null,extend:c,create:p,bind:m,get lastId(){return v},stamp:w,throttle:y,wrapNum:C,falseFn:E,formatNum:k,trim:U,splitWords:G,setOptions:b,getParamString:K,template:$,isArray:Q,indexOf:le,emptyImageUrl:he,requestFn:re,cancelFn:Ae,requestAnimFrame:ve,cancelAnimFrame:Ee};function Ye(){}Ye.extend=function(n){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=s.__super__=this.prototype,g=p(d);g.constructor=s,s.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(s[x]=this[x]);return n.statics&&c(s,n.statics),n.includes&&(Ie(n.includes),c.apply(null,[g].concat(n.includes))),c(g,n),delete g.statics,delete g.includes,g.options&&(g.options=d.options?p(d.options):{},c(g.options,n.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,M=g._initHooks.length;I<M;I++)g._initHooks[I].call(this)}},s},Ye.include=function(n){var s=this.prototype.options;return c(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Ye.mergeOptions=function(n){return c(this.prototype.options,n),this},Ye.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ie(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=Q(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Te={on:function(n,s,d){if(typeof n=="object")for(var g in n)this._on(g,n[g],s);else{n=G(n);for(var x=0,I=n.length;x<I;x++)this._on(n[x],s,d)}return this},off:function(n,s,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var g in n)this._off(g,n[g],s);else{n=G(n);for(var x=arguments.length===1,I=0,M=n.length;I<M;I++)x?this._off(n[I]):this._off(n[I],s,d)}return this},_on:function(n,s,d,g){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,d)===!1){d===this&&(d=void 0);var x={fn:s,ctx:d};g&&(x.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(x)}},_off:function(n,s,d){var g,x,I;if(this._events&&(g=this._events[n],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,I=g.length;x<I;x++)g[x].fn=E;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var M=this._listens(n,s,d);if(M!==!1){var F=g[M];this._firingCount&&(F.fn=E,this._events[n]=g=g.slice()),g.splice(M,1)}}},fire:function(n,s,d){if(!this.listens(n,d))return this;var g=c({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var x=this._events[n];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,M=x.length;I<M;I++){var F=x[I],V=F.fn;F.once&&this.off(n,V,F.ctx),V.call(F.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(n,s,d,g){typeof n!="string"&&console.warn('"string" type argument expected');var x=s;typeof s!="function"&&(g=!!s,x=void 0,d=void 0);var I=this._events&&this._events[n];if(I&&I.length&&this._listens(n,x,d)!==!1)return!0;if(g){for(var M in this._eventParents)if(this._eventParents[M].listens(n,s,d,g))return!0}return!1},_listens:function(n,s,d){if(!this._events)return!1;var g=this._events[n]||[];if(!s)return!!g.length;d===this&&(d=void 0);for(var x=0,I=g.length;x<I;x++)if(g[x].fn===s&&g[x].ctx===d)return x;return!1},once:function(n,s,d){if(typeof n=="object")for(var g in n)this._on(g,n[g],s,!0);else{n=G(n);for(var x=0,I=n.length;x<I;x++)this._on(n[x],s,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[w(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[w(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,c({layer:n.target,propagatedFrom:n.target},n),!0)}};Te.addEventListener=Te.on,Te.removeEventListener=Te.clearAllEventListeners=Te.off,Te.addOneTimeEventListener=Te.once,Te.fireEvent=Te.fire,Te.hasEventListeners=Te.listens;var De=Ye.extend(Te);function O(n,s,d){this.x=d?Math.round(n):n,this.y=d?Math.round(s):s}var xe=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(n){return this.clone()._add(W(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(W(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new O(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new O(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xe(this.x),this.y=xe(this.y),this},distanceTo:function(n){n=W(n);var s=n.x-this.x,d=n.y-this.y;return Math.sqrt(s*s+d*d)},equals:function(n){return n=W(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=W(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function W(n,s,d){return n instanceof O?n:Q(n)?new O(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new O(n.x,n.y):new O(n,s,d)}function R(n,s){if(n)for(var d=s?[n,s]:n,g=0,x=d.length;g<x;g++)this.extend(d[g])}R.prototype={extend:function(n){var s,d;if(!n)return this;if(n instanceof O||typeof n[0]=="number"||"x"in n)s=d=W(n);else if(n=q(n),s=n.min,d=n.max,!s||!d)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=d.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,d;return typeof n[0]=="number"||n instanceof O?n=W(n):n=q(n),n instanceof R?(s=n.min,d=n.max):s=d=n,s.x>=this.min.x&&d.x<=this.max.x&&s.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=q(n);var s=this.min,d=this.max,g=n.min,x=n.max,I=x.x>=s.x&&g.x<=d.x,M=x.y>=s.y&&g.y<=d.y;return I&&M},overlaps:function(n){n=q(n);var s=this.min,d=this.max,g=n.min,x=n.max,I=x.x>s.x&&g.x<d.x,M=x.y>s.y&&g.y<d.y;return I&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,d=this.max,g=Math.abs(s.x-d.x)*n,x=Math.abs(s.y-d.y)*n;return q(W(s.x-g,s.y-x),W(d.x+g,d.y+x))},equals:function(n){return n?(n=q(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function q(n,s){return!n||n instanceof R?n:new R(n,s)}function ye(n,s){if(n)for(var d=s?[n,s]:n,g=0,x=d.length;g<x;g++)this.extend(d[g])}ye.prototype={extend:function(n){var s=this._southWest,d=this._northEast,g,x;if(n instanceof pe)g=n,x=n;else if(n instanceof ye){if(g=n._southWest,x=n._northEast,!g||!x)return this}else return n?this.extend(ae(n)||_e(n)):this;return!s&&!d?(this._southWest=new pe(g.lat,g.lng),this._northEast=new pe(x.lat,x.lng)):(s.lat=Math.min(g.lat,s.lat),s.lng=Math.min(g.lng,s.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(n){var s=this._southWest,d=this._northEast,g=Math.abs(s.lat-d.lat)*n,x=Math.abs(s.lng-d.lng)*n;return new ye(new pe(s.lat-g,s.lng-x),new pe(d.lat+g,d.lng+x))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof pe||"lat"in n?n=ae(n):n=_e(n);var s=this._southWest,d=this._northEast,g,x;return n instanceof ye?(g=n.getSouthWest(),x=n.getNorthEast()):g=x=n,g.lat>=s.lat&&x.lat<=d.lat&&g.lng>=s.lng&&x.lng<=d.lng},intersects:function(n){n=_e(n);var s=this._southWest,d=this._northEast,g=n.getSouthWest(),x=n.getNorthEast(),I=x.lat>=s.lat&&g.lat<=d.lat,M=x.lng>=s.lng&&g.lng<=d.lng;return I&&M},overlaps:function(n){n=_e(n);var s=this._southWest,d=this._northEast,g=n.getSouthWest(),x=n.getNorthEast(),I=x.lat>s.lat&&g.lat<d.lat,M=x.lng>s.lng&&g.lng<d.lng;return I&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=_e(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(n,s){return n instanceof ye?n:new ye(n,s)}function pe(n,s,d){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,d!==void 0&&(this.alt=+d)}pe.prototype={equals:function(n,s){if(!n)return!1;n=ae(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return Fe.distance(this,ae(n))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,d=s/Math.cos(Math.PI/180*this.lat);return _e([this.lat-s,this.lng-d],[this.lat+s,this.lng+d])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ae(n,s,d){return n instanceof pe?n:Q(n)&&typeof n[0]!="object"?n.length===3?new pe(n[0],n[1],n[2]):n.length===2?new pe(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new pe(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new pe(n,s,d)}var Ve={latLngToPoint:function(n,s){var d=this.projection.project(n),g=this.scale(s);return this.transformation._transform(d,g)},pointToLatLng:function(n,s){var d=this.scale(s),g=this.transformation.untransform(n,d);return this.projection.unproject(g)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,d=this.scale(n),g=this.transformation.transform(s.min,d),x=this.transformation.transform(s.max,d);return new R(g,x)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?C(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?C(n.lat,this.wrapLat,!0):n.lat,g=n.alt;return new pe(d,s,g)},wrapLatLngBounds:function(n){var s=n.getCenter(),d=this.wrapLatLng(s),g=s.lat-d.lat,x=s.lng-d.lng;if(g===0&&x===0)return n;var I=n.getSouthWest(),M=n.getNorthEast(),F=new pe(I.lat-g,I.lng-x),V=new pe(M.lat-g,M.lng-x);return new ye(F,V)}},Fe=c({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var d=Math.PI/180,g=n.lat*d,x=s.lat*d,I=Math.sin((s.lat-n.lat)*d/2),M=Math.sin((s.lng-n.lng)*d/2),F=I*I+Math.cos(g)*Math.cos(x)*M*M,V=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*V}}),$e=6378137,yt={R:$e,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,n.lat),-d),x=Math.sin(g*s);return new O(this.R*n.lng*s,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(n){var s=180/Math.PI;return new pe((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=$e*Math.PI;return new R([-n,-n],[n,n])})()};function hi(n,s,d,g){if(Q(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=d,this._d=g}hi.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new O((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function pi(n,s,d,g){return new hi(n,s,d,g)}var mi=c({},Fe,{code:"EPSG:3857",projection:yt,transformation:(function(){var n=.5/(Math.PI*yt.R);return pi(n,.5,-n,.5)})()}),Ur=c({},mi,{code:"EPSG:900913"});function Fr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Br(n,s){var d="",g,x,I,M,F,V;for(g=0,I=n.length;g<I;g++){for(F=n[g],x=0,M=F.length;x<M;x++)V=F[x],d+=(x?"L":"M")+V.x+" "+V.y;d+=s?me.svg?"z":"x":""}return d||"M0 0"}var to=document.documentElement.style,no="ActiveXObject"in window,zr=no&&!document.addEventListener,gi="msLaunchUri"in navigator&&!("documentMode"in document),An=xt("webkit"),Uo=xt("android"),Vr=xt("android 2")||xt("android 3"),qs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ws=Uo&&xt("Google")&&qs<537&&!("AudioNode"in window),Fo=!!window.opera,Bo=!gi&&xt("chrome"),io=xt("gecko")&&!An&&!Fo&&!no,Zs=!Bo&&xt("safari"),_i=xt("phantom"),vi="OTransition"in to,ka=navigator.platform.indexOf("Win")===0,Hr=no&&"transition"in to,zo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vr,Js="MozPerspective"in to,br=!window.L_DISABLE_3D&&(Hr||zo||Js)&&!vi&&!_i,Gn=typeof orientation<"u"||xt("mobile"),Gr=Gn&&An,Or=Gn&&zo,Vo=!window.PointerEvent&&window.MSPointerEvent,On=!!(window.PointerEvent||Vo),qn="ontouchstart"in window||!!window.TouchEvent,$s=!window.L_NO_TOUCH&&(qn||On),Ys=Gn&&Fo,Ks=Gn&&io,Qs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xs=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",E,s),window.removeEventListener("testPassiveEventSupport",E,s)}catch{}return n})(),qr=(function(){return!!document.createElement("canvas").getContext})(),Ho=!!(document.createElementNS&&Fr("svg").createSVGRect),oo=!!Ho&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wr=!Ho&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),ro=navigator.platform.indexOf("Mac")===0,Aa=navigator.platform.indexOf("Linux")===0;function xt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var me={ie:no,ielt9:zr,edge:gi,webkit:An,android:Uo,android23:Vr,androidStock:Ws,opera:Fo,chrome:Bo,gecko:io,safari:Zs,phantom:_i,opera12:vi,win:ka,ie3d:Hr,webkit3d:zo,gecko3d:Js,any3d:br,mobile:Gn,mobileWebkit:Gr,mobileWebkit3d:Or,msPointer:Vo,pointer:On,touch:$s,touchNative:qn,mobileOpera:Ys,mobileGecko:Ks,retina:Qs,passiveEvents:Xs,canvas:qr,svg:Ho,vml:Wr,inlineSvg:oo,mac:ro,linux:Aa},so=me.msPointer?"MSPointerDown":"pointerdown",bo=me.msPointer?"MSPointerMove":"pointermove",js=me.msPointer?"MSPointerUp":"pointerup",el=me.msPointer?"MSPointerCancel":"pointercancel",Zr={touchstart:so,touchmove:bo,touchend:js,touchcancel:el},Mn={touchstart:nt,touchmove:Go,touchend:Go,touchcancel:Go},Wn={},Jr=!1;function Ma(n,s,d){return s==="touchstart"&&La(),Mn[s]?(d=Mn[s].bind(this,d),n.addEventListener(Zr[s],d,!1),d):(console.warn("wrong event specified:",s),E)}function tl(n,s,d){if(!Zr[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Zr[s],d,!1)}function nl(n){Wn[n.pointerId]=n}function il(n){Wn[n.pointerId]&&(Wn[n.pointerId]=n)}function $r(n){delete Wn[n.pointerId]}function La(){Jr||(document.addEventListener(so,nl,!0),document.addEventListener(bo,il,!0),document.addEventListener(js,$r,!0),document.addEventListener(el,$r,!0),Jr=!0)}function Go(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var d in Wn)s.touches.push(Wn[d]);s.changedTouches=[s],n(s)}}function nt(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&it(s),Go(n,s)}function Na(n){var s={},d,g;for(g in n)d=n[g],s[g]=d&&d.bind?d.bind(n):d;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Yr=200;function ol(n,s){n.addEventListener("dblclick",s);var d=0,g;function x(I){if(I.detail!==1){g=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var M=$n(I);if(!(M.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!M.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var F=Date.now();F-d<=Yr?(g++,g===2&&s(Na(I))):g=1,d=F}}}return n.addEventListener("click",x),{dblclick:s,simDblclick:x}}function Oo(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Kr=xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yi=xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lo=yi==="webkitTransition"||yi==="OTransition"?yi+"End":"transitionend";function Wt(n){return typeof n=="string"?document.getElementById(n):n}function ao(n,s){var d=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(n,null);d=g?g[s]:null}return d==="auto"?null:d}function Le(n,s,d){var g=document.createElement(n);return g.className=s||"",d&&d.appendChild(g),g}function Xe(n){var s=n.parentNode;s&&s.removeChild(n)}function qo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function wi(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function _n(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Ti(n,s){if(n.classList!==void 0)return n.classList.contains(s);var d=Wo(n);return d.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(d)}function Me(n,s){if(n.classList!==void 0)for(var d=G(s),g=0,x=d.length;g<x;g++)n.classList.add(d[g]);else if(!Ti(n,s)){var I=Wo(n);Qr(n,(I?I+" ":"")+s)}}function Ke(n,s){n.classList!==void 0?n.classList.remove(s):Qr(n,U((" "+Wo(n)+" ").replace(" "+s+" "," ")))}function Qr(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Wo(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Ct(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&rl(n,s)}function rl(n,s){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(g)}catch{if(s===1)return}s=Math.round(s*100),d?(d.Enabled=s!==100,d.Opacity=s):n.style.filter+=" progid:"+g+"(opacity="+s+")"}function xi(n){for(var s=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in s)return n[d];return!1}function Zt(n,s,d){var g=s||new O(0,0);n.style[Kr]=(me.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function st(n,s){n._leaflet_pos=s,me.any3d?Zt(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function vn(n){return n._leaflet_pos||new O(0,0)}var He,Ci,Zo;if("onselectstart"in document)He=function(){Pe(window,"selectstart",it)},Ci=function(){Ze(window,"selectstart",it)};else{var Zn=xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);He=function(){if(Zn){var n=document.documentElement.style;Zo=n[Zn],n[Zn]="none"}},Ci=function(){Zn&&(document.documentElement.style[Zn]=Zo,Zo=void 0)}}function Jo(){Pe(window,"dragstart",it)}function $o(){Ze(window,"dragstart",it)}var uo,co;function Si(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Jt(),uo=n,co=n.style.outlineStyle,n.style.outlineStyle="none",Pe(window,"keydown",Jt))}function Jt(){uo&&(uo.style.outlineStyle=co,uo=void 0,co=void 0,Ze(window,"keydown",Jt))}function yn(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function on(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var fo={__proto__:null,TRANSFORM:Kr,TRANSITION:yi,TRANSITION_END:lo,get:Wt,getStyle:ao,create:Le,remove:Xe,empty:qo,toFront:wi,toBack:_n,hasClass:Ti,addClass:Me,removeClass:Ke,setClass:Qr,getClass:Wo,setOpacity:Ct,testProp:xi,setTransform:Zt,setPosition:st,getPosition:vn,get disableTextSelection(){return He},get enableTextSelection(){return Ci},disableImageDrag:Jo,enableImageDrag:$o,preventOutline:Si,restoreOutline:Jt,getSizedParentNode:yn,getScale:on};function Pe(n,s,d,g){if(s&&typeof s=="object")for(var x in s)jr(n,x,s[x],d);else{s=G(s);for(var I=0,M=s.length;I<M;I++)jr(n,s[I],d,g)}return this}var dt="_leaflet_events";function Ze(n,s,d,g){if(arguments.length===1)Xr(n),delete n[dt];else if(s&&typeof s=="object")for(var x in s)Yo(n,x,s[x],d);else if(s=G(s),arguments.length===2)Xr(n,function(F){return le(s,F)!==-1});else for(var I=0,M=s.length;I<M;I++)Yo(n,s[I],d,g);return this}function Xr(n,s){for(var d in n[dt]){var g=d.split(/\d/)[0];(!s||s(g))&&Yo(n,g,null,null,d)}}var Jn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jr(n,s,d,g){var x=s+w(d)+(g?"_"+w(g):"");if(n[dt]&&n[dt][x])return this;var I=function(F){return d.call(g||n,F||window.event)},M=I;!me.touchNative&&me.pointer&&s.indexOf("touch")===0?I=Ma(n,s,I):me.touch&&s==="dblclick"?I=ol(n,I):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Jn[s]||s,I,me.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(I=function(F){F=F||window.event,mo(n,F)&&M(F)},n.addEventListener(Jn[s],I,!1)):n.addEventListener(s,M,!1):n.attachEvent("on"+s,I),n[dt]=n[dt]||{},n[dt][x]=I}function Yo(n,s,d,g,x){x=x||s+w(d)+(g?"_"+w(g):"");var I=n[dt]&&n[dt][x];if(!I)return this;!me.touchNative&&me.pointer&&s.indexOf("touch")===0?tl(n,s,I):me.touch&&s==="dblclick"?Oo(n,I):"removeEventListener"in n?n.removeEventListener(Jn[s]||s,I,!1):n.detachEvent("on"+s,I),n[dt][x]=null}function rn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ko(n){return jr(n,"wheel",rn),this}function ho(n){return Pe(n,"mousedown touchstart dblclick contextmenu",rn),n._leaflet_disable_click=!0,this}function it(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function $t(n){return it(n),rn(n),this}function $n(n){if(n.composedPath)return n.composedPath();for(var s=[],d=n.target;d;)s.push(d),d=d.parentNode;return s}function po(n,s){if(!s)return new O(n.clientX,n.clientY);var d=on(s),g=d.boundingClientRect;return new O((n.clientX-g.left)/d.x-s.clientLeft,(n.clientY-g.top)/d.y-s.clientTop)}var Ra=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sl(n){return me.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Ra:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function mo(n,s){var d=s.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var Qo={__proto__:null,on:Pe,off:Ze,stopPropagation:rn,disableScrollPropagation:Ko,disableClickPropagation:ho,preventDefault:it,stop:$t,getPropagationPath:$n,getMousePosition:po,getWheelDelta:sl,isExternalTarget:mo,addListener:Pe,removeListener:Ze},Xo=De.extend({run:function(n,s,d,g){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=vn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,d=this._duration*1e3;s<d?this._runFrame(this._easeOut(s/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var d=this._startPos.add(this._offset.multiplyBy(n));s&&d._round(),st(this._el,d),this.fire("step")},_complete:function(){Ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ze=De.extend({options:{crs:mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ae(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yi&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,lo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,d){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ae(n),s,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=c({animate:d.animate},d.zoom),d.pan=c({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,d.zoom):this._tryAnimatedPan(n,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,d){var g=this.getZoomScale(s),x=this.getSize().divideBy(2),I=n instanceof O?n:this.latLngToContainerPoint(n),M=I.subtract(x).multiplyBy(1-1/g),F=this.containerPointToLatLng(x.add(M));return this.setView(F,s,{zoom:d})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():_e(n);var d=W(s.paddingTopLeft||s.padding||[0,0]),g=W(s.paddingBottomRight||s.padding||[0,0]),x=this.getBoundsZoom(n,!1,d.add(g));if(x=typeof s.maxZoom=="number"?Math.min(s.maxZoom,x):x,x===1/0)return{center:n.getCenter(),zoom:x};var I=g.subtract(d).divideBy(2),M=this.project(n.getSouthWest(),x),F=this.project(n.getNorthEast(),x),V=this.unproject(M.add(F).divideBy(2).add(I),x);return{center:V,zoom:x}},fitBounds:function(n,s){if(n=_e(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,s);return this.setView(d.center,d.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=W(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,d){if(d=d||{},d.animate===!1||!me.any3d)return this.setView(n,s,d);this._stop();var g=this.project(this.getCenter()),x=this.project(n),I=this.getSize(),M=this._zoom;n=ae(n),s=s===void 0?M:s;var F=Math.max(I.x,I.y),V=F*this.getZoomScale(M,s),Z=x.distanceTo(g)||1,ie=1.42,we=ie*ie;function Ne(qe){var Vi=qe?-1:1,Ja=qe?V:F,$a=V*V-F*F+Vi*we*we*Z*Z,ti=2*Ja*we*Z,ni=$a/ti,ii=Math.sqrt(ni*ni+1)-ni,fr=ii<1e-9?-18:Math.log(ii);return fr}function ft(qe){return(Math.exp(qe)-Math.exp(-qe))/2}function ut(qe){return(Math.exp(qe)+Math.exp(-qe))/2}function Rt(qe){return ft(qe)/ut(qe)}var Et=Ne(0);function Bi(qe){return F*(ut(Et)/ut(Et+ie*qe))}function ws(qe){return F*(ut(Et)*Rt(Et+ie*qe)-ft(Et))/we}function zn(qe){return 1-Math.pow(1-qe,1.5)}var Il=Date.now(),ei=(Ne(1)-Et)/ie,un=d.duration?1e3*d.duration:1e3*ei*.8;function zi(){var qe=(Date.now()-Il)/un,Vi=zn(qe)*ei;qe<=1?(this._flyToFrame=ve(zi,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(ws(Vi)/Z)),M),this.getScaleZoom(F/Bi(Vi),M),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),zi.call(this),this},flyToBounds:function(n,s){var d=this._getBoundsCenterZoom(n,s);return this.flyTo(d.center,d.zoom,s)},setMaxBounds:function(n){return n=_e(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,_e(n));return d.equals(g)||this.panTo(g,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var d=W(s.paddingTopLeft||s.padding||[0,0]),g=W(s.paddingBottomRight||s.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(n),M=this.getPixelBounds(),F=q([M.min.add(d),M.max.subtract(g)]),V=F.getSize();if(!F.contains(I)){this._enforcingBounds=!0;var Z=I.subtract(F.getCenter()),ie=F.extend(I).getSize().subtract(V);x.x+=Z.x<0?-ie.x:ie.x,x.y+=Z.y<0?-ie.y:ie.y,this.panTo(this.unproject(x),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=c({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=s.divideBy(2).round(),x=d.divideBy(2).round(),I=g.subtract(x);return!I.x&&!I.y?this:(n.animate&&n.pan?this.panBy(I):(n.pan&&this._rawPanBy(I),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=c({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,d,n):navigator.geolocation.getCurrentPosition(s,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,d=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,d=n.coords.longitude,g=new pe(s,d),x=g.toBounds(n.coords.accuracy*2),I=this._locateOptions;if(I.setView){var M=this.getBoundsZoom(x);this.setView(g,I.maxZoom?Math.min(M,I.maxZoom):M)}var F={latlng:g,bounds:x,timestamp:n.timestamp};for(var V in n.coords)typeof n.coords[V]=="number"&&(F[V]=n.coords[V]);this.fire("locationfound",F)}},addHandler:function(n,s){if(!s)return this;var d=this[n]=new s(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Xe(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),g=Le("div",d,s||this._mapPane);return n&&(this._panes[n]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new ye(s,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,d){n=_e(n),d=W(d||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),M=n.getNorthWest(),F=n.getSouthEast(),V=this.getSize().subtract(d),Z=q(this.project(F,g),this.project(M,g)).getSize(),ie=me.any3d?this.options.zoomSnap:1,we=V.x/Z.x,Ne=V.y/Z.y,ft=s?Math.max(we,Ne):Math.min(we,Ne);return g=this.getScaleZoom(ft,g),ie&&(g=Math.round(g/(ie/100))*(ie/100),g=s?Math.ceil(g/ie)*ie:Math.floor(g/ie)*ie),Math.max(x,Math.min(I,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var d=this._getTopLeftPoint(n,s);return new R(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var d=this.options.crs;return s=s===void 0?this._zoom:s,d.scale(n)/d.scale(s)},getScaleZoom:function(n,s){var d=this.options.crs;s=s===void 0?this._zoom:s;var g=d.zoom(n*d.scale(s));return isNaN(g)?1/0:g},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ae(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(W(n),s)},layerPointToLatLng:function(n){var s=W(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ae(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ae(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(_e(n))},distance:function(n,s){return this.options.crs.distance(ae(n),ae(s))},containerPointToLayerPoint:function(n){return W(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return W(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(W(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(n)))},mouseEventToContainerPoint:function(n){return po(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Wt(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(s,"scroll",this._onScroll,this),this._containerId=w(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Me(n,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ao(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(n.markerPane,"leaflet-zoom-hide"),Me(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,d){st(this._mapPane,new O(0,0));var g=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var x=this._zoom!==s;this._moveStart(x,d)._move(n,s)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,d,g){s===void 0&&(s=this._zoom);var x=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),g?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){st(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[w(this._container)]=this;var s=n?Ze:Pe;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ee(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var d=[],g,x=s==="mouseout"||s==="mouseover",I=n.target||n.srcElement,M=!1;I;){if(g=this._targets[w(I)],g&&(s==="click"||s==="preclick")&&this._draggableMoved(g)){M=!0;break}if(g&&g.listens(s,!0)&&(x&&!mo(I,n)||(d.push(g),x))||I===this._container)break;I=I.parentNode}return!d.length&&!M&&!x&&this.listens(s,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var d=n.type;d==="mousedown"&&Si(s),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,d){if(n.type==="click"){var g=c({},n);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var x=this._findEventTargets(n,s);if(d){for(var I=[],M=0;M<d.length;M++)d[M].listens(s,!0)&&I.push(d[M]);x=I.concat(x)}if(x.length){s==="contextmenu"&&it(n);var F=x[0],V={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var Z=F.getLatLng&&(!F._radius||F._radius<=10);V.containerPoint=Z?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(n),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=Z?F.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(M=0;M<x.length;M++)if(x[M].fire(s,V,!0),V.originalEvent._stopped||x[M].options.bubblingMouseEvents===!1&&le(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return vn(this._mapPane)||new O(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var d=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var d=this.getSize()._divideBy(2);return this.project(n,s)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,d){var g=this._getNewPixelOrigin(d,s);return this.project(n,s)._subtract(g)},_latLngBoundsToNewLayerBounds:function(n,s,d){var g=this._getNewPixelOrigin(d,s);return q([this.project(n.getSouthWest(),s)._subtract(g),this.project(n.getNorthWest(),s)._subtract(g),this.project(n.getSouthEast(),s)._subtract(g),this.project(n.getNorthEast(),s)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,d){if(!d)return n;var g=this.project(n,s),x=this.getSize().divideBy(2),I=new R(g.subtract(x),g.add(x)),M=this._getBoundsOffset(I,d,s);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?n:this.unproject(g.add(M),s)},_limitOffset:function(n,s){if(!s)return n;var d=this.getPixelBounds(),g=new R(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(g,s))},_getBoundsOffset:function(n,s,d){var g=q(this.project(s.getNorthEast(),d),this.project(s.getSouthWest(),d)),x=g.min.subtract(n.min),I=g.max.subtract(n.max),M=this._rebound(x.x,-I.x),F=this._rebound(x.y,-I.y);return new O(M,F)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),d=this.getMaxZoom(),g=me.any3d?this.options.zoomSnap:1;return g&&(n=Math.round(n/g)*g),Math.max(s,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var d=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,s),!0)},_createAnimProxy:function(){var n=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var d=Kr,g=this._proxy.style[d];Zt(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Zt(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(s),x=this._getCenterOffset(n)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(x)?!1:(ve(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ln(n,s){return new ze(n,s)}var Lt=Ye.extend({options:{position:"topright"},initialize:function(n){b(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),d=this.getPosition(),g=n._controlCorners[d];return Me(s,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(s,g.firstChild):g.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Nn=function(n){return new Lt(n)};ze.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",d=this._controlContainer=Le("div",s+"control-container",this._container);function g(x,I){var M=s+x+" "+s+I;n[x+I]=Le("div",M,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Xe(this._controlCorners[n]);Xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var es=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,d,g){return d<g?-1:g<d?1:0}},initialize:function(n,s,d){b(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in n)this._addLayer(n[g],g);for(g in s)this._addLayer(s[g],g,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Lt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(w(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Le("div",n),d=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ho(s),Ko(s);var g=this._section=Le("section",n+"-list");d&&(this._map.on("click",this.collapse,this),Pe(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Le("a",n+"-toggle",s);x.href="#",x.title="Layers",x.setAttribute("role","button"),Pe(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){it(I),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Le("div",n+"-base",g),this._separator=Le("div",n+"-separator",g),this._overlaysList=Le("div",n+"-overlays",g),s.appendChild(g)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&w(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qo(this._baseLayersList),qo(this._overlaysList),this._layerControlInputs=[];var n,s,d,g,x=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),s=s||g.overlay,n=n||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(n=n&&x>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(w(n.target)),d=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,s)},_createRadioElement:function(n,s){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(n){var s=document.createElement("label"),d=this._map.hasLayer(n.layer),g;n.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+w(this),d),this._layerControlInputs.push(g),g.layerId=w(n.layer),Pe(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+n.name;var I=document.createElement("span");s.appendChild(I),I.appendChild(g),I.appendChild(x);var M=n.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,d,g=[],x=[];this._handlingClick=!0;for(var I=n.length-1;I>=0;I--)s=n[I],d=this._getLayer(s.layerId).layer,s.checked?g.push(d):s.checked||x.push(d);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<g.length;I++)this._map.hasLayer(g[I])||this._map.addLayer(g[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,d,g=this._map.getZoom(),x=n.length-1;x>=0;x--)s=n[x],d=this._getLayer(s.layerId).layer,s.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Pe(n,"click",it),this.expand();var s=this;setTimeout(function(){Ze(n,"click",it),s._preventClick=!1})}}),jo=function(n,s,d){return new es(n,s,d)},Ei=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",d=Le("div",s+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,s+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,s+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,d,g,x){var I=Le("a",d,g);return I.innerHTML=n,I.href="#",I.title=s,I.setAttribute("role","button"),I.setAttribute("aria-label",s),ho(I),Pe(I,"click",$t),Pe(I,"click",x,this),Pe(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";Ke(this._zoomInButton,s),Ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Me(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Me(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ei,this.addControl(this.zoomControl))});var ll=function(n){return new Ei(n)},St=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",d=Le("div",s),g=this.options;return this._addScales(g,s+"-line",d),n.on(g.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,d){n.metric&&(this._mScale=Le("div",s,d)),n.imperial&&(this._iScale=Le("div",s,d))},_update:function(){var n=this._map,s=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),d=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,d,s/n)},_updateImperial:function(n){var s=n*3.2808399,d,g,x;s>5280?(d=s/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(x=this._getRoundNum(s),this._updateScale(this._iScale,x+" ft",x/s))},_updateScale:function(n,s,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),d=n/s;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,s*d}}),Pi=function(n){return new St(n)},ts='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yn=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?ts+" ":"")+"Leaflet</a>"},initialize:function(n){b(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),ho(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new Yn().addTo(this)});var Da=function(n){return new Yn(n)};Lt.Layers=es,Lt.Zoom=Ei,Lt.Scale=St,Lt.Attribution=Yn,Nn.layers=jo,Nn.zoom=ll,Nn.scale=Pi,Nn.attribution=Da;var Ft=Ye.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(n,s){return n.addHandler(s,this),this};var ns={Events:Te},Ii=me.touch?"touchstart mousedown":"mousedown",Yt=De.extend({options:{clickTolerance:3},initialize:function(n,s,d,g){b(this,g),this._element=n,this._dragStartTarget=s||n,this._preventOutline=d},enable:function(){this._enabled||(Pe(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yt._dragging===this&&this.finishDrag(!0),Ze(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ti(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Yt._dragging===this&&this.finishDrag();return}if(!(Yt._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Yt._dragging=this,this._preventOutline&&Si(this._element),Jo(),He(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,d=yn(this._element);this._startPoint=new O(s.clientX,s.clientY),this._startPos=vn(this._element),this._parentScale=on(d);var g=n.type==="mousedown";Pe(document,g?"mousemove":"touchmove",this._onMove,this),Pe(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,d=new O(s.clientX,s.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,it(n),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),st(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ke(document.body,"leaflet-dragging"),this._lastTarget&&(Ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ze(document,"mousemove touchmove",this._onMove,this),Ze(document,"mouseup touchend touchcancel",this._onUp,this),$o(),Ci();var s=this._moved&&this._moving;this._moving=!1,Yt._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function is(n,s,d){var g,x=[1,4,2,8],I,M,F,V,Z,ie,we,Ne;for(I=0,ie=n.length;I<ie;I++)n[I]._code=Kn(n[I],s);for(F=0;F<4;F++){for(we=x[F],g=[],I=0,ie=n.length,M=ie-1;I<ie;M=I++)V=n[I],Z=n[M],V._code&we?Z._code&we||(Ne=tr(Z,V,we,s,d),Ne._code=Kn(Ne,s),g.push(Ne)):(Z._code&we&&(Ne=tr(Z,V,we,s,d),Ne._code=Kn(Ne,s),g.push(Ne)),g.push(V));n=g}return n}function al(n,s){var d,g,x,I,M,F,V,Z,ie;if(!n||n.length===0)throw new Error("latlngs not passed");Bt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var we=ae([0,0]),Ne=_e(n),ft=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());ft<1700&&(we=os(n));var ut=n.length,Rt=[];for(d=0;d<ut;d++){var Et=ae(n[d]);Rt.push(s.project(ae([Et.lat-we.lat,Et.lng-we.lng])))}for(F=V=Z=0,d=0,g=ut-1;d<ut;g=d++)x=Rt[d],I=Rt[g],M=x.y*I.x-I.y*x.x,V+=(x.x+I.x)*M,Z+=(x.y+I.y)*M,F+=M*3;F===0?ie=Rt[0]:ie=[V/F,Z/F];var Bi=s.unproject(W(ie));return ae([Bi.lat+we.lat,Bi.lng+we.lng])}function os(n){for(var s=0,d=0,g=0,x=0;x<n.length;x++){var I=ae(n[x]);s+=I.lat,d+=I.lng,g++}return ae([s/g,d/g])}var Ua={__proto__:null,clipPolygon:is,polygonCenter:al,centroid:os};function er(n,s){if(!s||!n.length)return n.slice();var d=s*s;return n=za(n,d),n=Ba(n,d),n}function ul(n,s,d){return Math.sqrt(Qn(n,s,d,!0))}function Fa(n,s,d){return Qn(n,s,d)}function Ba(n,s){var d=n.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(d);x[0]=x[d-1]=1,rs(n,x,s,0,d-1);var I,M=[];for(I=0;I<d;I++)x[I]&&M.push(n[I]);return M}function rs(n,s,d,g,x){var I=0,M,F,V;for(F=g+1;F<=x-1;F++)V=Qn(n[F],n[g],n[x],!0),V>I&&(M=F,I=V);I>d&&(s[M]=1,rs(n,s,d,g,M),rs(n,s,d,M,x))}function za(n,s){for(var d=[n[0]],g=1,x=0,I=n.length;g<I;g++)Va(n[g],n[x])>s&&(d.push(n[g]),x=g);return x<I-1&&d.push(n[I-1]),d}var ss;function cl(n,s,d,g,x){var I=g?ss:Kn(n,d),M=Kn(s,d),F,V,Z;for(ss=M;;){if(!(I|M))return[n,s];if(I&M)return!1;F=I||M,V=tr(n,s,F,d,x),Z=Kn(V,d),F===I?(n=V,I=Z):(s=V,M=Z)}}function tr(n,s,d,g,x){var I=s.x-n.x,M=s.y-n.y,F=g.min,V=g.max,Z,ie;return d&8?(Z=n.x+I*(V.y-n.y)/M,ie=V.y):d&4?(Z=n.x+I*(F.y-n.y)/M,ie=F.y):d&2?(Z=V.x,ie=n.y+M*(V.x-n.x)/I):d&1&&(Z=F.x,ie=n.y+M*(F.x-n.x)/I),new O(Z,ie,x)}function Kn(n,s){var d=0;return n.x<s.min.x?d|=1:n.x>s.max.x&&(d|=2),n.y<s.min.y?d|=4:n.y>s.max.y&&(d|=8),d}function Va(n,s){var d=s.x-n.x,g=s.y-n.y;return d*d+g*g}function Qn(n,s,d,g){var x=s.x,I=s.y,M=d.x-x,F=d.y-I,V=M*M+F*F,Z;return V>0&&(Z=((n.x-x)*M+(n.y-I)*F)/V,Z>1?(x=d.x,I=d.y):Z>0&&(x+=M*Z,I+=F*Z)),M=n.x-x,F=n.y-I,g?M*M+F*F:new O(x,I)}function Bt(n){return!Q(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function dl(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(n)}function fl(n,s){var d,g,x,I,M,F,V,Z;if(!n||n.length===0)throw new Error("latlngs not passed");Bt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ie=ae([0,0]),we=_e(n),Ne=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());Ne<1700&&(ie=os(n));var ft=n.length,ut=[];for(d=0;d<ft;d++){var Rt=ae(n[d]);ut.push(s.project(ae([Rt.lat-ie.lat,Rt.lng-ie.lng])))}for(d=0,g=0;d<ft-1;d++)g+=ut[d].distanceTo(ut[d+1])/2;if(g===0)Z=ut[0];else for(d=0,I=0;d<ft-1;d++)if(M=ut[d],F=ut[d+1],x=M.distanceTo(F),I+=x,I>g){V=(I-g)/x,Z=[F.x-V*(F.x-M.x),F.y-V*(F.y-M.y)];break}var Et=s.unproject(W(Z));return ae([Et.lat+ie.lat,Et.lng+ie.lng])}var hl={__proto__:null,simplify:er,pointToSegmentDistance:ul,closestPointOnSegment:Fa,clipSegment:cl,_getEdgeIntersection:tr,_getBitCode:Kn,_sqClosestPointOnSegment:Qn,isFlat:Bt,_flat:dl,polylineCenter:fl},ls={project:function(n){return new O(n.lng,n.lat)},unproject:function(n){return new pe(n.y,n.x)},bounds:new R([-180,-90],[180,90])},as={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,d=this.R,g=n.lat*s,x=this.R_MINOR/d,I=Math.sqrt(1-x*x),M=I*Math.sin(g),F=Math.tan(Math.PI/4-g/2)/Math.pow((1-M)/(1+M),I/2);return g=-d*Math.log(Math.max(F,1e-10)),new O(n.lng*s*d,g)},unproject:function(n){for(var s=180/Math.PI,d=this.R,g=this.R_MINOR/d,x=Math.sqrt(1-g*g),I=Math.exp(-n.y/d),M=Math.PI/2-2*Math.atan(I),F=0,V=.1,Z;F<15&&Math.abs(V)>1e-7;F++)Z=x*Math.sin(M),Z=Math.pow((1-Z)/(1+Z),x/2),V=Math.PI/2-2*Math.atan(I*Z)-M,M+=V;return new pe(M*s,n.x*s/d)}},Ha={__proto__:null,LonLat:ls,Mercator:as,SphericalMercator:yt},ba=c({},Fe,{code:"EPSG:3395",projection:as,transformation:(function(){var n=.5/(Math.PI*as.R);return pi(n,.5,-n,.5)})()}),pl=c({},Fe,{code:"EPSG:4326",projection:ls,transformation:pi(1/180,1,-1/180,.5)}),Ga=c({},Ve,{projection:ls,transformation:pi(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var d=s.lng-n.lng,g=s.lat-n.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Ve.Earth=Fe,Ve.EPSG3395=ba,Ve.EPSG3857=mi,Ve.EPSG900913=Ur,Ve.EPSG4326=pl,Ve.Simple=Ga;var Kt=De.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[w(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[w(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var d=this.getEvents();s.on(d,this),this.once("remove",function(){s.off(d,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=w(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=w(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return w(n)in this._layers},eachLayer:function(n,s){for(var d in this._layers)n.call(s,this._layers[d]);return this},_addLayers:function(n){n=n?Q(n)?n:[n]:[];for(var s=0,d=n.length;s<d;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[w(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=w(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;n=x.minZoom===void 0?n:Math.min(n,x.minZoom),s=x.maxZoom===void 0?s:Math.max(s,x.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rn=Kt.extend({initialize:function(n,s){b(this,s),this._layers={};var d,g;if(n)for(d=0,g=n.length;d<g;d++)this.addLayer(n[d])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[n]&&g[n].apply(g,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var d in this._layers)n.call(s,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return w(n)}}),go=function(n,s){return new Rn(n,s)},wn=Rn.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Rn.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Rn.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new ye;for(var s in this._layers){var d=this._layers[s];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),ml=function(n,s){return new wn(n,s)},Xn=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){b(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(g,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(n,s){var d=this.options,g=d[s+"Size"];typeof g=="number"&&(g=[g,g]);var x=W(g),I=W(s==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(d.className||""),I&&(n.style.marginLeft=-I.x+"px",n.style.marginTop=-I.y+"px"),x&&(n.style.width=x.x+"px",n.style.height=x.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return me.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function gl(n){return new Xn(n)}var ki=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ki.imagePath!="string"&&(ki.imagePath=this._detectIconPath()),(this.options.imagePath||ki.imagePath)+Xn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(d,g,x){var I=g.exec(d);return I&&I[x]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Le("div","leaflet-default-icon-path",document.body),s=ao(n,"background-image")||ao(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),us=Ft.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Yt(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,d=s._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=vn(s._icon),M=d.getPixelBounds(),F=d.getPixelOrigin(),V=q(M.min._subtract(F).add(x),M.max._subtract(F).subtract(x));if(!V.contains(I)){var Z=W((Math.max(V.max.x,I.x)-V.max.x)/(M.max.x-V.max.x)-(Math.min(V.min.x,I.x)-V.min.x)/(M.min.x-V.min.x),(Math.max(V.max.y,I.y)-V.max.y)/(M.max.y-V.max.y)-(Math.min(V.min.y,I.y)-V.min.y)/(M.min.y-V.min.y)).multiplyBy(g);d.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),st(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ve(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Ee(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,d=s._shadow,g=vn(s._icon),x=s._map.layerPointToLatLng(g);d&&st(d,g),s._latlng=x,n.latlng=x,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Tn=Kt.extend({options:{icon:new ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){b(this,s),this._latlng=ae(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ae(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),Me(d,s),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(d,"focus",this._panOnFocus,this);var x=n.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&(Me(x,s),x.alt=""),this._shadow=x,n.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(this._icon,"focus",this._panOnFocus,this),Xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xe(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&st(this._icon,n),this._shadow&&st(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),us)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new us(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Ct(this._icon,n),this._shadow&&Ct(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,d=s.iconSize?W(s.iconSize):W(0,0),g=s.iconAnchor?W(s.iconAnchor):W(0,0);n.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Oa(n,s){return new Tn(n,s)}var Dn=Kt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return b(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nr=Dn.extend({options:{fill:!0,radius:10},initialize:function(n,s){b(this,s),this._latlng=ae(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ae(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Dn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,d=this._clickTolerance(),g=[n+d,s+d];this._pxBounds=new R(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _l(n,s){return new nr(n,s)}var ir=nr.extend({initialize:function(n,s,d){if(typeof s=="number"&&(s=c({},d,{radius:s})),b(this,s),this._latlng=ae(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Dn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===Fe.distance){var x=Math.PI/180,I=this._mRadius/Fe.R/x,M=d.project([s+I,n]),F=d.project([s-I,n]),V=M.add(F).divideBy(2),Z=d.unproject(V).lat,ie=Math.acos((Math.cos(I*x)-Math.sin(s*x)*Math.sin(Z*x))/(Math.cos(s*x)*Math.cos(Z*x)))/x;(isNaN(ie)||ie===0)&&(ie=I/Math.cos(Math.PI/180*s)),this._point=V.subtract(d.getPixelOrigin()),this._radius=isNaN(ie)?0:V.x-d.project([Z,n-ie]).x,this._radiusY=V.y-M.y}else{var we=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(we).x}this._updateBounds()}});function _o(n,s,d){return new ir(n,s,d)}var Nt=Dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){b(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,d=null,g=Qn,x,I,M=0,F=this._parts.length;M<F;M++)for(var V=this._parts[M],Z=1,ie=V.length;Z<ie;Z++){x=V[Z-1],I=V[Z];var we=g(n,x,I,!0);we<s&&(s=we,d=g(n,x,I))}return d&&(d.distance=Math.sqrt(s)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ae(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new ye,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],d=Bt(n),g=0,x=n.length;g<x;g++)d?(s[g]=ae(n[g]),this._bounds.extend(s[g])):s[g]=this._convertLatLngs(n[g]);return s},_project:function(){var n=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new O(n,n);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,d){var g=n[0]instanceof pe,x=n.length,I,M;if(g){for(M=[],I=0;I<x;I++)M[I]=this._map.latLngToLayerPoint(n[I]),d.extend(M[I]);s.push(M)}else for(I=0;I<x;I++)this._projectLatlngs(n[I],s,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,d,g,x,I,M,F,V;for(d=0,x=0,I=this._rings.length;d<I;d++)for(V=this._rings[d],g=0,M=V.length;g<M-1;g++)F=cl(V[g],V[g+1],n,g,!0),F&&(s[x]=s[x]||[],s[x].push(F[0]),(F[1]!==V[g+1]||g===M-2)&&(s[x].push(F[1]),x++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,d=0,g=n.length;d<g;d++)n[d]=er(n[d],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var d,g,x,I,M,F,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,I=this._parts.length;d<I;d++)for(F=this._parts[d],g=0,M=F.length,x=M-1;g<M;x=g++)if(!(!s&&g===0)&&ul(n,F[x],F[g])<=V)return!0;return!1}});function qa(n,s){return new Nt(n,s)}Nt._flat=dl;var xn=Nt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return al(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Nt.prototype._convertLatLngs.call(this,n),d=s.length;return d>=2&&s[0]instanceof pe&&s[0].equals(s[d-1])&&s.pop(),s},_setLatLngs:function(n){Nt.prototype._setLatLngs.call(this,n),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,d=new O(s,s);if(n=new R(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,I;g<x;g++)I=is(this._rings[g],n,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,d,g,x,I,M,F,V,Z;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(I=0,V=this._parts.length;I<V;I++)for(d=this._parts[I],M=0,Z=d.length,F=Z-1;M<Z;F=M++)g=d[M],x=d[F],g.y>n.y!=x.y>n.y&&n.x<(x.x-g.x)*(n.y-g.y)/(x.y-g.y)+g.x&&(s=!s);return s||Nt.prototype._containsPoint.call(this,n,!0)}});function Wa(n,s){return new xn(n,s)}var sn=wn.extend({initialize:function(n,s){b(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=Q(n)?n:n.features,d,g,x;if(s){for(d=0,g=s.length;d<g;d++)x=s[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(n))return this;var M=Ai(n,I);return M?(M.feature=ar(n),M.defaultOptions=M.options,this.resetStyle(M),I.onEachFeature&&I.onEachFeature(n,M),this.addLayer(M)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=c({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Ai(n,s){var d=n.type==="Feature"?n.geometry:n,g=d?d.coordinates:null,x=[],I=s&&s.pointToLayer,M=s&&s.coordsToLatLng||rr,F,V,Z,ie;if(!g&&!d)return null;switch(d.type){case"Point":return F=M(g),or(I,n,F,s);case"MultiPoint":for(Z=0,ie=g.length;Z<ie;Z++)F=M(g[Z]),x.push(or(I,n,F,s));return new wn(x);case"LineString":case"MultiLineString":return V=vo(g,d.type==="LineString"?0:1,M),new Nt(V,s);case"Polygon":case"MultiPolygon":return V=vo(g,d.type==="Polygon"?1:2,M),new xn(V,s);case"GeometryCollection":for(Z=0,ie=d.geometries.length;Z<ie;Z++){var we=Ai({geometry:d.geometries[Z],type:"Feature",properties:n.properties},s);we&&x.push(we)}return new wn(x);case"FeatureCollection":for(Z=0,ie=d.features.length;Z<ie;Z++){var Ne=Ai(d.features[Z],s);Ne&&x.push(Ne)}return new wn(x);default:throw new Error("Invalid GeoJSON object.")}}function or(n,s,d,g){return n?n(s,d):new Tn(d,g&&g.markersInheritOptions&&g)}function rr(n){return new pe(n[1],n[0],n[2])}function vo(n,s,d){for(var g=[],x=0,I=n.length,M;x<I;x++)M=s?vo(n[x],s-1,d):(d||rr)(n[x]),g.push(M);return g}function sr(n,s){return n=ae(n),n.alt!==void 0?[k(n.lng,s),k(n.lat,s),k(n.alt,s)]:[k(n.lng,s),k(n.lat,s)]}function lr(n,s,d,g){for(var x=[],I=0,M=n.length;I<M;I++)x.push(s?lr(n[I],Bt(n[I])?0:s-1,d,g):sr(n[I],g));return!s&&d&&x.length>0&&x.push(x[0].slice()),x}function Mi(n,s){return n.feature?c({},n.feature,{geometry:s}):ar(s)}function ar(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var cs={toGeoJSON:function(n){return Mi(this,{type:"Point",coordinates:sr(this.getLatLng(),n)})}};Tn.include(cs),ir.include(cs),nr.include(cs),Nt.include({toGeoJSON:function(n){var s=!Bt(this._latlngs),d=lr(this._latlngs,s?1:0,!1,n);return Mi(this,{type:(s?"Multi":"")+"LineString",coordinates:d})}}),xn.include({toGeoJSON:function(n){var s=!Bt(this._latlngs),d=s&&!Bt(this._latlngs[0]),g=lr(this._latlngs,d?2:s?1:0,!0,n);return s||(g=[g]),Mi(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Rn.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(d){s.push(d.toGeoJSON(n).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var d=s==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(n);if(d)g.push(I.geometry);else{var M=ar(I);M.type==="FeatureCollection"?g.push.apply(g,M.features):g.push(M)}}}),d?Mi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function vl(n,s){return new sn(n,s)}var Qt=vl,Un=Kt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,d){this._url=n,this._bounds=_e(s),b(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&_n(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=_e(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Le("img");if(Me(s,"leaflet-image-layer"),this._zoomAnimated&&Me(s,"leaflet-zoom-animated"),this.options.className&&Me(s,this.options.className),s.onselectstart=E,s.onmousemove=E,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Zt(this._image,d,s)},_reset:function(){var n=this._image,s=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=s.getSize();st(n,s.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),yl=function(n,s,d){return new Un(n,s,d)},ds=Un.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Le("video");if(Me(s,"leaflet-image-layer"),this._zoomAnimated&&Me(s,"leaflet-zoom-animated"),this.options.className&&Me(s,this.options.className),s.onselectstart=E,s.onmousemove=E,s.onloadeddata=m(this.fire,this,"load"),n){for(var d=s.getElementsByTagName("source"),g=[],x=0;x<d.length;x++)g.push(d[x].src);this._url=d.length>0?g:[s.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var M=Le("source");M.src=this._url[I],s.appendChild(M)}}});function wl(n,s,d){return new ds(n,s,d)}var fs=Un.extend({_initImage:function(){var n=this._image=this._url;Me(n,"leaflet-image-layer"),this._zoomAnimated&&Me(n,"leaflet-zoom-animated"),this.options.className&&Me(n,this.options.className),n.onselectstart=E,n.onmousemove=E}});function hs(n,s,d){return new fs(n,s,d)}var ln=Kt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof pe||Q(n))?(this._latlng=ae(n),b(this,s)):(b(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(m(Xe,void 0,this._container),200)):Xe(this._container),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ae(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&_n(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof wn){s=null;var d=this._source._layers;for(var g in d)if(d[g]._map){s=d[g];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=W(this.options.offset),d=this._getAnchor();this._zoomAnimated?st(this._container,n.add(d)):s=s.add(n).add(d);var g=this._containerBottom=-s.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(n,s,d,g){var x=s;return x instanceof n||(x=new n(g).setContent(s)),d&&x.setLatLng(d),x}}),Kt.include({_initOverlay:function(n,s,d,g){var x=d;return x instanceof n?(b(x,g),x._source=this):(x=s&&!g?s:new n(g,this),x.setContent(d)),x}});var ur=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ln.prototype.openOn.call(this,n)},onAdd:function(n){ln.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dn||this._source.on("preclick",rn))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dn||this._source.off("preclick",rn))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Le("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Le("div",n+"-content-wrapper",s);if(this._contentNode=Le("div",n+"-content",d),ho(s),Ko(this._contentNode),Pe(s,"contextmenu",rn),this._tipContainer=Le("div",n+"-tip-container",s),this._tip=Le("div",n+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Le("a",n+"-close-button",s);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(g,"click",function(x){it(x),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),s.width=d+1+"px",s.whiteSpace="",s.height="";var g=n.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&g>x?(s.height=x+"px",Me(n,I)):Ke(n,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();st(this._container,s.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(ao(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+s,g=this._containerWidth,x=new O(this._containerLeft,-d-this._containerBottom);x._add(vn(this._container));var I=n.layerPointToContainerPoint(x),M=W(this.options.autoPanPadding),F=W(this.options.autoPanPaddingTopLeft||M),V=W(this.options.autoPanPaddingBottomRight||M),Z=n.getSize(),ie=0,we=0;I.x+g+V.x>Z.x&&(ie=I.x+g-Z.x+V.x),I.x-ie-F.x<0&&(ie=I.x-F.x),I.y+d+V.y>Z.y&&(we=I.y+d-Z.y+V.y),I.y-we-F.y<0&&(we=I.y-F.y),(ie||we)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ie,we]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(n,s){return new ur(n,s)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(n,s,d){return this._initOverlay(ur,n,s,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Kt.include({bindPopup:function(n,s){return this._popup=this._initOverlay(ur,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){$t(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ni=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ln.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+w(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,d,g=this._map,x=this._container,I=g.latLngToContainerPoint(g.getCenter()),M=g.layerPointToContainerPoint(n),F=this.options.direction,V=x.offsetWidth,Z=x.offsetHeight,ie=W(this.options.offset),we=this._getAnchor();F==="top"?(s=V/2,d=Z):F==="bottom"?(s=V/2,d=0):F==="center"?(s=V/2,d=Z/2):F==="right"?(s=0,d=Z/2):F==="left"?(s=V,d=Z/2):M.x<I.x?(F="right",s=0,d=Z/2):(F="left",s=V+(ie.x+we.x)*2,d=Z/2),n=n.subtract(W(s,d,!0)).add(ie).add(we),Ke(x,"leaflet-tooltip-right"),Ke(x,"leaflet-tooltip-left"),Ke(x,"leaflet-tooltip-top"),Ke(x,"leaflet-tooltip-bottom"),Me(x,"leaflet-tooltip-"+F),st(x,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Ct(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yo=function(n,s){return new Ni(n,s)};ze.include({openTooltip:function(n,s,d){return this._initOverlay(Ni,n,s,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Kt.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ni,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[s](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(Pe(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Pe(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,d,g;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),g=this._map.containerPointToLayerPoint(d),s=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(s)}});var cr=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(qo(s),s.appendChild(d.html)):s.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=W(d.bgPos);s.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Tl(n){return new cr(n)}Xn.Default=ki;var Fn=Kt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){b(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Xe(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof O?n:new O(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,d=-n(-1/0,1/0),g=0,x=s.length,I;g<x;g++)I=s[g].style.zIndex,s[g]!==this._container&&I&&(d=n(d,+I));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){Ct(this._container,this.options.opacity);var n=+new Date,s=!1,d=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var I=Math.min(1,(n-x.loaded)/200);Ct(x.el,I),I<1?s=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),s&&(Ee(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=s-Math.abs(n-d),this._onUpdateLevel(d)):(Xe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[n],x=this._map;return g||(g=this._levels[n]={},g.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=s,g.origin=x.project(x.unproject(x.getPixelOrigin()),n).round(),g.zoom=n,this._setZoomTransform(g,x.getCenter(),x.getZoom()),E(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var n,s,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var g=s.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Xe(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,d,g){var x=Math.floor(n/2),I=Math.floor(s/2),M=d-1,F=new O(+x,+I);F.z=+M;var V=this._tileCoordsToKey(F),Z=this._tiles[V];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),M>g?this._retainParent(x,I,M,g):!1)},_retainChildren:function(n,s,d,g){for(var x=2*n;x<2*n+2;x++)for(var I=2*s;I<2*s+2;I++){var M=new O(x,I);M.z=d+1;var F=this._tileCoordsToKey(M),V=this._tiles[F];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);d+1<g&&this._retainChildren(x,I,d+1,g)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,d,g){var x=Math.round(s);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,s)},_setZoomTransform:function(n,s,d){var g=this._map.getZoomScale(d,n.zoom),x=n.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(s,d)).round();me.any3d?Zt(n.el,x,g):st(n.el,x)},_resetGrid:function(){var n=this._map,s=n.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],g).x/d.x),Math.ceil(n.project([0,s.wrapLng[1]],g).x/d.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],g).y/d.x),Math.ceil(n.project([s.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,d=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),g=s.getZoomScale(d,this._tileZoom),x=s.project(n,this._tileZoom).floor(),I=s.getSize().divideBy(g*2);return new R(x.subtract(I),x.add(I))},_update:function(n){var s=this._map;if(s){var d=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(n),x=this._pxBoundsToTileRange(g),I=x.getCenter(),M=[],F=this.options.keepBuffer,V=new R(x.getBottomLeft().subtract([F,-F]),x.getTopRight().add([F,-F]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var ie=this._tiles[Z].coords;(ie.z!==this._tileZoom||!V.contains(new O(ie.x,ie.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var we=x.min.y;we<=x.max.y;we++)for(var Ne=x.min.x;Ne<=x.max.x;Ne++){var ft=new O(Ne,we);if(ft.z=this._tileZoom,!!this._isValidTile(ft)){var ut=this._tiles[this._tileCoordsToKey(ft)];ut?ut.current=!0:M.push(ft)}}if(M.sort(function(Et,Bi){return Et.distanceTo(I)-Bi.distanceTo(I)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rt=document.createDocumentFragment();for(Ne=0;Ne<M.length;Ne++)this._addTile(M[Ne],Rt);this._level.el.appendChild(Rt)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var d=this._globalTileRange;if(!s.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!s.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(n);return _e(this.options.bounds).overlaps(g)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,d=this.getTileSize(),g=n.scaleBy(d),x=g.add(d),I=s.unproject(g,n.z),M=s.unproject(x,n.z);return[I,M]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),d=new ye(s[0],s[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),d=new O(+s[0],+s[1]);return d.z=+s[2],d},_removeTile:function(n){var s=this._tiles[n];s&&(Xe(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Me(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=E,n.onmousemove=E,me.ielt9&&this.options.opacity<1&&Ct(n,this.options.opacity)},_addTile:function(n,s){var d=this._getTilePos(n),g=this._tileCoordsToKey(n),x=this.createTile(this._wrapCoords(n),m(this._tileReady,this,n));this._initTile(x),this.createTile.length<2&&ve(m(this._tileReady,this,n,null,x)),st(x,d),this._tiles[g]={el:x,coords:n,current:!0},s.appendChild(x),this.fire("tileloadstart",{tile:x,coords:n})},_tileReady:function(n,s,d){s&&this.fire("tileerror",{error:s,tile:d,coords:n});var g=this._tileCoordsToKey(n);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ct(d.el,0),Ee(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),s||(Me(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new O(this._wrapX?C(n.x,this._wrapX):n.x,this._wrapY?C(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new R(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ri(n){return new Fn(n)}var Bn=Fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=b(this,s),s.detectRetina&&me.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var d=document.createElement("img");return Pe(d,"load",m(this._tileOnLoad,this,s,d)),Pe(d,"error",m(this._tileOnError,this,s,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var s={r:me.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=d),s["-y"]=d}return $(this._url,c(s,this.options))},_tileOnLoad:function(n,s){me.ielt9?setTimeout(m(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,d){var g=this.options.errorTileUrl;g&&s.getAttribute("src")!==g&&(s.src=g),n(d,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(n=s-n),n+g},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=E,s.onerror=E,!s.complete)){s.src=he;var d=this._tiles[n].coords;Xe(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:d})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",he),Fn.prototype._removeTile.call(this,n)},_tileReady:function(n,s,d){if(!(!this._map||d&&d.getAttribute("src")===he))return Fn.prototype._tileReady.call(this,n,s,d)}});function ps(n,s){return new Bn(n,s)}var wo=Bn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var d=c({},this.defaultWmsParams);for(var g in s)g in this.options||(d[g]=s[g]);s=b(this,s);var x=s.detectRetina&&me.retina?2:1,I=this.getTileSize();d.width=I.x*x,d.height=I.y*x,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Bn.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),d=this._crs,g=q(d.project(s[0]),d.project(s[1])),x=g.min,I=g.max,M=(this._wmsVersion>=1.3&&this._crs===pl?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),F=Bn.prototype.getTileUrl.call(this,n);return F+K(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(n,s){return c(this.wmsParams,n),s||this.redraw(),this}});function xl(n,s){return new wo(n,s)}Bn.WMS=wo,ps.wms=xl;var an=Kt.extend({options:{padding:.1},initialize:function(n){b(this,n),w(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var d=this._map.getZoomScale(s,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,s),I=g.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(n,s));me.any3d?Zt(this._container,I,d):st(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),d=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new R(d,d.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ms=an.extend({options:{tolerance:0},getEvents:function(){var n=an.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Pe(n,"mousemove",this._onMouseMove,this),Pe(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Ee(this._redrawRequest),delete this._ctx,Xe(this._container),Ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,s=this._container,d=n.getSize(),g=me.retina?2:1;st(s,n.min),s.width=g*d.x,s.height=g*d.y,s.style.width=d.x+"px",s.style.height=d.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[w(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,d=s.next,g=s.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete n._order,delete this._layers[w(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),d=[],g,x;for(x=0;x<s.length;x++){if(g=Number(s[x]),isNaN(g))return;d.push(g)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var d=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)n=g.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var d,g,x,I,M=n._parts,F=M.length,V=this._ctx;if(F){for(V.beginPath(),d=0;d<F;d++){for(g=0,x=M[d].length;g<x;g++)I=M[d][g],V[g?"lineTo":"moveTo"](I.x,I.y);s&&V.closePath()}this._fillStroke(V,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,d=this._ctx,g=Math.max(Math.round(n._radius),1),x=(Math.max(Math.round(n._radiusY),1)||g)/g;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(s.x,s.y/x,g,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,s){var d=s.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(s)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(n),g&&(Me(this._container,"leaflet-interactive"),this._fireEvent([g],n,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,d){this._map._fireDOMEvent(s,d||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var d=s.next,g=s.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var d=s.next,g=s.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function gs(n){return me.canvas?new ms(n):null}var Di=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Cl={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Di("shape");Me(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Di("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[w(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Xe(s),n.removeInteractiveTarget(s),delete this._layers[w(n)]},_updateStyle:function(n){var s=n._stroke,d=n._fill,g=n.options,x=n._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(s||(s=n._stroke=Di("stroke")),x.appendChild(s),s.weight=g.weight+"px",s.color=g.color,s.opacity=g.opacity,g.dashArray?s.dashStyle=Q(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=g.lineCap.replace("butt","flat"),s.joinstyle=g.lineJoin):s&&(x.removeChild(s),n._stroke=null),g.fill?(d||(d=n._fill=Di("fill")),x.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(x.removeChild(d),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),d=Math.round(n._radius),g=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){wi(n._container)},_bringToBack:function(n){_n(n._container)}},Xt=me.vml?Di:Fr,jn=an.extend({_initContainer:function(){this._container=Xt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xe(this._container),Ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,s=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,d.setAttribute("width",s.x),d.setAttribute("height",s.y)),st(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Xt("path");n.options.className&&Me(s,n.options.className),n.options.interactive&&Me(s,"leaflet-interactive"),this._updateStyle(n),this._layers[w(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Xe(n._path),n.removeInteractiveTarget(n._path),delete this._layers[w(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,d=n.options;s&&(d.stroke?(s.setAttribute("stroke",d.color),s.setAttribute("stroke-opacity",d.opacity),s.setAttribute("stroke-width",d.weight),s.setAttribute("stroke-linecap",d.lineCap),s.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?s.setAttribute("stroke-dasharray",d.dashArray):s.removeAttribute("stroke-dasharray"),d.dashOffset?s.setAttribute("stroke-dashoffset",d.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),d.fill?(s.setAttribute("fill",d.fillColor||d.color),s.setAttribute("fill-opacity",d.fillOpacity),s.setAttribute("fill-rule",d.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Br(n._parts,s))},_updateCircle:function(n){var s=n._point,d=Math.max(Math.round(n._radius),1),g=Math.max(Math.round(n._radiusY),1)||d,x="a"+d+","+g+" 0 1,0 ",I=n._empty()?"M0 0":"M"+(s.x-d)+","+s.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(n,I)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){wi(n._path)},_bringToBack:function(n){_n(n._path)}});me.vml&&jn.include(Cl);function dr(n){return me.svg||me.vml?new jn(n):null}ze.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&gs(n)||dr(n)}});var Sl=xn.extend({initialize:function(n,s){xn.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=_e(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Za(n,s){return new Sl(n,s)}jn.create=Xt,jn.pointsToPath=Br,sn.geometryToLayer=Ai,sn.coordsToLatLng=rr,sn.coordsToLatLngs=vo,sn.latLngToCoords=sr,sn.latLngsToCoords=lr,sn.getFeature=Mi,sn.asFeature=ar,ze.mergeOptions({boxZoom:!0});var Ui=Ft.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),He(),Jo(),this._startPoint=this._map.mouseEventToContainerPoint(n),Pe(document,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new R(this._point,this._startPoint),d=s.getSize();st(this._box,s.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xe(this._box),Ke(this._container,"leaflet-crosshair")),Ci(),$o(),Ze(document,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",Ui),ze.mergeOptions({doubleClickZoom:!0});var El=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,d=s.getZoom(),g=s.options.zoomDelta,x=n.originalEvent.shiftKey?d-g:d+g;s.options.doubleClickZoom==="center"?s.setZoom(x):s.setZoomAround(n.containerPoint,x)}});ze.addInitHook("addHandler","doubleClickZoom",El),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _s=Ft.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Yt(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ke(this._map._container,"leaflet-grab"),Ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=_e(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-s+d)%n+s-d,I=(g+s+d)%n-s-d,M=Math.abs(x+d)<Math.abs(I+d)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(n){var s=this._map,d=s.options,g=!d.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),g)s.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,M=d.easeLinearity,F=x.multiplyBy(M/I),V=F.distanceTo([0,0]),Z=Math.min(d.inertiaMaxSpeed,V),ie=F.multiplyBy(Z/V),we=Z/(d.inertiaDeceleration*M),Ne=ie.multiplyBy(-we/2).round();!Ne.x&&!Ne.y?s.fire("moveend"):(Ne=s._limitOffset(Ne,s.options.maxBounds),ve(function(){s.panBy(Ne,{duration:we,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",_s),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vs=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Pe(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,d=n.scrollTop||s.scrollTop,g=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},d=this.keyCodes,g,x;for(g=0,x=d.left.length;g<x;g++)s[d.left[g]]=[-1*n,0];for(g=0,x=d.right.length;g<x;g++)s[d.right[g]]=[n,0];for(g=0,x=d.down.length;g<x;g++)s[d.down[g]]=[0,n];for(g=0,x=d.up.length;g<x;g++)s[d.up[g]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},d=this.keyCodes,g,x;for(g=0,x=d.zoomIn.length;g<x;g++)s[d.zoomIn[g]]=n;for(g=0,x=d.zoomOut.length;g<x;g++)s[d.zoomOut[g]]=-n},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,d=this._map,g;if(s in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[s],n.shiftKey&&(g=W(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(W(g),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(x)}else d.panBy(g)}else if(s in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;$t(n)}}});ze.addInitHook("addHandler","keyboard",vs),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Je=Ft.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=sl(n),d=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),g),$t(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,I=d?Math.ceil(x/d)*d:x,M=n._limitZoom(s+(this._delta>0?I:-I))-s;this._delta=0,this._startTime=null,M&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+M):n.setZoomAround(this._lastMousePos,s+M))}});ze.addInitHook("addHandler","scrollWheelZoom",Je);var ys=600;ze.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var To=Ft.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new O(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",it),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ys),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ze(document,"touchend",it),Ze(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new O(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});d._simulated=!0,s.target.dispatchEvent(d)}});ze.addInitHook("addHandler","tapHold",To),ze.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var Fi=Ft.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var d=s.mouseEventToContainerPoint(n.touches[0]),g=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),it(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,d=s.mouseEventToContainerPoint(n.touches[0]),g=s.mouseEventToContainerPoint(n.touches[1]),x=d.distanceTo(g)/this._startDist;if(this._zoom=s.getScaleZoom(x,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&x<1||this._zoom>s.getMaxZoom()&&x>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ee(this._animRequest);var M=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(M,this,!0),it(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ee(this._animRequest),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",Fi),ze.BoxZoom=Ui,ze.DoubleClickZoom=El,ze.Drag=_s,ze.Keyboard=vs,ze.ScrollWheelZoom=Je,ze.TapHold=To,ze.TouchZoom=Fi,r.Bounds=R,r.Browser=me,r.CRS=Ve,r.Canvas=ms,r.Circle=ir,r.CircleMarker=nr,r.Class=Ye,r.Control=Lt,r.DivIcon=cr,r.DivOverlay=ln,r.DomEvent=Qo,r.DomUtil=fo,r.Draggable=Yt,r.Evented=De,r.FeatureGroup=wn,r.GeoJSON=sn,r.GridLayer=Fn,r.Handler=Ft,r.Icon=Xn,r.ImageOverlay=Un,r.LatLng=pe,r.LatLngBounds=ye,r.Layer=Kt,r.LayerGroup=Rn,r.LineUtil=hl,r.Map=ze,r.Marker=Tn,r.Mixin=ns,r.Path=Dn,r.Point=O,r.PolyUtil=Ua,r.Polygon=xn,r.Polyline=Nt,r.Popup=ur,r.PosAnimation=Xo,r.Projection=Ha,r.Rectangle=Sl,r.Renderer=an,r.SVG=jn,r.SVGOverlay=fs,r.TileLayer=Bn,r.Tooltip=Ni,r.Transformation=hi,r.Util=We,r.VideoOverlay=ds,r.bind=m,r.bounds=q,r.canvas=gs,r.circle=_o,r.circleMarker=_l,r.control=Nn,r.divIcon=Tl,r.extend=c,r.featureGroup=ml,r.geoJSON=vl,r.geoJson=Qt,r.gridLayer=Ri,r.icon=gl,r.imageOverlay=yl,r.latLng=ae,r.latLngBounds=_e,r.layerGroup=go,r.map=Ln,r.marker=Oa,r.point=W,r.polygon=Wa,r.polyline=qa,r.popup=Li,r.rectangle=Za,r.setOptions=b,r.stamp=w,r.svg=dr,r.svgOverlay=hs,r.tileLayer=ps,r.tooltip=yo,r.transformation=pi,r.version=a,r.videoOverlay=wl;var Pl=window.L;r.noConflict=function(){return window.L=Pl,this},window.L=r}))})(zs,zs.exports)),zs.exports}var Os=Zw();const Jw=gc(Os);function kc(i,e,r){return Object.freeze({instance:i,context:e,container:r})}function Ac(i,e){return e==null?function(a,c){const p=j.useRef();return p.current||(p.current=i(a,c)),p}:function(a,c){const p=j.useRef();p.current||(p.current=i(a,c));const m=j.useRef(a),{instance:v}=p.current;return j.useEffect(function(){m.current!==a&&(e(v,a,m.current),m.current=a)},[v,a,c]),p}}function $w(i,e){j.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){var p;(p=e.layerContainer)==null||p.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function Tp(i){return function(r){const a=Pc(),c=i(Ic(r,a),a);return _p(a.map,r.attribution),wp(c.current,r.eventHandlers),$w(c.current,a),c}}function Yw(i,e){const r=Ac(i,e),a=Tp(r);return bw(a)}function Kw(i,e){const r=Ac(i),a=qw(r,e);return Gw(a)}function Qw(i,e){const r=Ac(i,e),a=Tp(r);return Ow(a)}function Xw(i,e,r){const{opacity:a,zIndex:c}=e;a!=null&&a!==r.opacity&&i.setOpacity(a),c!=null&&c!==r.zIndex&&i.setZIndex(c)}function jw(){return Pc().map}function mc(){return mc=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},mc.apply(this,arguments)}function eT({bounds:i,boundsOptions:e,center:r,children:a,className:c,id:p,placeholder:m,style:v,whenReady:w,zoom:y,...C},E){const[k]=j.useState({className:c,id:p,style:v}),[U,G]=j.useState(null);j.useImperativeHandle(E,()=>(U==null?void 0:U.map)??null,[U]);const b=j.useCallback(ne=>{if(ne!==null&&U===null){const $=new Os.Map(ne,C);r!=null&&y!=null?$.setView(r,y):i!=null&&$.fitBounds(i,e),w!=null&&$.whenReady(w),G(Vw($))}},[]);j.useEffect(()=>()=>{U==null||U.map.remove()},[U]);const K=U?va.createElement(yp,{value:U},a):m??null;return va.createElement("div",mc({},k,{ref:b}),K)}const tT=j.forwardRef(eT),Bh=Yw(function({position:e,...r},a){const c=new Os.Marker(e,r);return kc(c,Hw(a,{overlayContainer:c}))},function(e,r,a){r.position!==a.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),zh=Kw(function(e,r){const a=new Os.Popup(e,r.overlayContainer);return kc(a,r)},function(e,r,{position:a},c){j.useEffect(function(){const{instance:m}=e;function v(y){y.popup===m&&(m.update(),c(!0))}function w(y){y.popup===m&&c(!1)}return r.map.on({popupopen:v,popupclose:w}),r.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(r.map)):r.overlayContainer.bindPopup(m),function(){var C;r.map.off({popupopen:v,popupclose:w}),(C=r.overlayContainer)==null||C.unbindPopup(),r.map.removeLayer(m)}},[e,r,c,a])}),nT=Qw(function({url:e,...r},a){const c=new Os.TileLayer(e,Ic(r,a));return kc(c,a)},function(e,r,a){Xw(e,r,a);const{url:c}=r;c!=null&&c!==a.url&&e.setUrl(c)}),Bs=({children:i,className:e,onClick:r,"aria-label":a})=>P.jsx("button",{onClick:r,"aria-label":a,className:`bg-gray-800/80 backdrop-blur-sm text-white p-3 rounded-full shadow-lg border border-gray-700 hover:bg-gray-700 transition ${e}`,children:i}),iT=({center:i,zoom:e})=>(jw().flyTo(i,e),null),oT=Jw.divIcon({html:`<div class="relative flex items-center justify-center w-6 h-6">
           <div class="absolute w-6 h-6 rounded-full bg-blue-500/50 animate-ping"></div>
           <div class="relative w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"></div>
         </div>`,className:"bg-transparent border-none",iconSize:[24,24],iconAnchor:[12,12]}),Vh=({onMenuClick:i,onNavigate:e})=>{const[r,a]=j.useState(!1),[c,p]=j.useState("Mapnik"),[m,v]=j.useState(!1),{t:w}=qt(),y=j.useRef(null),C=j.useRef(null),E=[6.5244,3.3792],[k,U]=j.useState(E),[G,b]=j.useState(null),[K,ne]=j.useState(null),[$,Q]=j.useState(""),[le,he]=j.useState([]),[te,oe]=j.useState(!1),[Re,re]=j.useState(!1),Ae={Mapnik:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",CycleMap:"https://{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=YOUR_API_KEY",TransportMap:"https://{s}.tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey=YOUR_API_KEY"};j.useEffect(()=>{navigator.geolocation.getCurrentPosition(Ie=>{const{latitude:Te,longitude:De}=Ie.coords,O=[Te,De];b(O),U(O)},()=>{console.warn("Could not get user location. Defaulting to Lagos.")})},[]),j.useEffect(()=>{if($.length<3){he([]),re(!1);return}const Ie=setTimeout(async()=>{re(!0),oe(!0);const Te=await Mw($);he(Te),oe(!1)},500);return()=>{clearTimeout(Ie)}},[$]),j.useEffect(()=>{const Ie=Te=>{y.current&&!y.current.contains(Te.target)&&re(!1)};return document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[y]);const ve=()=>{navigator.geolocation.getCurrentPosition(Ie=>{const{latitude:Te,longitude:De}=Ie.coords,O=[Te,De];b(O),U(O)},()=>{alert("Could not get your current location. Please ensure location services are enabled.")},{enableHighAccuracy:!0})},Ee=async Ie=>{Q(Ie),re(!1);const Te=await Nw(Ie);if(Te){const De=[Te.lat,Te.lon];ne({coords:De,name:Ie}),U(De)}else alert(`Could not find location for "${Ie}"`)},We=()=>{var Ie;(Ie=C.current)==null||Ie.zoomIn()},Ye=()=>{var Ie;(Ie=C.current)==null||Ie.zoomOut()};return P.jsxs("div",{className:"relative h-screen w-full overflow-hidden bg-[#121212]",children:[P.jsxs(tT,{center:k,zoom:13,scrollWheelZoom:!0,style:{height:"100%",width:"100%",zIndex:10},ref:C,zoomControl:!1,children:[P.jsx(iT,{center:k,zoom:15}),P.jsx(nT,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:Ae[c].replace("YOUR_API_KEY","b5a8e312f3474c35b5a4b7a7f83b63c7")},c),G&&P.jsx(Bh,{position:G,icon:oT,children:P.jsx(zh,{children:w("ar_you_are_here")})}),K&&P.jsx(Bh,{position:K.coords,children:P.jsx(zh,{children:K.name})})]}),P.jsxs("header",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between text-white",children:[P.jsx("button",{onClick:i,"aria-label":"Open Menu",className:"bg-gray-800/80 backdrop-blur-sm p-3 rounded-full shadow-lg border border-gray-700",children:P.jsx(Ca,{className:"w-6 h-6"})}),P.jsxs("div",{className:"flex-grow mx-4 relative",ref:y,children:[P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",placeholder:w("home_search_placeholder"),className:"w-full bg-gray-800/80 backdrop-blur-sm border border-gray-700 text-white placeholder-gray-400 rounded-full py-3 pl-12 pr-4 shadow-lg focus:outline-none focus:ring-2 focus:ring-[#008751]",value:$,onChange:Ie=>Q(Ie.target.value),onFocus:()=>{$.length>2&&re(!0)}}),P.jsx(xm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),Re&&P.jsx("div",{className:"absolute top-full mt-2 w-full bg-gray-800/90 backdrop-blur-sm border border-gray-700 rounded-xl shadow-lg overflow-hidden z-30",children:P.jsx("ul",{children:te?P.jsx("li",{className:"p-3 text-gray-400",children:w("search_loading")}):le.length>0?le.map((Ie,Te)=>P.jsx("li",{onClick:()=>Ee(Ie),className:"p-3 hover:bg-gray-700 cursor-pointer text-white",children:Ie},Te)):$.length>2&&P.jsx("li",{className:"p-3 text-gray-400",children:w("search_no_results")})})})]}),P.jsx("button",{onClick:()=>e(Ue.Settings),"aria-label":"Open Settings",className:"bg-gray-800/80 backdrop-blur-sm p-2 rounded-full shadow-lg border border-gray-700",children:P.jsx(bs,{src:Hs.avatarUrl,alt:"user",className:"w-8 h-8 rounded-full"})})]}),P.jsxs("div",{className:"absolute bottom-8 right-4 z-[20] flex flex-col space-y-3",children:[P.jsx(Bs,{onClick:We,"aria-label":w("zoom_in_label"),children:P.jsx(Rm,{className:"w-6 h-6"})}),P.jsx(Bs,{onClick:Ye,"aria-label":w("zoom_out_label"),children:P.jsx(Dm,{className:"w-6 h-6"})}),P.jsx(Bs,{onClick:()=>e(Ue.AR),"aria-label":"AR Navigation",children:P.jsx(Oh,{className:"w-6 h-6"})}),P.jsx(Bs,{onClick:ve,"aria-label":"Recenter Map",children:P.jsx(Cm,{className:"w-6 h-6"})}),P.jsx(Bs,{onClick:()=>v(!0),"aria-label":"Map Layers",children:P.jsx(Sm,{className:"w-6 h-6"})})]}),P.jsx("div",{className:"absolute bottom-8 left-4 z-[20]",children:P.jsx("button",{onClick:()=>a(!0),"aria-label":"Open EkoBot",className:"bg-gradient-to-br from-[#008751] to-[#1c5f42] text-white p-4 rounded-full shadow-2xl transform hover:scale-110 transition-transform duration-300",children:P.jsx(Em,{className:"w-7 h-7"})})}),P.jsx(Fw,{isOpen:r,onClose:()=>a(!1)}),m&&P.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 flex items-center justify-center",onClick:()=>v(!1),children:P.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg w-64 text-white",onClick:Ie=>Ie.stopPropagation(),children:[P.jsx("h3",{className:"font-bold text-lg mb-4 text-center",children:w("home_map_layers")}),P.jsx("ul",{className:"space-y-2",children:Object.keys(Ae).map(Ie=>P.jsx("li",{children:P.jsx("button",{onClick:()=>{p(Ie),v(!1)},className:`w-full text-left p-3 rounded-lg transition-colors ${c===Ie?"bg-[#008751] text-white":"hover:bg-gray-700"}`,children:Ie})},Ie))})]})})]})},ma=({icon:i,label:e,isActive:r,onClick:a})=>P.jsxs("li",{onClick:a,className:`flex items-center p-3 my-1 rounded-lg cursor-pointer transition-colors duration-200 ${r?"bg-[#008751] text-white shadow-md":"text-slate-300 hover:bg-gray-700/50"}`,children:[i,P.jsx("span",{className:"ml-4 font-medium",children:e})]}),rT=({isOpen:i,onClose:e,onNavigate:r,currentScreen:a,userProfile:c})=>{const{t:p}=qt(),[m,v]=j.useState(Hs);j.useEffect(()=>{console.log("Sidebar received userProfile:",c),v(c||Hs)},[c]);const w=y=>{r(y),e()};return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:`fixed inset-0 bg-black/60 z-40 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),P.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 bg-[#1A2E27] text-white p-6 z-50 transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full"}`,children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsx("h2",{className:"text-xl font-bold font-poppins",children:p("sidebar_eko_nav")}),P.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-700/50",children:P.jsx(yc,{className:"w-6 h-6"})})]}),P.jsxs("div",{className:"flex items-center p-3 bg-gray-900/50 rounded-lg mb-8",children:[P.jsx(bs,{src:m.avatarUrl,alt:"User",className:"w-12 h-12 rounded-full border-2 border-[#008751]"}),P.jsxs("div",{className:"ml-3",children:[P.jsx("p",{className:"font-bold",children:m.name}),P.jsx("p",{className:"text-sm text-slate-400",children:p("sidebar_welcome_user")})]})]}),P.jsx("nav",{children:P.jsxs("ul",{children:[P.jsx(ma,{icon:P.jsx(vm,{className:"w-6 h-6"}),label:p("sidebar_home"),isActive:a===Ue.Home,onClick:()=>w(Ue.Home)}),P.jsx(ma,{icon:P.jsx(Xi,{className:"w-6 h-6"}),label:p("sidebar_explore"),isActive:a===Ue.Explore,onClick:()=>w(Ue.Explore)}),P.jsx(ma,{icon:P.jsx(vc,{className:"w-6 h-6"}),label:p("sidebar_favorites"),isActive:a===Ue.Favorites,onClick:()=>w(Ue.Favorites)}),P.jsx(ma,{icon:P.jsx(wm,{className:"w-6 h-6"}),label:p("sidebar_settings"),isActive:a===Ue.Settings,onClick:()=>w(Ue.Settings)})]})}),P.jsxs("div",{className:"absolute bottom-6 left-6 text-slate-500 text-xs",children:[P.jsx("p",{children:"EKO v1.0"}),P.jsx("p",{children:"© 2024 Made with ❤️ in Nigeria."})]})]})]})},Hh=[{key:"Trending",tKey:"explore_trending"},{key:"Food",tKey:"explore_food"},{key:"Culture",tKey:"explore_culture"},{key:"Nature",tKey:"explore_nature"},{key:"Events",tKey:"explore_events"}],sT=({place:i})=>{const r={Food:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Culture:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Nature:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Events:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Landmark:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Trending:P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"}),Error:P.jsx(Tm,{className:"w-5 h-5 text-red-500"})}[i.category]||P.jsx(Xi,{className:"w-5 h-5 text-[#F9B233]"});return P.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg hover:bg-gray-700/50 transition-colors",children:[P.jsxs("div",{className:"flex items-center mb-2",children:[P.jsx("div",{className:"mr-3 flex-shrink-0",children:r}),P.jsx("h3",{className:"font-bold text-white text-lg",children:i.name})]}),P.jsx("p",{className:"text-sm text-slate-400 pl-8",children:i.description})]})},lT=({onMenuClick:i})=>{const[e,r]=j.useState(Hh[0].key),[a,c]=j.useState([]),[p,m]=j.useState(!0),[v,w]=j.useState(""),{t:y}=qt();return j.useEffect(()=>{(async()=>{m(!0),w(""),c([]);try{const E=await Rw.getPlacesByCategory(e);c(E)}catch{console.log("Fetching from backend failed, falling back to Gemini API");try{const k=await Iw(e);c(k)}catch(k){w("Failed to load places"),console.error("Both backend and Gemini API failed:",k)}}finally{m(!1)}})()},[e]),P.jsxs("div",{className:"bg-[#121212] min-h-screen text-white flex flex-col",children:[P.jsxs("header",{className:"sticky top-0 bg-[#121212]/80 backdrop-blur-md p-4 z-10 flex items-center justify-between text-white",children:[P.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-700/50",children:P.jsx(Ca,{className:"w-6 h-6"})}),P.jsx("h1",{className:"text-2xl font-bold font-poppins",children:y("explore_header")}),P.jsx("div",{className:"w-10"})," "]}),v&&P.jsx("div",{className:"mx-4 my-2 p-2 bg-red-500 text-white rounded",children:v}),P.jsx("div",{className:"px-4 pt-4",children:P.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 -mx-4 px-4",children:Hh.map(C=>P.jsx("button",{onClick:()=>r(C.key),className:`px-4 py-2 rounded-full font-semibold transition-colors whitespace-nowrap ${e===C.key?"bg-[#008751] text-white":"bg-gray-800/50 text-slate-300 hover:bg-gray-700/50"}`,children:y(C.tKey)},C.key))})}),P.jsx("main",{className:"flex-grow p-4",children:p?P.jsx("div",{className:"flex justify-center items-center h-64",children:P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):P.jsx("div",{className:"space-y-4",children:a.map((C,E)=>P.jsx(sT,{place:C},`${C.name}-${E}`))})})]})},aT=({place:i})=>P.jsxs("div",{className:"flex items-center bg-gray-800/50 p-3 rounded-lg hover:bg-gray-700/50 transition-colors",children:[P.jsx(qh,{src:i.imageUrl,alt:i.name,className:"w-16 h-16 rounded-md object-cover mr-4",fallbackClassName:"bg-gray-700",iconClassName:"w-8 h-8 text-gray-500"}),P.jsxs("div",{className:"flex-grow",children:[P.jsx("h3",{className:"font-bold text-white",children:i.name}),P.jsx("p",{className:"text-sm text-slate-400",children:i.category})]}),P.jsx(vc,{className:"w-6 h-6 text-[#F9B233]"})]}),uT=({onMenuClick:i})=>{const[e,r]=j.useState("favorites"),{t:a}=qt(),c=e==="favorites"?zm:Vm;return P.jsxs("div",{className:"bg-[#121212] min-h-screen text-white flex flex-col",children:[P.jsxs("header",{className:"sticky top-0 bg-[#121212]/80 backdrop-blur-md p-4 z-10 flex items-center justify-between text-white",children:[P.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-700/50",children:P.jsx(Ca,{className:"w-6 h-6"})}),P.jsx("h1",{className:"text-2xl font-bold font-poppins",children:a("favorites_header")}),P.jsx("div",{className:"w-10"})," "]}),P.jsx("div",{className:"px-4 pt-4",children:P.jsxs("div",{className:"flex bg-gray-800/50 rounded-lg p-1",children:[P.jsxs("button",{onClick:()=>r("favorites"),className:`w-1/2 p-2 rounded-md font-semibold transition-colors flex items-center justify-center ${e==="favorites"?"bg-[#008751] text-white":"text-slate-300"}`,children:[P.jsx(vc,{className:"w-5 h-5 mr-2"}),a("favorites_tab")]}),P.jsxs("button",{onClick:()=>r("recents"),className:`w-1/2 p-2 rounded-md font-semibold transition-colors flex items-center justify-center ${e==="recents"?"bg-[#008751] text-white":"text-slate-300"}`,children:[P.jsx(ym,{className:"w-5 h-5 mr-2"}),a("favorites_recents_tab")]})]})}),P.jsx("main",{className:"flex-grow p-4",children:P.jsx("div",{className:"space-y-4",children:c.map(p=>P.jsx(aT,{place:p},p.name))})})]})},cT=({options:i,value:e,onChange:r})=>P.jsxs("div",{className:"relative",children:[P.jsx("select",{value:e,onChange:r,className:"w-full bg-gray-700 text-white p-2 rounded-md appearance-none focus:outline-none focus:ring-2 focus:ring-[#008751]",children:i.map(a=>P.jsx("option",{value:a,children:a},a))}),P.jsx(Im,{className:"w-5 h-5 absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"})]}),dT=({section:i,settings:e,setSettings:r,onSettingChange:a})=>{const{t:c}=qt(),p=m=>c({theme:"settings_theme",language:"settings_language",mapSource:"settings_map_source"}[m]);return P.jsxs("div",{className:"mb-8",children:[P.jsx("h3",{className:"text-lg font-bold text-slate-400 mb-4 px-2",children:c("settings_preferences")}),P.jsx("div",{className:"bg-gray-800/50 rounded-lg",children:i.items.map((m,v)=>P.jsxs("div",{className:`flex items-center justify-between p-4 ${v<i.items.length-1?"border-b border-gray-700":""}`,children:[P.jsx("label",{className:"text-white",children:p(m.key)}),m.type==="select"&&m.options&&P.jsx("div",{className:"w-40",children:P.jsx(cT,{options:m.options,value:e[m.key],onChange:w=>{const y=w.target.value;r(C=>({...C,[m.key]:y})),a(m.key,y)}})})]},m.label))})]})},fT=({onMenuClick:i,settings:e,setSettings:r,userProfile:a})=>{const{t:c}=qt(),[p,m]=j.useState(""),[v,w]=j.useState(""),y=a||Hs,C=async(k,U)=>{try{m(""),w("");const G={[k]:U};await gp.updateSettings(G),w("Settings saved successfully"),setTimeout(()=>w(""),3e3)}catch(G){m(G.message||"Failed to save settings")}},E=()=>{localStorage.removeItem("ekoToken"),window.location.reload()};return P.jsxs("div",{className:"bg-[#121212] min-h-screen text-white",children:[P.jsxs("header",{className:"sticky top-0 bg-[#121212]/80 backdrop-blur-md p-4 z-10 flex items-center justify-between text-white",children:[P.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-700/50",children:P.jsx(Ca,{className:"w-6 h-6"})}),P.jsx("h1",{className:"text-2xl font-bold font-poppins",children:c("settings_header")}),P.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700/50",children:P.jsx(bs,{src:y.avatarUrl,alt:"user",className:"w-8 h-8 rounded-full"})})]}),P.jsxs("div",{className:"p-4",children:[p&&P.jsx("div",{className:"mb-4 p-2 bg-red-500 text-white rounded",children:p}),v&&P.jsx("div",{className:"mb-4 p-2 bg-green-500 text-white rounded",children:v}),P.jsxs("div",{className:"mb-8",children:[P.jsx("h3",{className:"text-lg font-bold text-slate-400 mb-4 px-2",children:c("settings_account")}),P.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsx(bs,{src:y.avatarUrl,alt:"User",className:"w-16 h-16 rounded-full border-2 border-[#008751]"}),P.jsxs("div",{className:"ml-4",children:[P.jsx("p",{className:"font-bold text-xl",children:y.name}),P.jsx("p",{className:"text-sm text-slate-400",children:y.email})]})]}),P.jsx("button",{onClick:E,className:"bg-red-600/80 hover:bg-red-700/80 text-white font-bold py-2 px-4 rounded-lg transition",children:c("settings_logout")})]})]}),Bm.map(k=>P.jsx(dT,{section:k,settings:e,setSettings:r,onSettingChange:C},k.title)),P.jsxs("div",{className:"text-center text-slate-500 text-sm mt-12",children:[P.jsx("p",{children:"EKO Navigation v1.0"}),P.jsx("p",{children:"Made with ❤️ in Nigeria."})]})]})]})},hT=()=>P.jsx("div",{className:"text-5xl font-bold font-poppins text-gray-100 mb-4",children:"EKO"}),pT=({onComplete:i,onSignup:e})=>{const{t:r}=qt(),[a,c]=j.useState(!1),[p,m]=j.useState(""),[v,w]=j.useState(""),[y,C]=j.useState(""),E=async U=>{U.preventDefault(),C("");try{await xa.login({email:p,password:v}),i()}catch(G){C(G.message||"Login failed")}},k=async()=>{c(!0),C("");const U="mock-google-auth-token";try{const G=await xa.googleLogin(U);console.log("Backend login successful:",G),i()}catch(G){C(G.message||"Google login failed")}finally{c(!1)}};return P.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-[#1A2E27] text-white p-6",children:P.jsxs("div",{className:"w-full max-w-sm text-center",children:[P.jsx(hT,{}),P.jsx("h2",{className:"text-2xl font-bold font-poppins mb-2",children:r("login_welcome")}),P.jsx("p",{className:"text-slate-300 mb-8",children:r("login_tagline")}),y&&P.jsx("div",{className:"mb-4 p-2 bg-red-500 text-white rounded",children:y}),P.jsxs("div",{className:"bg-[#121212] p-8 rounded-2xl shadow-2xl space-y-6",children:[P.jsx("input",{type:"email",placeholder:r("email_placeholder"),className:"w-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751]",value:p,onChange:U=>m(U.target.value)}),P.jsx("input",{type:"password",placeholder:r("password_placeholder"),className:"w-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751]",value:v,onChange:U=>w(U.target.value)}),P.jsx("button",{onClick:E,className:"w-full bg-[#008751] hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg transform hover:scale-105",children:r("login_button")}),P.jsxs("div",{className:"flex items-center",children:[P.jsx("div",{className:"flex-grow border-t border-gray-600"}),P.jsx("span",{className:"flex-shrink mx-4 text-gray-400",children:r("or_divider")}),P.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),P.jsxs("button",{onClick:k,disabled:a,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center disabled:opacity-60 disabled:cursor-wait",children:[a?P.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[P.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),P.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):P.jsx(km,{className:"w-5 h-5 mr-2"}),r(a?"login_google_loading":"login_google")]})]}),P.jsxs("p",{className:"mt-8 text-slate-400",children:[r("login_no_account")," ",P.jsx("button",{onClick:e,className:"font-bold text-[#F9B233] hover:underline",children:r("login_signup_link")})]})]})})},mT=()=>P.jsx("div",{className:"text-5xl font-bold font-poppins text-gray-100 mb-4",children:"EKO"}),gT=({onComplete:i,onLogin:e})=>{const{t:r}=qt(),[a,c]=j.useState(""),[p,m]=j.useState(""),[v,w]=j.useState(""),[y,C]=j.useState(""),E=async k=>{k.preventDefault(),C("");try{await xa.register({name:a,email:p,password:v}),i()}catch(U){C(U.message||"Signup failed")}};return P.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-[#1A2E27] text-white p-6",children:P.jsxs("div",{className:"w-full max-w-sm text-center",children:[P.jsx(mT,{}),P.jsx("h2",{className:"text-2xl font-bold font-poppins mb-2",children:r("signup_create_account")}),P.jsx("p",{className:"text-slate-300 mb-8",children:r("signup_tagline")}),y&&P.jsx("div",{className:"mb-4 p-2 bg-red-500 text-white rounded",children:y}),P.jsxs("div",{className:"bg-[#121212] p-8 rounded-2xl shadow-2xl space-y-6",children:[P.jsx("input",{type:"text",placeholder:r("fullname_placeholder"),className:"w-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751]",value:a,onChange:k=>c(k.target.value)}),P.jsx("input",{type:"email",placeholder:r("email_placeholder"),className:"w-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751]",value:p,onChange:k=>m(k.target.value)}),P.jsx("input",{type:"password",placeholder:r("password_placeholder"),className:"w-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#008751]",value:v,onChange:k=>w(k.target.value)}),P.jsx("button",{onClick:E,className:"w-full bg-[#008751] hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg transform hover:scale-105",children:r("signup_button")})]}),P.jsxs("p",{className:"mt-8 text-slate-400",children:[r("signup_has_account")," ",P.jsx("button",{onClick:e,className:"font-bold text-[#F9B233] hover:underline",children:r("signup_login_link")})]})]})})},_T=({onExit:i})=>{const{t:e}=qt(),r=j.useRef(null),a=j.useRef(null);return j.useEffect(()=>((async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r.current&&(r.current.srcObject=p),a.current=p}catch(p){console.error("Error accessing camera:",p),alert("Could not access the camera. Please ensure permissions are granted. AR mode requires camera access."),i()}})(),()=>{a.current&&a.current.getTracks().forEach(p=>p.stop())}),[i]),P.jsxs("div",{className:"relative h-screen w-full bg-black text-white",children:[P.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}),P.jsx("div",{className:"absolute inset-0 bg-black/20"}),P.jsxs("header",{className:"absolute top-0 left-0 right-0 p-4 z-20 flex items-center justify-between",children:[P.jsx("h1",{className:"text-xl font-bold bg-black/50 p-2 rounded-lg backdrop-blur-sm",children:"AR Navigation Mode"}),P.jsx("button",{onClick:i,"aria-label":"Exit AR Mode",className:"bg-red-600/80 backdrop-blur-sm p-3 rounded-full shadow-lg border border-red-500",children:P.jsx(yc,{className:"w-6 h-6"})})]}),P.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 bg-black/60 p-4 rounded-xl text-center backdrop-blur-sm",children:[P.jsx("p",{className:"font-bold text-lg",children:"Lekki Conservation Centre"}),P.jsx("p",{className:"text-slate-300",children:"Turn right in 50 meters"})]}),P.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center pointer-events-none",children:[P.jsxs("div",{className:"relative flex items-center justify-center w-20 h-20",children:[P.jsx("div",{className:"absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75 animate-ping"}),P.jsx("div",{className:"relative w-6 h-6 bg-sky-500 rounded-full border-2 border-white shadow-lg"})]}),P.jsx("p",{className:"-mt-2 font-semibold text-white bg-black/50 px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:e("ar_you_are_here")})]})]})},vT=()=>{const[i,e]=j.useState(Ue.Splash),[r,a]=j.useState(!1),[c,p]=j.useState({theme:"Dark",language:"English",mapSource:"OpenStreetMap"}),[m,v]=j.useState(!1),[w,y]=j.useState(null),[C,E]=j.useState(!1);j.useEffect(()=>{(async()=>{const Q=localStorage.getItem("ekoToken");console.log("Checking authentication token:",Q),Q&&(v(!0),await k())})()},[]);const k=async()=>{if(!C)try{E(!0),console.log("Fetching user profile...");const $=await gp.getProfile();console.log("User profile fetched:",$),y($)}catch($){console.error("Failed to fetch user profile:",$),b()}finally{E(!1)}};j.useEffect(()=>{m&&k()},[m]),j.useEffect(()=>{if(i===Ue.Splash){const $=setTimeout(()=>{e(m?Ue.Home:Ue.Login)},2500);return()=>clearTimeout($)}},[i,m]),j.useEffect(()=>{const $=document.body;c.theme==="Light"?($.classList.remove("dark"),$.style.backgroundColor="#F3F4F6"):($.classList.add("dark"),$.style.backgroundColor="#121212")},[c.theme]);const U=()=>{console.log("Login completed, fetching user profile..."),v(!0),k(),e(Ue.Permissions)},G=()=>{console.log("Signup completed, fetching user profile..."),v(!0),k(),e(Ue.Permissions)},b=()=>{console.log("Logging out..."),xa.logout(),v(!1),y(null),e(Ue.Login)},K=()=>{switch(i){case Ue.Splash:return P.jsx(mm,{});case Ue.Onboarding:return P.jsx(Um,{onComplete:()=>e(Ue.Login)});case Ue.Login:return P.jsx(pT,{onSignup:()=>e(Ue.Signup),onComplete:U});case Ue.Signup:return P.jsx(gT,{onLogin:()=>e(Ue.Login),onComplete:G});case Ue.Permissions:return P.jsx(Fm,{onComplete:()=>e(Ue.Home)});case Ue.Home:return P.jsx(Vh,{onMenuClick:()=>a(!0),onNavigate:e,mapSource:c.mapSource});case Ue.Explore:return P.jsx(lT,{onMenuClick:()=>a(!0)});case Ue.Favorites:return P.jsx(uT,{onMenuClick:()=>a(!0)});case Ue.Settings:return P.jsx(fT,{onMenuClick:()=>a(!0),settings:c,setSettings:p,userProfile:w});case Ue.AR:return P.jsx(_T,{onExit:()=>e(Ue.Home)});default:return P.jsx(Vh,{onMenuClick:()=>a(!0),onNavigate:e,mapSource:c.mapSource})}},ne=![Ue.Splash,Ue.Onboarding,Ue.Permissions,Ue.Login,Ue.Signup,Ue.AR].includes(i);return j.useEffect(()=>{console.log("User profile updated:",w)},[w]),P.jsx(hm,{value:c.language,setValue:$=>p(Q=>({...Q,language:$})),children:P.jsxs("div",{className:"h-screen w-screen overflow-hidden",children:[K(),ne&&P.jsx(rT,{isOpen:r,onClose:()=>a(!1),onNavigate:$=>e($),currentScreen:i,userProfile:w})]})})},xp=document.getElementById("root");if(!xp)throw new Error("Could not find root element to mount to");const yT=fm.createRoot(xp);yT.render(P.jsx(va.StrictMode,{children:P.jsx(vT,{})}));
